(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wi(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ae={},nn=[],ut=()=>{},Qa=()=>!1,yr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),vi=e=>e.startsWith("onUpdate:"),xe=Object.assign,ki=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},el=Object.prototype.hasOwnProperty,te=(e,t)=>el.call(e,t),j=Array.isArray,rn=e=>br(e)==="[object Map]",so=e=>br(e)==="[object Set]",q=e=>typeof e=="function",ve=e=>typeof e=="string",_t=e=>typeof e=="symbol",pe=e=>e!==null&&typeof e=="object",oo=e=>(pe(e)||q(e))&&q(e.then)&&q(e.catch),ao=Object.prototype.toString,br=e=>ao.call(e),tl=e=>br(e).slice(8,-1),lo=e=>br(e)==="[object Object]",xi=e=>ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,kn=wi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},nl=/-(\w)/g,Dt=wr(e=>e.replace(nl,(t,n)=>n?n.toUpperCase():"")),rl=/\B([A-Z])/g,Jt=wr(e=>e.replace(rl,"-$1").toLowerCase()),uo=wr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pr=wr(e=>e?`on${uo(e)}`:""),Lt=(e,t)=>!Object.is(e,t),Br=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Qr=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},il=e=>{const t=parseFloat(e);return isNaN(t)?e:t},sl=e=>{const t=ve(e)?Number(e):NaN;return isNaN(t)?e:t};let es;const vr=()=>es||(es=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ct(e){if(j(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=ve(r)?ul(r):ct(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(ve(e)||pe(e))return e}const ol=/;(?![^(]*\))/g,al=/:([^]+)/,ll=/\/\*[^]*?\*\//g;function ul(e){const t={};return e.replace(ll,"").split(ol).forEach(n=>{if(n){const r=n.split(al);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function fe(e){let t="";if(ve(e))t=e;else if(j(e))for(let n=0;n<e.length;n++){const r=fe(e[n]);r&&(t+=r+" ")}else if(pe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const cl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dl=wi(cl);function co(e){return!!e||e===""}const fo=e=>!!(e&&e.__v_isRef===!0),le=e=>ve(e)?e:e==null?"":j(e)||pe(e)&&(e.toString===ao||!q(e.toString))?fo(e)?le(e.value):JSON.stringify(e,po,2):String(e),po=(e,t)=>fo(t)?po(e,t.value):rn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[Hr(r,s)+" =>"]=i,n),{})}:so(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Hr(n))}:_t(t)?Hr(t):pe(t)&&!j(t)&&!lo(t)?String(t):t,Hr=(e,t="")=>{var n;return _t(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ne;class fl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ne,!t&&Ne&&(this.index=(Ne.scopes||(Ne.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ne;try{return Ne=this,t()}finally{Ne=n}}}on(){++this._on===1&&(this.prevScope=Ne,Ne=this)}off(){this._on>0&&--this._on===0&&(Ne=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function pl(){return Ne}let de;const Or=new WeakSet;class ho{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ne&&Ne.active&&Ne.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Or.has(this)&&(Or.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||go(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ts(this),yo(this);const t=de,n=Ye;de=this,Ye=!0;try{return this.fn()}finally{bo(this),de=t,Ye=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ti(t);this.deps=this.depsTail=void 0,ts(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Or.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ei(this)&&this.run()}get dirty(){return ei(this)}}let mo=0,xn,Sn;function go(e,t=!1){if(e.flags|=8,t){e.next=Sn,Sn=e;return}e.next=xn,xn=e}function Si(){mo++}function _i(){if(--mo>0)return;if(Sn){let t=Sn;for(Sn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;xn;){let t=xn;for(xn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function yo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function bo(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Ti(r),hl(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function ei(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(wo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function wo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===An)||(e.globalVersion=An,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ei(e))))return;e.flags|=2;const t=e.dep,n=de,r=Ye;de=e,Ye=!0;try{yo(e);const i=e.fn(e._value);(t.version===0||Lt(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{de=n,Ye=r,bo(e),e.flags&=-3}}function Ti(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Ti(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function hl(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ye=!0;const vo=[];function kt(){vo.push(Ye),Ye=!1}function xt(){const e=vo.pop();Ye=e===void 0?!0:e}function ts(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=de;de=void 0;try{t()}finally{de=n}}}let An=0;class ml{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ci{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!de||!Ye||de===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==de)n=this.activeLink=new ml(de,this),de.deps?(n.prevDep=de.depsTail,de.depsTail.nextDep=n,de.depsTail=n):de.deps=de.depsTail=n,ko(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=de.depsTail,n.nextDep=void 0,de.depsTail.nextDep=n,de.depsTail=n,de.deps===n&&(de.deps=r)}return n}trigger(t){this.version++,An++,this.notify(t)}notify(t){Si();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{_i()}}}function ko(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ko(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ti=new WeakMap,Ut=Symbol(""),ni=Symbol(""),Mn=Symbol("");function $e(e,t,n){if(Ye&&de){let r=ti.get(e);r||ti.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new Ci),i.map=r,i.key=n),i.track()}}function gt(e,t,n,r,i,s){const o=ti.get(e);if(!o){An++;return}const a=l=>{l&&l.trigger()};if(Si(),t==="clear")o.forEach(a);else{const l=j(e),d=l&&xi(n);if(l&&n==="length"){const u=Number(r);o.forEach((c,m)=>{(m==="length"||m===Mn||!_t(m)&&m>=u)&&a(c)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),d&&a(o.get(Mn)),t){case"add":l?d&&a(o.get("length")):(a(o.get(Ut)),rn(e)&&a(o.get(ni)));break;case"delete":l||(a(o.get(Ut)),rn(e)&&a(o.get(ni)));break;case"set":rn(e)&&a(o.get(Ut));break}}_i()}function Zt(e){const t=Q(e);return t===e?t:($e(t,"iterate",Mn),Fe(e)?t:t.map(Se))}function kr(e){return $e(e=Q(e),"iterate",Mn),e}const gl={__proto__:null,[Symbol.iterator](){return Nr(this,Symbol.iterator,Se)},concat(...e){return Zt(this).concat(...e.map(t=>j(t)?Zt(t):t))},entries(){return Nr(this,"entries",e=>(e[1]=Se(e[1]),e))},every(e,t){return ft(this,"every",e,t,void 0,arguments)},filter(e,t){return ft(this,"filter",e,t,n=>n.map(Se),arguments)},find(e,t){return ft(this,"find",e,t,Se,arguments)},findIndex(e,t){return ft(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ft(this,"findLast",e,t,Se,arguments)},findLastIndex(e,t){return ft(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ft(this,"forEach",e,t,void 0,arguments)},includes(...e){return Wr(this,"includes",e)},indexOf(...e){return Wr(this,"indexOf",e)},join(e){return Zt(this).join(e)},lastIndexOf(...e){return Wr(this,"lastIndexOf",e)},map(e,t){return ft(this,"map",e,t,void 0,arguments)},pop(){return pn(this,"pop")},push(...e){return pn(this,"push",e)},reduce(e,...t){return ns(this,"reduce",e,t)},reduceRight(e,...t){return ns(this,"reduceRight",e,t)},shift(){return pn(this,"shift")},some(e,t){return ft(this,"some",e,t,void 0,arguments)},splice(...e){return pn(this,"splice",e)},toReversed(){return Zt(this).toReversed()},toSorted(e){return Zt(this).toSorted(e)},toSpliced(...e){return Zt(this).toSpliced(...e)},unshift(...e){return pn(this,"unshift",e)},values(){return Nr(this,"values",Se)}};function Nr(e,t,n){const r=kr(e),i=r[t]();return r!==e&&!Fe(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const yl=Array.prototype;function ft(e,t,n,r,i,s){const o=kr(e),a=o!==e&&!Fe(e),l=o[t];if(l!==yl[t]){const c=l.apply(e,s);return a?Se(c):c}let d=n;o!==e&&(a?d=function(c,m){return n.call(this,Se(c),m,e)}:n.length>2&&(d=function(c,m){return n.call(this,c,m,e)}));const u=l.call(o,d,r);return a&&i?i(u):u}function ns(e,t,n,r){const i=kr(e);let s=n;return i!==e&&(Fe(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,Se(a),l,e)}),i[t](s,...r)}function Wr(e,t,n){const r=Q(e);$e(r,"iterate",Mn);const i=r[t](...n);return(i===-1||i===!1)&&Mi(n[0])?(n[0]=Q(n[0]),r[t](...n)):i}function pn(e,t,n=[]){kt(),Si();const r=Q(e)[t].apply(e,n);return _i(),xt(),r}const bl=wi("__proto__,__v_isRef,__isVue"),xo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(_t));function wl(e){_t(e)||(e=String(e));const t=Q(this);return $e(t,"has",e),t.hasOwnProperty(e)}class So{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Ml:$o:s?Co:To).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=j(t);if(!i){let l;if(o&&(l=gl[n]))return l;if(n==="hasOwnProperty")return wl}const a=Reflect.get(t,n,Ie(t)?t:r);return(_t(n)?xo.has(n):bl(n))||(i||$e(t,"get",n),s)?a:Ie(a)?o&&xi(n)?a:a.value:pe(a)?i?Ao(a):un(a):a}}class _o extends So{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const l=Pt(s);if(!Fe(r)&&!Pt(r)&&(s=Q(s),r=Q(r)),!j(t)&&Ie(s)&&!Ie(r))return l?!1:(s.value=r,!0)}const o=j(t)&&xi(n)?Number(n)<t.length:te(t,n),a=Reflect.set(t,n,r,Ie(t)?t:i);return t===Q(i)&&(o?Lt(r,s)&&gt(t,"set",n,r):gt(t,"add",n,r)),a}deleteProperty(t,n){const r=te(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&gt(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!_t(n)||!xo.has(n))&&$e(t,"has",n),r}ownKeys(t){return $e(t,"iterate",j(t)?"length":Ut),Reflect.ownKeys(t)}}class vl extends So{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const kl=new _o,xl=new vl,Sl=new _o(!0);const ri=e=>e,Fn=e=>Reflect.getPrototypeOf(e);function _l(e,t,n){return function(...r){const i=this.__v_raw,s=Q(i),o=rn(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,d=i[e](...r),u=n?ri:t?rr:Se;return!t&&$e(s,"iterate",l?ni:Ut),{next(){const{value:c,done:m}=d.next();return m?{value:c,done:m}:{value:a?[u(c[0]),u(c[1])]:u(c),done:m}},[Symbol.iterator](){return this}}}}function Vn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Tl(e,t){const n={get(i){const s=this.__v_raw,o=Q(s),a=Q(i);e||(Lt(i,a)&&$e(o,"get",i),$e(o,"get",a));const{has:l}=Fn(o),d=t?ri:e?rr:Se;if(l.call(o,i))return d(s.get(i));if(l.call(o,a))return d(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!e&&$e(Q(i),"iterate",Ut),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=Q(s),a=Q(i);return e||(Lt(i,a)&&$e(o,"has",i),$e(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=Q(a),d=t?ri:e?rr:Se;return!e&&$e(l,"iterate",Ut),a.forEach((u,c)=>i.call(s,d(u),d(c),o))}};return xe(n,e?{add:Vn("add"),set:Vn("set"),delete:Vn("delete"),clear:Vn("clear")}:{add(i){!t&&!Fe(i)&&!Pt(i)&&(i=Q(i));const s=Q(this);return Fn(s).has.call(s,i)||(s.add(i),gt(s,"add",i,i)),this},set(i,s){!t&&!Fe(s)&&!Pt(s)&&(s=Q(s));const o=Q(this),{has:a,get:l}=Fn(o);let d=a.call(o,i);d||(i=Q(i),d=a.call(o,i));const u=l.call(o,i);return o.set(i,s),d?Lt(s,u)&&gt(o,"set",i,s):gt(o,"add",i,s),this},delete(i){const s=Q(this),{has:o,get:a}=Fn(s);let l=o.call(s,i);l||(i=Q(i),l=o.call(s,i)),a&&a.call(s,i);const d=s.delete(i);return l&&gt(s,"delete",i,void 0),d},clear(){const i=Q(this),s=i.size!==0,o=i.clear();return s&&gt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=_l(i,e,t)}),n}function $i(e,t){const n=Tl(e,t);return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(te(n,i)&&i in r?n:r,i,s)}const Cl={get:$i(!1,!1)},$l={get:$i(!1,!0)},Al={get:$i(!0,!1)};const To=new WeakMap,Co=new WeakMap,$o=new WeakMap,Ml=new WeakMap;function Rl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Il(e){return e.__v_skip||!Object.isExtensible(e)?0:Rl(tl(e))}function un(e){return Pt(e)?e:Ai(e,!1,kl,Cl,To)}function Ll(e){return Ai(e,!1,Sl,$l,Co)}function Ao(e){return Ai(e,!0,xl,Al,$o)}function Ai(e,t,n,r,i){if(!pe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=Il(e);if(s===0)return e;const o=i.get(e);if(o)return o;const a=new Proxy(e,s===2?r:n);return i.set(e,a),a}function sn(e){return Pt(e)?sn(e.__v_raw):!!(e&&e.__v_isReactive)}function Pt(e){return!!(e&&e.__v_isReadonly)}function Fe(e){return!!(e&&e.__v_isShallow)}function Mi(e){return e?!!e.__v_raw:!1}function Q(e){const t=e&&e.__v_raw;return t?Q(t):e}function El(e){return!te(e,"__v_skip")&&Object.isExtensible(e)&&Qr(e,"__v_skip",!0),e}const Se=e=>pe(e)?un(e):e,rr=e=>pe(e)?Ao(e):e;function Ie(e){return e?e.__v_isRef===!0:!1}function De(e){return Mo(e,!1)}function Dl(e){return Mo(e,!0)}function Mo(e,t){return Ie(e)?e:new Pl(e,t)}class Pl{constructor(t,n){this.dep=new Ci,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Q(t),this._value=n?t:Se(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Fe(t)||Pt(t);t=r?t:Q(t),Lt(t,n)&&(this._rawValue=t,this._value=r?t:Se(t),this.dep.trigger())}}function _(e){return Ie(e)?e.value:e}const Bl={get:(e,t,n)=>t==="__v_raw"?e:_(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Ie(i)&&!Ie(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Ro(e){return sn(e)?e:new Proxy(e,Bl)}class Hl{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ci(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=An-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&de!==this)return go(this,!0),!0}get value(){const t=this.dep.track();return wo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ol(e,t,n=!1){let r,i;return q(e)?r=e:(r=e.get,i=e.set),new Hl(r,i,n)}const Jn={},ir=new WeakMap;let Gt;function Nl(e,t=!1,n=Gt){if(n){let r=ir.get(n);r||ir.set(n,r=[]),r.push(e)}}function Wl(e,t,n=ae){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,d=R=>i?R:Fe(R)||i===!1||i===0?yt(R,1):yt(R);let u,c,m,k,g=!1,p=!1;if(Ie(e)?(c=()=>e.value,g=Fe(e)):sn(e)?(c=()=>d(e),g=!0):j(e)?(p=!0,g=e.some(R=>sn(R)||Fe(R)),c=()=>e.map(R=>{if(Ie(R))return R.value;if(sn(R))return d(R);if(q(R))return l?l(R,2):R()})):q(e)?t?c=l?()=>l(e,2):e:c=()=>{if(m){kt();try{m()}finally{xt()}}const R=Gt;Gt=u;try{return l?l(e,3,[k]):e(k)}finally{Gt=R}}:c=ut,t&&i){const R=c,W=i===!0?1/0:i;c=()=>yt(R(),W)}const b=pl(),x=()=>{u.stop(),b&&b.active&&ki(b.effects,u)};if(s&&t){const R=t;t=(...W)=>{R(...W),x()}}let L=p?new Array(e.length).fill(Jn):Jn;const B=R=>{if(!(!(u.flags&1)||!u.dirty&&!R))if(t){const W=u.run();if(i||g||(p?W.some((J,se)=>Lt(J,L[se])):Lt(W,L))){m&&m();const J=Gt;Gt=u;try{const se=[W,L===Jn?void 0:p&&L[0]===Jn?[]:L,k];L=W,l?l(t,3,se):t(...se)}finally{Gt=J}}}else u.run()};return a&&a(B),u=new ho(c),u.scheduler=o?()=>o(B,!1):B,k=R=>Nl(R,!1,u),m=u.onStop=()=>{const R=ir.get(u);if(R){if(l)l(R,4);else for(const W of R)W();ir.delete(u)}},t?r?B(!0):L=u.run():o?o(B.bind(null,!0),!0):u.run(),x.pause=u.pause.bind(u),x.resume=u.resume.bind(u),x.stop=x,x}function yt(e,t=1/0,n){if(t<=0||!pe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ie(e))yt(e.value,t,n);else if(j(e))for(let r=0;r<e.length;r++)yt(e[r],t,n);else if(so(e)||rn(e))e.forEach(r=>{yt(r,t,n)});else if(lo(e)){for(const r in e)yt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&yt(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zn(e,t,n,r){try{return r?e(...r):e()}catch(i){xr(i,t,n)}}function Xe(e,t,n,r){if(q(e)){const i=zn(e,t,n,r);return i&&oo(i)&&i.catch(s=>{xr(s,t,n)}),i}if(j(e)){const i=[];for(let s=0;s<e.length;s++)i.push(Xe(e[s],t,n,r));return i}}function xr(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ae;if(t){let a=t.parent;const l=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,l,d)===!1)return}a=a.parent}if(s){kt(),zn(s,null,10,[e,l,d]),xt();return}}zl(e,n,i,r,o)}function zl(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Ee=[];let ot=-1;const on=[];let $t=null,Xt=0;const Io=Promise.resolve();let sr=null;function jl(e){const t=sr||Io;return e?t.then(this?e.bind(this):e):t}function Kl(e){let t=ot+1,n=Ee.length;for(;t<n;){const r=t+n>>>1,i=Ee[r],s=Rn(i);s<e||s===e&&i.flags&2?t=r+1:n=r}return t}function Ri(e){if(!(e.flags&1)){const t=Rn(e),n=Ee[Ee.length-1];!n||!(e.flags&2)&&t>=Rn(n)?Ee.push(e):Ee.splice(Kl(t),0,e),e.flags|=1,Lo()}}function Lo(){sr||(sr=Io.then(Do))}function Gl(e){j(e)?on.push(...e):$t&&e.id===-1?$t.splice(Xt+1,0,e):e.flags&1||(on.push(e),e.flags|=1),Lo()}function rs(e,t,n=ot+1){for(;n<Ee.length;n++){const r=Ee[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Ee.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Eo(e){if(on.length){const t=[...new Set(on)].sort((n,r)=>Rn(n)-Rn(r));if(on.length=0,$t){$t.push(...t);return}for($t=t,Xt=0;Xt<$t.length;Xt++){const n=$t[Xt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}$t=null,Xt=0}}const Rn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Do(e){try{for(ot=0;ot<Ee.length;ot++){const t=Ee[ot];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),zn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ot<Ee.length;ot++){const t=Ee[ot];t&&(t.flags&=-2)}ot=-1,Ee.length=0,Eo(),sr=null,(Ee.length||on.length)&&Do()}}let Te=null,Po=null;function or(e){const t=Te;return Te=e,Po=e&&e.type.__scopeId||null,t}function St(e,t=Te,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&ps(-1);const s=or(t);let o;try{o=e(...i)}finally{or(s),r._d&&ps(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Rt(e,t){if(Te===null)return e;const n=Ar(Te),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,o,a,l=ae]=t[i];s&&(q(s)&&(s={mounted:s,updated:s}),s.deep&&yt(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Wt(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(kt(),Xe(l,n,8,[e.el,a,e,t]),xt())}}const ql=Symbol("_vte"),Bo=e=>e.__isTeleport,At=Symbol("_leaveCb"),Yn=Symbol("_enterCb");function Ul(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Tr(()=>{e.isMounted=!0}),Go(()=>{e.isUnmounting=!0}),e}const qe=[Function,Array],Ho={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qe,onEnter:qe,onAfterEnter:qe,onEnterCancelled:qe,onBeforeLeave:qe,onLeave:qe,onAfterLeave:qe,onLeaveCancelled:qe,onBeforeAppear:qe,onAppear:qe,onAfterAppear:qe,onAppearCancelled:qe},Oo=e=>{const t=e.subTree;return t.component?Oo(t.component):t},Fl={name:"BaseTransition",props:Ho,setup(e,{slots:t}){const n=da(),r=Ul();return()=>{const i=t.default&&zo(t.default(),!0);if(!i||!i.length)return;const s=No(i),o=Q(e),{mode:a}=o;if(r.isLeaving)return zr(s);const l=is(s);if(!l)return zr(s);let d=ii(l,o,r,n,c=>d=c);l.type!==Ae&&In(l,d);let u=n.subTree&&is(n.subTree);if(u&&u.type!==Ae&&!qt(l,u)&&Oo(n).type!==Ae){let c=ii(u,o,r,n);if(In(u,c),a==="out-in"&&l.type!==Ae)return r.isLeaving=!0,c.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete c.afterLeave,u=void 0},zr(s);a==="in-out"&&l.type!==Ae?c.delayLeave=(m,k,g)=>{const p=Wo(r,u);p[String(u.key)]=u,m[At]=()=>{k(),m[At]=void 0,delete d.delayedLeave,u=void 0},d.delayedLeave=()=>{g(),delete d.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function No(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Ae){t=n;break}}return t}const Vl=Fl;function Wo(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ii(e,t,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:m,onLeave:k,onAfterLeave:g,onLeaveCancelled:p,onBeforeAppear:b,onAppear:x,onAfterAppear:L,onAppearCancelled:B}=t,R=String(e.key),W=Wo(n,e),J=(F,oe)=>{F&&Xe(F,r,9,oe)},se=(F,oe)=>{const me=oe[1];J(F,oe),j(F)?F.every(H=>H.length<=1)&&me():F.length<=1&&me()},Be={mode:o,persisted:a,beforeEnter(F){let oe=l;if(!n.isMounted)if(s)oe=b||l;else return;F[At]&&F[At](!0);const me=W[R];me&&qt(e,me)&&me.el[At]&&me.el[At](),J(oe,[F])},enter(F){let oe=d,me=u,H=c;if(!n.isMounted)if(s)oe=x||d,me=L||u,H=B||c;else return;let he=!1;const Ce=F[Yn]=dt=>{he||(he=!0,dt?J(H,[F]):J(me,[F]),Be.delayedLeave&&Be.delayedLeave(),F[Yn]=void 0)};oe?se(oe,[F,Ce]):Ce()},leave(F,oe){const me=String(e.key);if(F[Yn]&&F[Yn](!0),n.isUnmounting)return oe();J(m,[F]);let H=!1;const he=F[At]=Ce=>{H||(H=!0,oe(),Ce?J(p,[F]):J(g,[F]),F[At]=void 0,W[me]===e&&delete W[me])};W[me]=e,k?se(k,[F,he]):he()},clone(F){const oe=ii(F,t,n,r,i);return i&&i(oe),oe}};return Be}function zr(e){if(Sr(e))return e=Bt(e),e.children=null,e}function is(e){if(!Sr(e))return Bo(e.type)&&e.children?No(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&q(n.default))return n.default()}}function In(e,t){e.shapeFlag&6&&e.component?(e.transition=t,In(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zo(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===z?(o.patchFlag&128&&i++,r=r.concat(zo(o.children,t,a))):(t||o.type!==Ae)&&r.push(a!=null?Bt(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function We(e,t){return q(e)?xe({name:e.name},t,{setup:e}):e}function jo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Jl(e){const t=da(),n=Dl(null);if(t){const i=t.refs===ae?t.refs={}:t.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function _n(e,t,n,r,i=!1){if(j(e)){e.forEach((g,p)=>_n(g,t&&(j(t)?t[p]:t),n,r,i));return}if(an(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&_n(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?Ar(r.component):r.el,o=i?null:s,{i:a,r:l}=e,d=t&&t.r,u=a.refs===ae?a.refs={}:a.refs,c=a.setupState,m=Q(c),k=c===ae?()=>!1:g=>te(m,g);if(d!=null&&d!==l&&(ve(d)?(u[d]=null,k(d)&&(c[d]=null)):Ie(d)&&(d.value=null)),q(l))zn(l,a,12,[o,u]);else{const g=ve(l),p=Ie(l);if(g||p){const b=()=>{if(e.f){const x=g?k(l)?c[l]:u[l]:l.value;i?j(x)&&ki(x,s):j(x)?x.includes(s)||x.push(s):g?(u[l]=[s],k(l)&&(c[l]=u[l])):(l.value=[s],e.k&&(u[e.k]=l.value))}else g?(u[l]=o,k(l)&&(c[l]=o)):p&&(l.value=o,e.k&&(u[e.k]=o))};o?(b.id=-1,je(b,n)):b()}}}vr().requestIdleCallback;vr().cancelIdleCallback;const an=e=>!!e.type.__asyncLoader,Sr=e=>e.type.__isKeepAlive;function Yl(e,t){Ko(e,"a",t)}function Zl(e,t){Ko(e,"da",t)}function Ko(e,t,n=Me){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(_r(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Sr(i.parent.vnode)&&Xl(r,t,n,i),i=i.parent}}function Xl(e,t,n,r){const i=_r(t,e,r,!0);jn(()=>{ki(r[t],i)},n)}function _r(e,t,n=Me,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{kt();const a=Kn(n),l=Xe(t,n,e,o);return a(),xt(),l});return r?i.unshift(s):i.push(s),s}}const Tt=e=>(t,n=Me)=>{(!Dn||e==="sp")&&_r(e,(...r)=>t(...r),n)},Ql=Tt("bm"),Tr=Tt("m"),eu=Tt("bu"),tu=Tt("u"),Go=Tt("bum"),jn=Tt("um"),nu=Tt("sp"),ru=Tt("rtg"),iu=Tt("rtc");function su(e,t=Me){_r("ec",e,t)}const ou=Symbol.for("v-ndc");function Ke(e,t,n,r){let i;const s=n,o=j(e);if(o||ve(e)){const a=o&&sn(e);let l=!1,d=!1;a&&(l=!Fe(e),d=Pt(e),e=kr(e)),i=new Array(e.length);for(let u=0,c=e.length;u<c;u++)i[u]=t(l?d?rr(Se(e[u])):Se(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s)}else if(pe(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,d=a.length;l<d;l++){const u=a[l];i[l]=t(e[u],u,l,s)}}else i=[];return i}function au(e,t,n={},r,i){if(Te.ce||Te.parent&&an(Te.parent)&&Te.parent.ce)return S(),_e(z,null,[U("slot",n,r)],64);let s=e[t];s&&s._c&&(s._d=!1),S();const o=s&&qo(s(n)),a=n.key||o&&o.key,l=_e(z,{key:(a&&!_t(a)?a:`_${t}`)+""},o||[],o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function qo(e){return e.some(t=>En(t)?!(t.type===Ae||t.type===z&&!qo(t.children)):!0)?e:null}const si=e=>e?fa(e)?Ar(e):si(e.parent):null,Tn=xe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>si(e.parent),$root:e=>si(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Fo(e),$forceUpdate:e=>e.f||(e.f=()=>{Ri(e.update)}),$nextTick:e=>e.n||(e.n=jl.bind(e.proxy)),$watch:e=>Mu.bind(e)}),jr=(e,t)=>e!==ae&&!e.__isScriptSetup&&te(e,t),lu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=e;let d;if(t[0]!=="$"){const k=o[t];if(k!==void 0)switch(k){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(jr(r,t))return o[t]=1,r[t];if(i!==ae&&te(i,t))return o[t]=2,i[t];if((d=e.propsOptions[0])&&te(d,t))return o[t]=3,s[t];if(n!==ae&&te(n,t))return o[t]=4,n[t];oi&&(o[t]=0)}}const u=Tn[t];let c,m;if(u)return t==="$attrs"&&$e(e.attrs,"get",""),u(e);if((c=a.__cssModules)&&(c=c[t]))return c;if(n!==ae&&te(n,t))return o[t]=4,n[t];if(m=l.config.globalProperties,te(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return jr(i,t)?(i[t]=n,!0):r!==ae&&te(r,t)?(r[t]=n,!0):te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==ae&&te(e,o)||jr(t,o)||(a=s[0])&&te(a,o)||te(r,o)||te(Tn,o)||te(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:te(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ss(e){return j(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let oi=!0;function uu(e){const t=Fo(e),n=e.proxy,r=e.ctx;oi=!1,t.beforeCreate&&os(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:d,created:u,beforeMount:c,mounted:m,beforeUpdate:k,updated:g,activated:p,deactivated:b,beforeDestroy:x,beforeUnmount:L,destroyed:B,unmounted:R,render:W,renderTracked:J,renderTriggered:se,errorCaptured:Be,serverPrefetch:F,expose:oe,inheritAttrs:me,components:H,directives:he,filters:Ce}=t;if(d&&cu(d,r,null),o)for(const ge in o){const ue=o[ge];q(ue)&&(r[ge]=ue.bind(n))}if(i){const ge=i.call(n,n);pe(ge)&&(e.data=un(ge))}if(oi=!0,s)for(const ge in s){const ue=s[ge],Ot=q(ue)?ue.bind(n,n):q(ue.get)?ue.get.bind(n,n):ut,qn=!q(ue)&&q(ue.set)?ue.set.bind(n):ut,Nt=ie({get:Ot,set:qn});Object.defineProperty(r,ge,{enumerable:!0,configurable:!0,get:()=>Nt.value,set:Qe=>Nt.value=Qe})}if(a)for(const ge in a)Uo(a[ge],r,n,ge);if(l){const ge=q(l)?l.call(n):l;Reflect.ownKeys(ge).forEach(ue=>{gu(ue,ge[ue])})}u&&os(u,e,"c");function ke(ge,ue){j(ue)?ue.forEach(Ot=>ge(Ot.bind(n))):ue&&ge(ue.bind(n))}if(ke(Ql,c),ke(Tr,m),ke(eu,k),ke(tu,g),ke(Yl,p),ke(Zl,b),ke(su,Be),ke(iu,J),ke(ru,se),ke(Go,L),ke(jn,R),ke(nu,F),j(oe))if(oe.length){const ge=e.exposed||(e.exposed={});oe.forEach(ue=>{Object.defineProperty(ge,ue,{get:()=>n[ue],set:Ot=>n[ue]=Ot})})}else e.exposed||(e.exposed={});W&&e.render===ut&&(e.render=W),me!=null&&(e.inheritAttrs=me),H&&(e.components=H),he&&(e.directives=he),F&&jo(e)}function cu(e,t,n=ut){j(e)&&(e=ai(e));for(const r in e){const i=e[r];let s;pe(i)?"default"in i?s=Xn(i.from||r,i.default,!0):s=Xn(i.from||r):s=Xn(i),Ie(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function os(e,t,n){Xe(j(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Uo(e,t,n,r){let i=r.includes(".")?oa(n,r):()=>n[r];if(ve(e)){const s=t[e];q(s)&&Ze(i,s)}else if(q(e))Ze(i,e.bind(n));else if(pe(e))if(j(e))e.forEach(s=>Uo(s,t,n,r));else{const s=q(e.handler)?e.handler.bind(n):t[e.handler];q(s)&&Ze(i,s,e)}}function Fo(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(d=>ar(l,d,o,!0)),ar(l,t,o)),pe(t)&&s.set(t,l),l}function ar(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&ar(e,s,n,!0),i&&i.forEach(o=>ar(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=du[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const du={data:as,props:ls,emits:ls,methods:wn,computed:wn,beforeCreate:Le,created:Le,beforeMount:Le,mounted:Le,beforeUpdate:Le,updated:Le,beforeDestroy:Le,beforeUnmount:Le,destroyed:Le,unmounted:Le,activated:Le,deactivated:Le,errorCaptured:Le,serverPrefetch:Le,components:wn,directives:wn,watch:pu,provide:as,inject:fu};function as(e,t){return t?e?function(){return xe(q(e)?e.call(this,this):e,q(t)?t.call(this,this):t)}:t:e}function fu(e,t){return wn(ai(e),ai(t))}function ai(e){if(j(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Le(e,t){return e?[...new Set([].concat(e,t))]:t}function wn(e,t){return e?xe(Object.create(null),e,t):t}function ls(e,t){return e?j(e)&&j(t)?[...new Set([...e,...t])]:xe(Object.create(null),ss(e),ss(t??{})):t}function pu(e,t){if(!e)return t;if(!t)return e;const n=xe(Object.create(null),e);for(const r in t)n[r]=Le(e[r],t[r]);return n}function Vo(){return{app:null,config:{isNativeTag:Qa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hu=0;function mu(e,t){return function(r,i=null){q(r)||(r=xe({},r)),i!=null&&!pe(i)&&(i=null);const s=Vo(),o=new WeakSet,a=[];let l=!1;const d=s.app={_uid:hu++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Yu,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&q(u.install)?(o.add(u),u.install(d,...c)):q(u)&&(o.add(u),u(d,...c))),d},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),d},component(u,c){return c?(s.components[u]=c,d):s.components[u]},directive(u,c){return c?(s.directives[u]=c,d):s.directives[u]},mount(u,c,m){if(!l){const k=d._ceVNode||U(r,i);return k.appContext=s,m===!0?m="svg":m===!1&&(m=void 0),e(k,u,m),l=!0,d._container=u,u.__vue_app__=d,Ar(k.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Xe(a,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,c){return s.provides[u]=c,d},runWithContext(u){const c=ln;ln=d;try{return u()}finally{ln=c}}};return d}}let ln=null;function gu(e,t){if(Me){let n=Me.provides;const r=Me.parent&&Me.parent.provides;r===n&&(n=Me.provides=Object.create(r)),n[e]=t}}function Xn(e,t,n=!1){const r=Me||Te;if(r||ln){let i=ln?ln._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&q(t)?t.call(r&&r.proxy):t}}const Jo={},Yo=()=>Object.create(Jo),Zo=e=>Object.getPrototypeOf(e)===Jo;function yu(e,t,n,r=!1){const i={},s=Yo();e.propsDefaults=Object.create(null),Xo(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:Ll(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function bu(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=Q(i),[l]=e.propsOptions;let d=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let c=0;c<u.length;c++){let m=u[c];if(Cr(e.emitsOptions,m))continue;const k=t[m];if(l)if(te(s,m))k!==s[m]&&(s[m]=k,d=!0);else{const g=Dt(m);i[g]=li(l,a,g,k,e,!1)}else k!==s[m]&&(s[m]=k,d=!0)}}}else{Xo(e,t,i,s)&&(d=!0);let u;for(const c in a)(!t||!te(t,c)&&((u=Jt(c))===c||!te(t,u)))&&(l?n&&(n[c]!==void 0||n[u]!==void 0)&&(i[c]=li(l,a,c,void 0,e,!0)):delete i[c]);if(s!==a)for(const c in s)(!t||!te(t,c))&&(delete s[c],d=!0)}d&&gt(e.attrs,"set","")}function Xo(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(kn(l))continue;const d=t[l];let u;i&&te(i,u=Dt(l))?!s||!s.includes(u)?n[u]=d:(a||(a={}))[u]=d:Cr(e.emitsOptions,l)||(!(l in r)||d!==r[l])&&(r[l]=d,o=!0)}if(s){const l=Q(n),d=a||ae;for(let u=0;u<s.length;u++){const c=s[u];n[c]=li(i,l,c,d[c],e,!te(d,c))}}return o}function li(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=te(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&q(l)){const{propsDefaults:d}=i;if(n in d)r=d[n];else{const u=Kn(i);r=d[n]=l.call(null,t),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Jt(n))&&(r=!0))}return r}const wu=new WeakMap;function Qo(e,t,n=!1){const r=n?wu:t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!q(e)){const u=c=>{l=!0;const[m,k]=Qo(c,t,!0);xe(o,m),k&&a.push(...k)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!l)return pe(e)&&r.set(e,nn),nn;if(j(s))for(let u=0;u<s.length;u++){const c=Dt(s[u]);us(c)&&(o[c]=ae)}else if(s)for(const u in s){const c=Dt(u);if(us(c)){const m=s[u],k=o[c]=j(m)||q(m)?{type:m}:xe({},m),g=k.type;let p=!1,b=!0;if(j(g))for(let x=0;x<g.length;++x){const L=g[x],B=q(L)&&L.name;if(B==="Boolean"){p=!0;break}else B==="String"&&(b=!1)}else p=q(g)&&g.name==="Boolean";k[0]=p,k[1]=b,(p||te(k,"default"))&&a.push(c)}}const d=[o,a];return pe(e)&&r.set(e,d),d}function us(e){return e[0]!=="$"&&!kn(e)}const Ii=e=>e[0]==="_"||e==="$stable",Li=e=>j(e)?e.map(at):[at(e)],vu=(e,t,n)=>{if(t._n)return t;const r=St((...i)=>Li(t(...i)),n);return r._c=!1,r},ea=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Ii(i))continue;const s=e[i];if(q(s))t[i]=vu(i,s,r);else if(s!=null){const o=Li(s);t[i]=()=>o}}},ta=(e,t)=>{const n=Li(t);e.slots.default=()=>n},na=(e,t,n)=>{for(const r in t)(n||!Ii(r))&&(e[r]=t[r])},ku=(e,t,n)=>{const r=e.slots=Yo();if(e.vnode.shapeFlag&32){const i=t.__;i&&Qr(r,"__",i,!0);const s=t._;s?(na(r,t,n),n&&Qr(r,"_",s,!0)):ea(t,r)}else t&&ta(e,t)},xu=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=ae;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:na(i,t,n):(s=!t.$stable,ea(t,i)),o=t}else t&&(ta(e,t),o={default:1});if(s)for(const a in i)!Ii(a)&&o[a]==null&&delete i[a]},je=Bu;function Su(e){return _u(e)}function _u(e,t){const n=vr();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:d,setElementText:u,parentNode:c,nextSibling:m,setScopeId:k=ut,insertStaticContent:g}=e,p=(h,y,v,A=null,T=null,$=null,D=void 0,E=null,I=!!y.dynamicChildren)=>{if(h===y)return;h&&!qt(h,y)&&(A=Un(h),Qe(h,T,$,!0),h=null),y.patchFlag===-2&&(I=!1,y.dynamicChildren=null);const{type:M,ref:N,shapeFlag:P}=y;switch(M){case $r:b(h,y,v,A);break;case Ae:x(h,y,v,A);break;case Qn:h==null&&L(y,v,A,D);break;case z:H(h,y,v,A,T,$,D,E,I);break;default:P&1?W(h,y,v,A,T,$,D,E,I):P&6?he(h,y,v,A,T,$,D,E,I):(P&64||P&128)&&M.process(h,y,v,A,T,$,D,E,I,dn)}N!=null&&T?_n(N,h&&h.ref,$,y||h,!y):N==null&&h&&h.ref!=null&&_n(h.ref,null,$,h,!0)},b=(h,y,v,A)=>{if(h==null)r(y.el=a(y.children),v,A);else{const T=y.el=h.el;y.children!==h.children&&d(T,y.children)}},x=(h,y,v,A)=>{h==null?r(y.el=l(y.children||""),v,A):y.el=h.el},L=(h,y,v,A)=>{[h.el,h.anchor]=g(h.children,y,v,A,h.el,h.anchor)},B=({el:h,anchor:y},v,A)=>{let T;for(;h&&h!==y;)T=m(h),r(h,v,A),h=T;r(y,v,A)},R=({el:h,anchor:y})=>{let v;for(;h&&h!==y;)v=m(h),i(h),h=v;i(y)},W=(h,y,v,A,T,$,D,E,I)=>{y.type==="svg"?D="svg":y.type==="math"&&(D="mathml"),h==null?J(y,v,A,T,$,D,E,I):F(h,y,T,$,D,E,I)},J=(h,y,v,A,T,$,D,E)=>{let I,M;const{props:N,shapeFlag:P,transition:O,dirs:K}=h;if(I=h.el=o(h.type,$,N&&N.is,N),P&8?u(I,h.children):P&16&&Be(h.children,I,null,A,T,Kr(h,$),D,E),K&&Wt(h,null,A,"created"),se(I,h,h.scopeId,D,A),N){for(const ce in N)ce!=="value"&&!kn(ce)&&s(I,ce,null,N[ce],$,A);"value"in N&&s(I,"value",null,N.value,$),(M=N.onVnodeBeforeMount)&&rt(M,A,h)}K&&Wt(h,null,A,"beforeMount");const Z=Tu(T,O);Z&&O.beforeEnter(I),r(I,y,v),((M=N&&N.onVnodeMounted)||Z||K)&&je(()=>{M&&rt(M,A,h),Z&&O.enter(I),K&&Wt(h,null,A,"mounted")},T)},se=(h,y,v,A,T)=>{if(v&&k(h,v),A)for(let $=0;$<A.length;$++)k(h,A[$]);if(T){let $=T.subTree;if(y===$||la($.type)&&($.ssContent===y||$.ssFallback===y)){const D=T.vnode;se(h,D,D.scopeId,D.slotScopeIds,T.parent)}}},Be=(h,y,v,A,T,$,D,E,I=0)=>{for(let M=I;M<h.length;M++){const N=h[M]=E?Mt(h[M]):at(h[M]);p(null,N,y,v,A,T,$,D,E)}},F=(h,y,v,A,T,$,D)=>{const E=y.el=h.el;let{patchFlag:I,dynamicChildren:M,dirs:N}=y;I|=h.patchFlag&16;const P=h.props||ae,O=y.props||ae;let K;if(v&&zt(v,!1),(K=O.onVnodeBeforeUpdate)&&rt(K,v,y,h),N&&Wt(y,h,v,"beforeUpdate"),v&&zt(v,!0),(P.innerHTML&&O.innerHTML==null||P.textContent&&O.textContent==null)&&u(E,""),M?oe(h.dynamicChildren,M,E,v,A,Kr(y,T),$):D||ue(h,y,E,null,v,A,Kr(y,T),$,!1),I>0){if(I&16)me(E,P,O,v,T);else if(I&2&&P.class!==O.class&&s(E,"class",null,O.class,T),I&4&&s(E,"style",P.style,O.style,T),I&8){const Z=y.dynamicProps;for(let ce=0;ce<Z.length;ce++){const re=Z[ce],He=P[re],Oe=O[re];(Oe!==He||re==="value")&&s(E,re,He,Oe,T,v)}}I&1&&h.children!==y.children&&u(E,y.children)}else!D&&M==null&&me(E,P,O,v,T);((K=O.onVnodeUpdated)||N)&&je(()=>{K&&rt(K,v,y,h),N&&Wt(y,h,v,"updated")},A)},oe=(h,y,v,A,T,$,D)=>{for(let E=0;E<y.length;E++){const I=h[E],M=y[E],N=I.el&&(I.type===z||!qt(I,M)||I.shapeFlag&198)?c(I.el):v;p(I,M,N,null,A,T,$,D,!0)}},me=(h,y,v,A,T)=>{if(y!==v){if(y!==ae)for(const $ in y)!kn($)&&!($ in v)&&s(h,$,y[$],null,T,A);for(const $ in v){if(kn($))continue;const D=v[$],E=y[$];D!==E&&$!=="value"&&s(h,$,E,D,T,A)}"value"in v&&s(h,"value",y.value,v.value,T)}},H=(h,y,v,A,T,$,D,E,I)=>{const M=y.el=h?h.el:a(""),N=y.anchor=h?h.anchor:a("");let{patchFlag:P,dynamicChildren:O,slotScopeIds:K}=y;K&&(E=E?E.concat(K):K),h==null?(r(M,v,A),r(N,v,A),Be(y.children||[],v,N,T,$,D,E,I)):P>0&&P&64&&O&&h.dynamicChildren?(oe(h.dynamicChildren,O,v,T,$,D,E),(y.key!=null||T&&y===T.subTree)&&ra(h,y,!0)):ue(h,y,v,N,T,$,D,E,I)},he=(h,y,v,A,T,$,D,E,I)=>{y.slotScopeIds=E,h==null?y.shapeFlag&512?T.ctx.activate(y,v,A,D,I):Ce(y,v,A,T,$,D,I):dt(h,y,I)},Ce=(h,y,v,A,T,$,D)=>{const E=h.component=Ku(h,A,T);if(Sr(h)&&(E.ctx.renderer=dn),Gu(E,!1,D),E.asyncDep){if(T&&T.registerDep(E,ke,D),!h.el){const I=E.subTree=U(Ae);x(null,I,y,v)}}else ke(E,h,y,v,T,$,D)},dt=(h,y,v)=>{const A=y.component=h.component;if(Du(h,y,v))if(A.asyncDep&&!A.asyncResolved){ge(A,y,v);return}else A.next=y,A.update();else y.el=h.el,A.vnode=y},ke=(h,y,v,A,T,$,D)=>{const E=()=>{if(h.isMounted){let{next:P,bu:O,u:K,parent:Z,vnode:ce}=h;{const tt=ia(h);if(tt){P&&(P.el=ce.el,ge(h,P,D)),tt.asyncDep.then(()=>{h.isUnmounted||E()});return}}let re=P,He;zt(h,!1),P?(P.el=ce.el,ge(h,P,D)):P=ce,O&&Br(O),(He=P.props&&P.props.onVnodeBeforeUpdate)&&rt(He,Z,P,ce),zt(h,!0);const Oe=ds(h),et=h.subTree;h.subTree=Oe,p(et,Oe,c(et.el),Un(et),h,T,$),P.el=Oe.el,re===null&&Pu(h,Oe.el),K&&je(K,T),(He=P.props&&P.props.onVnodeUpdated)&&je(()=>rt(He,Z,P,ce),T)}else{let P;const{el:O,props:K}=y,{bm:Z,m:ce,parent:re,root:He,type:Oe}=h,et=an(y);zt(h,!1),Z&&Br(Z),!et&&(P=K&&K.onVnodeBeforeMount)&&rt(P,re,y),zt(h,!0);{He.ce&&He.ce._def.shadowRoot!==!1&&He.ce._injectChildStyle(Oe);const tt=h.subTree=ds(h);p(null,tt,v,A,h,T,$),y.el=tt.el}if(ce&&je(ce,T),!et&&(P=K&&K.onVnodeMounted)){const tt=y;je(()=>rt(P,re,tt),T)}(y.shapeFlag&256||re&&an(re.vnode)&&re.vnode.shapeFlag&256)&&h.a&&je(h.a,T),h.isMounted=!0,y=v=A=null}};h.scope.on();const I=h.effect=new ho(E);h.scope.off();const M=h.update=I.run.bind(I),N=h.job=I.runIfDirty.bind(I);N.i=h,N.id=h.uid,I.scheduler=()=>Ri(N),zt(h,!0),M()},ge=(h,y,v)=>{y.component=h;const A=h.vnode.props;h.vnode=y,h.next=null,bu(h,y.props,A,v),xu(h,y.children,v),kt(),rs(h),xt()},ue=(h,y,v,A,T,$,D,E,I=!1)=>{const M=h&&h.children,N=h?h.shapeFlag:0,P=y.children,{patchFlag:O,shapeFlag:K}=y;if(O>0){if(O&128){qn(M,P,v,A,T,$,D,E,I);return}else if(O&256){Ot(M,P,v,A,T,$,D,E,I);return}}K&8?(N&16&&cn(M,T,$),P!==M&&u(v,P)):N&16?K&16?qn(M,P,v,A,T,$,D,E,I):cn(M,T,$,!0):(N&8&&u(v,""),K&16&&Be(P,v,A,T,$,D,E,I))},Ot=(h,y,v,A,T,$,D,E,I)=>{h=h||nn,y=y||nn;const M=h.length,N=y.length,P=Math.min(M,N);let O;for(O=0;O<P;O++){const K=y[O]=I?Mt(y[O]):at(y[O]);p(h[O],K,v,null,T,$,D,E,I)}M>N?cn(h,T,$,!0,!1,P):Be(y,v,A,T,$,D,E,I,P)},qn=(h,y,v,A,T,$,D,E,I)=>{let M=0;const N=y.length;let P=h.length-1,O=N-1;for(;M<=P&&M<=O;){const K=h[M],Z=y[M]=I?Mt(y[M]):at(y[M]);if(qt(K,Z))p(K,Z,v,null,T,$,D,E,I);else break;M++}for(;M<=P&&M<=O;){const K=h[P],Z=y[O]=I?Mt(y[O]):at(y[O]);if(qt(K,Z))p(K,Z,v,null,T,$,D,E,I);else break;P--,O--}if(M>P){if(M<=O){const K=O+1,Z=K<N?y[K].el:A;for(;M<=O;)p(null,y[M]=I?Mt(y[M]):at(y[M]),v,Z,T,$,D,E,I),M++}}else if(M>O)for(;M<=P;)Qe(h[M],T,$,!0),M++;else{const K=M,Z=M,ce=new Map;for(M=Z;M<=O;M++){const ze=y[M]=I?Mt(y[M]):at(y[M]);ze.key!=null&&ce.set(ze.key,M)}let re,He=0;const Oe=O-Z+1;let et=!1,tt=0;const fn=new Array(Oe);for(M=0;M<Oe;M++)fn[M]=0;for(M=K;M<=P;M++){const ze=h[M];if(He>=Oe){Qe(ze,T,$,!0);continue}let nt;if(ze.key!=null)nt=ce.get(ze.key);else for(re=Z;re<=O;re++)if(fn[re-Z]===0&&qt(ze,y[re])){nt=re;break}nt===void 0?Qe(ze,T,$,!0):(fn[nt-Z]=M+1,nt>=tt?tt=nt:et=!0,p(ze,y[nt],v,null,T,$,D,E,I),He++)}const Xi=et?Cu(fn):nn;for(re=Xi.length-1,M=Oe-1;M>=0;M--){const ze=Z+M,nt=y[ze],Qi=ze+1<N?y[ze+1].el:A;fn[M]===0?p(null,nt,v,Qi,T,$,D,E,I):et&&(re<0||M!==Xi[re]?Nt(nt,v,Qi,2):re--)}}},Nt=(h,y,v,A,T=null)=>{const{el:$,type:D,transition:E,children:I,shapeFlag:M}=h;if(M&6){Nt(h.component.subTree,y,v,A);return}if(M&128){h.suspense.move(y,v,A);return}if(M&64){D.move(h,y,v,dn);return}if(D===z){r($,y,v);for(let P=0;P<I.length;P++)Nt(I[P],y,v,A);r(h.anchor,y,v);return}if(D===Qn){B(h,y,v);return}if(A!==2&&M&1&&E)if(A===0)E.beforeEnter($),r($,y,v),je(()=>E.enter($),T);else{const{leave:P,delayLeave:O,afterLeave:K}=E,Z=()=>{h.ctx.isUnmounted?i($):r($,y,v)},ce=()=>{P($,()=>{Z(),K&&K()})};O?O($,Z,ce):ce()}else r($,y,v)},Qe=(h,y,v,A=!1,T=!1)=>{const{type:$,props:D,ref:E,children:I,dynamicChildren:M,shapeFlag:N,patchFlag:P,dirs:O,cacheIndex:K}=h;if(P===-2&&(T=!1),E!=null&&(kt(),_n(E,null,v,h,!0),xt()),K!=null&&(y.renderCache[K]=void 0),N&256){y.ctx.deactivate(h);return}const Z=N&1&&O,ce=!an(h);let re;if(ce&&(re=D&&D.onVnodeBeforeUnmount)&&rt(re,y,h),N&6)Xa(h.component,v,A);else{if(N&128){h.suspense.unmount(v,A);return}Z&&Wt(h,null,y,"beforeUnmount"),N&64?h.type.remove(h,y,v,dn,A):M&&!M.hasOnce&&($!==z||P>0&&P&64)?cn(M,y,v,!1,!0):($===z&&P&384||!T&&N&16)&&cn(I,y,v),A&&Yi(h)}(ce&&(re=D&&D.onVnodeUnmounted)||Z)&&je(()=>{re&&rt(re,y,h),Z&&Wt(h,null,y,"unmounted")},v)},Yi=h=>{const{type:y,el:v,anchor:A,transition:T}=h;if(y===z){Za(v,A);return}if(y===Qn){R(h);return}const $=()=>{i(v),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(h.shapeFlag&1&&T&&!T.persisted){const{leave:D,delayLeave:E}=T,I=()=>D(v,$);E?E(h.el,$,I):I()}else $()},Za=(h,y)=>{let v;for(;h!==y;)v=m(h),i(h),h=v;i(y)},Xa=(h,y,v)=>{const{bum:A,scope:T,job:$,subTree:D,um:E,m:I,a:M,parent:N,slots:{__:P}}=h;cs(I),cs(M),A&&Br(A),N&&j(P)&&P.forEach(O=>{N.renderCache[O]=void 0}),T.stop(),$&&($.flags|=8,Qe(D,h,y,v)),E&&je(E,y),je(()=>{h.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},cn=(h,y,v,A=!1,T=!1,$=0)=>{for(let D=$;D<h.length;D++)Qe(h[D],y,v,A,T)},Un=h=>{if(h.shapeFlag&6)return Un(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const y=m(h.anchor||h.el),v=y&&y[ql];return v?m(v):y};let Dr=!1;const Zi=(h,y,v)=>{h==null?y._vnode&&Qe(y._vnode,null,null,!0):p(y._vnode||null,h,y,null,null,null,v),y._vnode=h,Dr||(Dr=!0,rs(),Eo(),Dr=!1)},dn={p,um:Qe,m:Nt,r:Yi,mt:Ce,mc:Be,pc:ue,pbc:oe,n:Un,o:e};return{render:Zi,hydrate:void 0,createApp:mu(Zi)}}function Kr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function zt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Tu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ra(e,t,n=!1){const r=e.children,i=t.children;if(j(r)&&j(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Mt(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&ra(o,a)),a.type===$r&&(a.el=o.el),a.type===Ae&&!a.el&&(a.el=o.el)}}function Cu(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const d=e[r];if(d!==0){if(i=n[n.length-1],e[i]<d){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<d?s=a+1:o=a;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function ia(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ia(t)}function cs(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const $u=Symbol.for("v-scx"),Au=()=>Xn($u);function Ze(e,t,n){return sa(e,t,n)}function sa(e,t,n=ae){const{immediate:r,deep:i,flush:s,once:o}=n,a=xe({},n),l=t&&r||!t&&s!=="post";let d;if(Dn){if(s==="sync"){const k=Au();d=k.__watcherHandles||(k.__watcherHandles=[])}else if(!l){const k=()=>{};return k.stop=ut,k.resume=ut,k.pause=ut,k}}const u=Me;a.call=(k,g,p)=>Xe(k,u,g,p);let c=!1;s==="post"?a.scheduler=k=>{je(k,u&&u.suspense)}:s!=="sync"&&(c=!0,a.scheduler=(k,g)=>{g?k():Ri(k)}),a.augmentJob=k=>{t&&(k.flags|=4),c&&(k.flags|=2,u&&(k.id=u.uid,k.i=u))};const m=Wl(e,t,a);return Dn&&(d?d.push(m):l&&m()),m}function Mu(e,t,n){const r=this.proxy,i=ve(e)?e.includes(".")?oa(r,e):()=>r[e]:e.bind(r,r);let s;q(t)?s=t:(s=t.handler,n=t);const o=Kn(this),a=sa(i,s.bind(r),n);return o(),a}function oa(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const Ru=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Dt(t)}Modifiers`]||e[`${Jt(t)}Modifiers`];function Iu(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ae;let i=n;const s=t.startsWith("update:"),o=s&&Ru(r,t.slice(7));o&&(o.trim&&(i=n.map(u=>ve(u)?u.trim():u)),o.number&&(i=n.map(il)));let a,l=r[a=Pr(t)]||r[a=Pr(Dt(t))];!l&&s&&(l=r[a=Pr(Jt(t))]),l&&Xe(l,e,6,i);const d=r[a+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Xe(d,e,6,i)}}function aa(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!q(e)){const l=d=>{const u=aa(d,t,!0);u&&(a=!0,xe(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(pe(e)&&r.set(e,null),null):(j(s)?s.forEach(l=>o[l]=null):xe(o,s),pe(e)&&r.set(e,o),o)}function Cr(e,t){return!e||!yr(t)?!1:(t=t.slice(2).replace(/Once$/,""),te(e,t[0].toLowerCase()+t.slice(1))||te(e,Jt(t))||te(e,t))}function ds(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:d,renderCache:u,props:c,data:m,setupState:k,ctx:g,inheritAttrs:p}=e,b=or(e);let x,L;try{if(n.shapeFlag&4){const R=i||r,W=R;x=at(d.call(W,R,u,c,k,m,g)),L=a}else{const R=t;x=at(R.length>1?R(c,{attrs:a,slots:o,emit:l}):R(c,null)),L=t.props?a:Lu(a)}}catch(R){Cn.length=0,xr(R,e,1),x=U(Ae)}let B=x;if(L&&p!==!1){const R=Object.keys(L),{shapeFlag:W}=B;R.length&&W&7&&(s&&R.some(vi)&&(L=Eu(L,s)),B=Bt(B,L,!1,!0))}return n.dirs&&(B=Bt(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&In(B,n.transition),x=B,or(b),x}const Lu=e=>{let t;for(const n in e)(n==="class"||n==="style"||yr(n))&&((t||(t={}))[n]=e[n]);return t},Eu=(e,t)=>{const n={};for(const r in e)(!vi(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Du(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?fs(r,o,d):!!o;if(l&8){const u=t.dynamicProps;for(let c=0;c<u.length;c++){const m=u[c];if(o[m]!==r[m]&&!Cr(d,m))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?fs(r,o,d):!0:!!o;return!1}function fs(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Cr(n,s))return!0}return!1}function Pu({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const la=e=>e.__isSuspense;function Bu(e,t){t&&t.pendingBranch?j(e)?t.effects.push(...e):t.effects.push(e):Gl(e)}const z=Symbol.for("v-fgt"),$r=Symbol.for("v-txt"),Ae=Symbol.for("v-cmt"),Qn=Symbol.for("v-stc"),Cn=[];let Ge=null;function S(e=!1){Cn.push(Ge=e?null:[])}function Hu(){Cn.pop(),Ge=Cn[Cn.length-1]||null}let Ln=1;function ps(e,t=!1){Ln+=e,e<0&&Ge&&t&&(Ge.hasOnce=!0)}function ua(e){return e.dynamicChildren=Ln>0?Ge||nn:null,Hu(),Ln>0&&Ge&&Ge.push(e),e}function C(e,t,n,r,i,s){return ua(w(e,t,n,r,i,s,!0))}function _e(e,t,n,r,i){return ua(U(e,t,n,r,i,!0))}function En(e){return e?e.__v_isVNode===!0:!1}function qt(e,t){return e.type===t.type&&e.key===t.key}const ca=({key:e})=>e??null,er=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ve(e)||Ie(e)||q(e)?{i:Te,r:e,k:t,f:!!n}:e:null);function w(e,t=null,n=null,r=0,i=null,s=e===z?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ca(t),ref:t&&er(t),scopeId:Po,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Te};return a?(Ei(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=ve(n)?8:16),Ln>0&&!o&&Ge&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ge.push(l),l}const U=Ou;function Ou(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===ou)&&(e=Ae),En(e)){const a=Bt(e,t,!0);return n&&Ei(a,n),Ln>0&&!s&&Ge&&(a.shapeFlag&6?Ge[Ge.indexOf(e)]=a:Ge.push(a)),a.patchFlag=-2,a}if(Vu(e)&&(e=e.__vccOpts),t){t=Nu(t);let{class:a,style:l}=t;a&&!ve(a)&&(t.class=fe(a)),pe(l)&&(Mi(l)&&!j(l)&&(l=xe({},l)),t.style=ct(l))}const o=ve(e)?1:la(e)?128:Bo(e)?64:pe(e)?4:q(e)?2:0;return w(e,t,n,r,i,o,s,!0)}function Nu(e){return e?Mi(e)||Zo(e)?xe({},e):e:null}function Bt(e,t,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=e,d=t?ui(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&ca(d),ref:t&&t.ref?n&&s?j(s)?s.concat(er(t)):[s,er(t)]:er(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==z?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bt(e.ssContent),ssFallback:e.ssFallback&&Bt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&In(u,l.clone(u)),u}function V(e=" ",t=0){return U($r,null,e,t)}function Wu(e,t){const n=U(Qn,null,e);return n.staticCount=t,n}function G(e="",t=!1){return t?(S(),_e(Ae,null,e)):U(Ae,null,e)}function at(e){return e==null||typeof e=="boolean"?U(Ae):j(e)?U(z,null,e.slice()):En(e)?Mt(e):U($r,null,String(e))}function Mt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Bt(e)}function Ei(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(j(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Ei(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!Zo(t)?t._ctx=Te:i===3&&Te&&(Te.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else q(t)?(t={default:t,_ctx:Te},n=32):(t=String(t),r&64?(n=16,t=[V(t)]):n=8);e.children=t,e.shapeFlag|=n}function ui(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=fe([t.class,r.class]));else if(i==="style")t.style=ct([t.style,r.style]);else if(yr(i)){const s=t[i],o=r[i];o&&s!==o&&!(j(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function rt(e,t,n,r=null){Xe(e,t,7,[n,r])}const zu=Vo();let ju=0;function Ku(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||zu,s={uid:ju++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new fl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qo(r,i),emitsOptions:aa(r,i),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:r.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Iu.bind(null,s),e.ce&&e.ce(s),s}let Me=null;const da=()=>Me||Te;let lr,ci;{const e=vr(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};lr=t("__VUE_INSTANCE_SETTERS__",n=>Me=n),ci=t("__VUE_SSR_SETTERS__",n=>Dn=n)}const Kn=e=>{const t=Me;return lr(e),e.scope.on(),()=>{e.scope.off(),lr(t)}},hs=()=>{Me&&Me.scope.off(),lr(null)};function fa(e){return e.vnode.shapeFlag&4}let Dn=!1;function Gu(e,t=!1,n=!1){t&&ci(t);const{props:r,children:i}=e.vnode,s=fa(e);yu(e,r,s,t),ku(e,i,n||t);const o=s?qu(e,t):void 0;return t&&ci(!1),o}function qu(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,lu);const{setup:r}=n;if(r){kt();const i=e.setupContext=r.length>1?Fu(e):null,s=Kn(e),o=zn(r,e,0,[e.props,i]),a=oo(o);if(xt(),s(),(a||e.sp)&&!an(e)&&jo(e),a){if(o.then(hs,hs),t)return o.then(l=>{ms(e,l)}).catch(l=>{xr(l,e,0)});e.asyncDep=o}else ms(e,o)}else pa(e)}function ms(e,t,n){q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pe(t)&&(e.setupState=Ro(t)),pa(e)}function pa(e,t,n){const r=e.type;e.render||(e.render=r.render||ut);{const i=Kn(e);kt();try{uu(e)}finally{xt(),i()}}}const Uu={get(e,t){return $e(e,"get",""),e[t]}};function Fu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Uu),slots:e.slots,emit:e.emit,expose:t}}function Ar(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ro(El(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Tn)return Tn[n](e)},has(t,n){return n in t||n in Tn}})):e.proxy}function Vu(e){return q(e)&&"__vccOpts"in e}const ie=(e,t)=>Ol(e,t,Dn);function Ju(e,t,n){const r=arguments.length;return r===2?pe(t)&&!j(t)?En(t)?U(e,null,[t]):U(e,t):U(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&En(n)&&(n=[n]),U(e,t,n))}const Yu="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let di;const gs=typeof window<"u"&&window.trustedTypes;if(gs)try{di=gs.createPolicy("vue",{createHTML:e=>e})}catch{}const ha=di?e=>di.createHTML(e):e=>e,Zu="http://www.w3.org/2000/svg",Xu="http://www.w3.org/1998/Math/MathML",ht=typeof document<"u"?document:null,ys=ht&&ht.createElement("template"),Qu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?ht.createElementNS(Zu,e):t==="mathml"?ht.createElementNS(Xu,e):n?ht.createElement(e,{is:n}):ht.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>ht.createTextNode(e),createComment:e=>ht.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ht.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{ys.innerHTML=ha(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=ys.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ct="transition",hn="animation",Pn=Symbol("_vtc"),ma={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ec=xe({},Ho,ma),tc=e=>(e.displayName="Transition",e.props=ec,e),fi=tc((e,{slots:t})=>Ju(Vl,nc(e),t)),jt=(e,t=[])=>{j(e)?e.forEach(n=>n(...t)):e&&e(...t)},bs=e=>e?j(e)?e.some(t=>t.length>1):e.length>1:!1;function nc(e){const t={};for(const H in e)H in ma||(t[H]=e[H]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:d=o,appearToClass:u=a,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:k=`${n}-leave-to`}=e,g=rc(i),p=g&&g[0],b=g&&g[1],{onBeforeEnter:x,onEnter:L,onEnterCancelled:B,onLeave:R,onLeaveCancelled:W,onBeforeAppear:J=x,onAppear:se=L,onAppearCancelled:Be=B}=t,F=(H,he,Ce,dt)=>{H._enterCancelled=dt,Kt(H,he?u:a),Kt(H,he?d:o),Ce&&Ce()},oe=(H,he)=>{H._isLeaving=!1,Kt(H,c),Kt(H,k),Kt(H,m),he&&he()},me=H=>(he,Ce)=>{const dt=H?se:L,ke=()=>F(he,H,Ce);jt(dt,[he,ke]),ws(()=>{Kt(he,H?l:s),pt(he,H?u:a),bs(dt)||vs(he,r,p,ke)})};return xe(t,{onBeforeEnter(H){jt(x,[H]),pt(H,s),pt(H,o)},onBeforeAppear(H){jt(J,[H]),pt(H,l),pt(H,d)},onEnter:me(!1),onAppear:me(!0),onLeave(H,he){H._isLeaving=!0;const Ce=()=>oe(H,he);pt(H,c),H._enterCancelled?(pt(H,m),Ss()):(Ss(),pt(H,m)),ws(()=>{H._isLeaving&&(Kt(H,c),pt(H,k),bs(R)||vs(H,r,b,Ce))}),jt(R,[H,Ce])},onEnterCancelled(H){F(H,!1,void 0,!0),jt(B,[H])},onAppearCancelled(H){F(H,!0,void 0,!0),jt(Be,[H])},onLeaveCancelled(H){oe(H),jt(W,[H])}})}function rc(e){if(e==null)return null;if(pe(e))return[Gr(e.enter),Gr(e.leave)];{const t=Gr(e);return[t,t]}}function Gr(e){return sl(e)}function pt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Pn]||(e[Pn]=new Set)).add(t)}function Kt(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Pn];n&&(n.delete(t),n.size||(e[Pn]=void 0))}function ws(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ic=0;function vs(e,t,n,r){const i=e._endId=++ic,s=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=sc(e,t);if(!o)return r();const d=o+"end";let u=0;const c=()=>{e.removeEventListener(d,m),s()},m=k=>{k.target===e&&++u>=l&&c()};setTimeout(()=>{u<l&&c()},a+1),e.addEventListener(d,m)}function sc(e,t){const n=window.getComputedStyle(e),r=g=>(n[g]||"").split(", "),i=r(`${Ct}Delay`),s=r(`${Ct}Duration`),o=ks(i,s),a=r(`${hn}Delay`),l=r(`${hn}Duration`),d=ks(a,l);let u=null,c=0,m=0;t===Ct?o>0&&(u=Ct,c=o,m=s.length):t===hn?d>0&&(u=hn,c=d,m=l.length):(c=Math.max(o,d),u=c>0?o>d?Ct:hn:null,m=u?u===Ct?s.length:l.length:0);const k=u===Ct&&/\b(transform|all)(,|$)/.test(r(`${Ct}Property`).toString());return{type:u,timeout:c,propCount:m,hasTransform:k}}function ks(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>xs(n)+xs(e[r])))}function xs(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ss(){return document.body.offsetHeight}function oc(e,t,n){const r=e[Pn];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ur=Symbol("_vod"),ga=Symbol("_vsh"),It={beforeMount(e,{value:t},{transition:n}){e[ur]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):mn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),mn(e,!0),r.enter(e)):r.leave(e,()=>{mn(e,!1)}):mn(e,t))},beforeUnmount(e,{value:t}){mn(e,t)}};function mn(e,t){e.style.display=t?e[ur]:"none",e[ga]=!t}const ac=Symbol(""),lc=/(^|;)\s*display\s*:/;function uc(e,t,n){const r=e.style,i=ve(n);let s=!1;if(n&&!i){if(t)if(ve(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&tr(r,a,"")}else for(const o in t)n[o]==null&&tr(r,o,"");for(const o in n)o==="display"&&(s=!0),tr(r,o,n[o])}else if(i){if(t!==n){const o=r[ac];o&&(n+=";"+o),r.cssText=n,s=lc.test(n)}}else t&&e.removeAttribute("style");ur in e&&(e[ur]=s?r.display:"",e[ga]&&(r.display="none"))}const _s=/\s*!important$/;function tr(e,t,n){if(j(n))n.forEach(r=>tr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=cc(e,t);_s.test(n)?e.setProperty(Jt(r),n.replace(_s,""),"important"):e[r]=n}}const Ts=["Webkit","Moz","ms"],qr={};function cc(e,t){const n=qr[t];if(n)return n;let r=Dt(t);if(r!=="filter"&&r in e)return qr[t]=r;r=uo(r);for(let i=0;i<Ts.length;i++){const s=Ts[i]+r;if(s in e)return qr[t]=s}return t}const Cs="http://www.w3.org/1999/xlink";function $s(e,t,n,r,i,s=dl(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Cs,t.slice(6,t.length)):e.setAttributeNS(Cs,t,n):n==null||s&&!co(n)?e.removeAttribute(t):e.setAttribute(t,s?"":_t(n)?String(n):n)}function As(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?ha(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=co(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function dc(e,t,n,r){e.addEventListener(t,n,r)}function fc(e,t,n,r){e.removeEventListener(t,n,r)}const Ms=Symbol("_vei");function pc(e,t,n,r,i=null){const s=e[Ms]||(e[Ms]={}),o=s[t];if(r&&o)o.value=r;else{const[a,l]=hc(t);if(r){const d=s[t]=yc(r,i);dc(e,a,d,l)}else o&&(fc(e,a,o,l),s[t]=void 0)}}const Rs=/(?:Once|Passive|Capture)$/;function hc(e){let t;if(Rs.test(e)){t={};let r;for(;r=e.match(Rs);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Jt(e.slice(2)),t]}let Ur=0;const mc=Promise.resolve(),gc=()=>Ur||(mc.then(()=>Ur=0),Ur=Date.now());function yc(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Xe(bc(r,n.value),t,5,[r])};return n.value=e,n.attached=gc(),n}function bc(e,t){if(j(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Is=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,wc=(e,t,n,r,i,s)=>{const o=i==="svg";t==="class"?oc(e,r,o):t==="style"?uc(e,n,r):yr(t)?vi(t)||pc(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):vc(e,t,r,o))?(As(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&$s(e,t,r,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ve(r))?As(e,Dt(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),$s(e,t,r,o))};function vc(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Is(t)&&q(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Is(t)&&ve(n)?!1:t in e}const kc=["ctrl","shift","alt","meta"],xc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>kc.some(n=>e[`${n}Key`]&&!t.includes(n))},Fr=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<t.length;o++){const a=xc[t[o]];if(a&&a(i,t))return}return e(i,...s)})},Sc=xe({patchProp:wc},Qu);let Ls;function _c(){return Ls||(Ls=Su(Sc))}const Tc=(...e)=>{const t=_c().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=$c(r);if(!i)return;const s=t._component;!q(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Cc(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Cc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $c(e){return ve(e)?document.querySelector(e):e}const ya=""+new URL("../images/generated/gold.webp",import.meta.url).href,ba=""+new URL("../images/generated/sapling.webp",import.meta.url).href,Es=""+new URL("../images/generated/logo.webp",import.meta.url).href,wa=""+new URL("../images/generated/fruit.webp",import.meta.url).href,Bn=""+new URL("../images/generated/pack.webp",import.meta.url).href,va=""+new URL("../images/generated/rescue-locked.webp",import.meta.url).href,Ac=""+new URL("../images/generated/camp.webp",import.meta.url).href,Mc=""+new URL("../images/generated/Retreat.webp",import.meta.url).href,be=[{x:407,y:527,type:"none",next:{"Enter the Dungeon":{label:"enter",description:"Treasures and adventure await inside."}}},{x:407,y:484,type:"combat",name:"Wild Slime",label:"enter"},{x:407,y:419,type:"rescue",name:"Lamplighter",next:{"Turn left":{label:"left1",description:"You see a door to the left. It hangs ajar, and you can hear the sound of movement from beyond it."},"Go straight":{label:"straight1",description:"A heavy door stands in front of you. It is barred from this side. You can open it if you dare."},"Turn right":{label:"right1",description:"A quiet corridor leads into an ill-maintained part of the dungeon."}}},{x:455,y:419,type:"combat",name:"Poison Crow",label:"right1"},{x:501,y:419,type:"combat",name:"Animated Skeleton"},{x:501,y:477,type:"combat",name:"Thick Door"},{x:454,y:477,type:"rescue",name:"Friend of Metal",end:!0},{x:345,y:419,type:"combat",name:"Bandlings",label:"left1"},{x:304,y:419,type:"none"},{x:304,y:493,type:"none"},{x:350,y:493,type:"none"},{x:350,y:461,type:"rescue",name:"The Silent Song",end:!0},{x:407,y:359,type:"boss",label:"straight1",name:"Dead Gladiator",next:{"Turn left":{label:"main-left",description:"Exit the arena to the left. Wails of prisoners echo from the corridor."},"Turn right":{label:"main-right",description:"Exit the arena to the right. The air from the corridor carries the aroma of growth and decay."}}},{x:342,y:359,type:"rescue",name:"Dark Chef",label:"main-left"},{x:288,y:359,type:"none"},{x:288,y:343,type:"combat",name:"Lobster Daddy"},{x:288,y:293,type:"rescue",name:"Royal Fruitbearer"},{x:288,y:236,type:"combat",name:"Will-o-Wasp",next:{"Turn left":{label:"left2",description:"Leave this twisting corridor through the alcove to the left."},"Turn right":{label:"right2",description:"Continue down the corridor."}}},{x:288,y:219,type:"none",label:"right2"},{x:351,y:219,type:"combat",name:"The Shroud"},{x:351,y:244,type:"none"},{x:332,y:244,type:"none"},{x:332,y:279,type:"rescue",name:"Lord of Gears"},{x:332,y:318,type:"combat",name:"Dark Lord"},{x:358,y:318,type:"none"},{x:358,y:289,type:"none"},{x:407,y:289,type:"boss",name:"Clockomancer",end:!0},{x:288,y:243,type:"none",label:"left2"},{x:248,y:243,type:"combat",name:"Glass Dragon"},{x:243,y:243,type:"none"},{x:243,y:341,type:"combat",name:"Xaranthian Construct"},{x:243,y:379,type:"none"},{x:277,y:379,type:"none"},{x:277,y:413,type:"none",next:{"Open door":{label:"door3",description:"A heavy door to the west. You smell damp earth."},"Go straight":{label:"straight3",description:"Continue down the corridor."}}},{x:243,y:413,type:"combat",name:"Potato Golem",label:"door3",end:!0},{x:277,y:459,type:"none",label:"straight3",next:{"Open door":{label:"door4",description:"A heavy door to the west. You smell iron."},"Go straight":{label:"straight4",description:"Continue down the corridor."}}},{x:243,y:459,type:"rescue",name:"Pecquer",label:"door4",end:!0},{x:277,y:498,type:"none",label:"straight4"},{x:196,y:498,type:"none",next:{"Open door":{label:"door5",description:"A heavy door to the north. You listen and sniff the air, but hear and smell nothing other than the door itself."},"Go straight":{label:"straight5",description:"Continue down the corridor."}}},{x:196,y:460,type:"combat",name:"Fortified Door",label:"door5"},{x:196,y:410,type:"rescue",name:"Knight of Claws"},{x:196,y:350,type:"combat",name:"Master of Doors"},{x:196,y:300,type:"rescue",name:"Kit Flash",end:!0},{x:126,y:498,type:"none",label:"straight5",next:{"Open door":{label:"door6",description:"A heavy door to the north. You hear nothing from the other side."},"Go straight":{label:"straight6",description:"Continue down the corridor."}}},{x:126,y:466,type:"combat",name:"Corrupted Bounty Hunter",label:"door6"},{x:126,y:390,type:"rescue",name:"Mongreler",end:!0},{x:68,y:498,type:"none",label:"straight6"},{x:68,y:323,type:"none"},{x:124,y:323,type:"boss",name:"Lior the Weaver"},{x:124,y:264,type:"rescue",name:"Azrekta"},{x:124,y:206,type:"combat",name:"Skeletron"},{x:124,y:160,type:"none",next:{"Turn left":{label:"left7",description:"Turn left into an opulent corridor."},"Turn right":{label:"right7",description:"Turn right into a loathsome corridor."}}},{x:84,y:160,type:"none",label:"left7"},{x:84,y:193,type:"none"},{x:69,y:193,type:"combat",name:"Chago's Chamber"},{x:59,y:193,type:"none"},{x:59,y:240,type:"none"},{x:69,y:240,type:"combat",name:"Chago"},{x:84,y:240,type:"none"},{x:84,y:288,type:"none"},{x:69,y:288,type:"rescue",name:"Kevin",end:!0},{x:173,y:160,type:"none",label:"right7"},{x:173,y:252,type:"none"},{x:219,y:252,type:"none"},{x:219,y:219,type:"none"},{x:254,y:219,type:"none"},{x:254,y:205,type:"none"},{x:278,y:205,type:"none"},{x:278,y:185,type:"none"},{x:291,y:185,type:"combat",name:"Door of Loathing"},{x:291,y:175,type:"none"},{x:232,y:175,type:"none"},{x:232,y:193,type:"none"},{x:198,y:193,type:"none"},{x:198,y:122,type:"none"},{x:210,y:122,type:"combat",name:"Zakatrixos"},{x:246,y:122,type:"combat",name:"Wands from the Depths",next:{"Turn left":{label:"left8",description:"You found a small opening leading north."},"Go straight":{label:"straight8",description:"Continue down the series of rooms."}}},{x:282,y:122,type:"combat",name:"Crystal Man",label:"straight8"},{x:318,y:122,type:"combat",name:"Power Crystal"},{x:325,y:122,type:"none"},{x:325,y:185,type:"none"},{x:330,y:185,type:"rescue",name:"Pur Lion",end:!0},{x:246,y:79,type:"combat",name:"Skyrmions",label:"left8",next:{"Turn left":{label:"left9",description:"The haunted tunnel forks here. Continue left."},"Turn right":{label:"right9",description:"The haunted tunnel forks here. Continue right."}}},{x:162,y:79,type:"combat",name:"Tenebra",label:"left9"},{x:162,y:123,type:"combat",name:"Landas Wizard"},{x:95,y:123,type:"none"},{x:95,y:98,type:"rescue",name:"Eighth Swimmer",end:!0},{x:246,y:70,type:"none",label:"right9"},{x:282,y:70,type:"combat",name:"Defensive Installation"},{x:314,y:70,type:"rescue",name:"Xaranthian Constructor",end:!0},{x:474,y:359,type:"combat",name:"Frozen Centurion",label:"main-right"},{x:501,y:359,type:"none"},{x:501,y:322,type:"rescue",name:"Anvilomancer",next:{"Turn left":{label:"left10",description:"Continue left, where the air is cooler."},"Turn right":{label:"right10",description:"Continue right, where the air is warmer."}}},{x:459,y:322,type:"combat",name:"Trollish Maiden",label:"left10"},{x:459,y:277,type:"combat",name:"Dryfin Carp"},{x:501,y:277,type:"rescue",name:"Kin of Pump"},{x:501,y:230,type:"combat",name:"Scaffold Sorcery"},{x:459,y:230,type:"combat",name:"Lost Swimmer"},{x:407,y:230,type:"rescue",name:"Coldblade",end:!0},{x:547,y:322,type:"combat",name:"Geckalog",label:"right10"},{x:547,y:277,type:"combat",name:"Jaw Maw Maw"},{x:547,y:230,type:"combat",name:"Gnollish Ambassador"},{x:601,y:230,type:"rescue",name:"Wayfinder"},{x:601,y:245,type:"none"},{x:584,y:245,type:"none"},{x:584,y:274,type:"none"},{x:614,y:274,type:"none"},{x:614,y:299,type:"none"},{x:584,y:299,type:"none"},{x:584,y:323,type:"none"},{x:601,y:323,type:"none"},{x:601,y:339,type:"combat",name:"Striped Horror"},{x:601,y:356,type:"none"},{x:547,y:356,type:"none"},{x:547,y:367,type:"rescue",name:"Desert Rabbit"},{x:547,y:378,type:"none"},{x:617,y:378,type:"none"},{x:617,y:420,type:"boss",name:"Dragonfly Agaric"},{x:554,y:420,type:"rescue",name:"Bayla"},{x:554,y:477,type:"combat",name:"Artifact Seeker"},{x:642,y:477,type:"combat",name:"Golden Chest"},{x:697,y:477,type:"combat",name:"King of Tadpoles"},{x:721,y:477,type:"none"},{x:721,y:426,type:"combat",name:"Hopanoids"},{x:676,y:426,type:"combat",name:"Tosyl Rose"},{x:676,y:380,type:"combat",name:"Sullen Bearer"},{x:721,y:380,type:"combat",name:"Unwelcoming Glade"},{x:721,y:343,type:"none"},{x:666,y:343,type:"none"},{x:666,y:309,type:"combat",name:"Food Mimic"},{x:666,y:252,type:"combat",name:"Frog Assassin"},{x:698,y:252,type:"combat",name:"Enantiomers"},{x:698,y:309,type:"none"},{x:733,y:309,type:"rescue",name:"Smiling Pilot"},{x:733,y:252,type:"combat",name:"Decay Manifest"},{x:733,y:205,type:"none"},{x:687,y:205,type:"rescue",name:"Hedge Lost"},{x:697,y:205,type:"none"},{x:697,y:149,type:"none"},{x:709,y:149,type:"combat",name:"Web of Power"},{x:709,y:137,type:"none"},{x:744,y:137,type:"none"},{x:744,y:76,type:"none"},{x:733,y:76,type:"combat",name:"Tombstone of the Forgotten"},{x:733,y:65,type:"none"},{x:607,y:65,type:"none"},{x:607,y:76,type:"combat",name:"Hippogryph"},{x:607,y:112,type:"none"},{x:628,y:112,type:"none"},{x:628,y:121,type:"combat",name:"The King's Armor"},{x:639,y:121,type:"none"},{x:639,y:167,type:"none"},{x:628,y:167,type:"combat",name:"Corridor of Illusions"},{x:628,y:177,type:"none"},{x:526,y:177,type:"rescue",name:"Zaktar Kadoque"},{x:526,y:142,type:"none"},{x:540,y:142,type:"combat",name:"Hiber Conduit"},{x:540,y:69,type:"combat",name:"Core Diver"},{x:503,y:69,type:"combat",name:"Smother Mother"},{x:503,y:127,type:"combat",name:"The Final Warden"},{x:407,y:127,type:"finalboss",name:"Skelemasterion",end:!0}];function Hn(e,t){const n=[],r=[...t],i=[];let s;for(const o of be)if(s&&o.label===s&&(s=void 0),!s){if(n.push(o),o.end||n.length===e+1)return{path:n,turns:i};if(o.next){const a=r.shift()??"";i.push(a);const l=o.next[a];l||console.error(`"${a}" not  a valid step: ${JSON.stringify(o.next)}`),s=l?.label}}return{path:n,turns:i}}function Ve(e){return e.name??e.label??`${e.x},${e.y}`}function ka(e){const t=[];let n=be.findIndex(r=>Ve(r)===e);for(;n>0;){t.unshift(be[n]);const r=be[n].label;if(r)for(;;){n-=1;const i=be[n].next;if(i&&Object.values(i).some(s=>s.label===r))break}else n-=1}return t.unshift(be[0]),t}const Di={},xa={};for(let e=0;e<be.length;e++){const t=be[e];t.index=e;const n=Ve(t);xa[n]=t,t.label&&(Di[t.label]=e)}const cr={};for(let e=0;e<be.length-1;e++){const t=be[e];if(t.next)for(const n of Object.keys(t.next)){const r=t.next[n];if(!r.label)continue;const i=Di[r.label];i!==void 0&&(cr[i]={room:e,turn:n})}else be[e+1].label||(cr[e+1]={room:e})}for(let e=0;e<be.length;e++){const t=be[e];if(t.type==="none"||t.type==="rescue")continue;const n=Ve(t);for(let r=cr[e];r!==void 0&&r.room>0;r=cr[r.room]){const i=be[r.room];if(r.turn&&i.next){const s=i.next[r.turn];s.leadsTo=s.leadsTo?"multiple":n}else i.leadsTo=i.leadsTo?"multiple":n;if(i.type!=="none"&&i.type!=="rescue")break}}function Sa(){return{fruit:1,packs:1,bestWeaponLevel:1,unlocked:["Stick Master"],discovered:[],name:"Unnamed Guild",startTime:0,floorCompletions:[]}}const Rc=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),Ic=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0});function Re(e){return e>9999999999?`${Re(e/1e9)} B`:e<10?Rc.format(e):Ic.format(e)}function en(e){return Math.floor(1e-8*e**7+e)}function Ft(e){if(!e)return"0 seconds";let t=e;const n=["year","day","hour","minute","second","ms","µs","ns"],r=[365,24,60,60,1e3,1e3,1e3];let i=n.indexOf("ms");for(;i>0&&t>=r[i-1];)t/=r[i-1],i--;for(;i<r.length-1&&t<1;)t*=r[i],i++;if(t<2&&i<r.length-1){const o=Math.round((t-1)*r[i]);if(o===0)return`1 ${n[i]}`;if(o===1)return`1 ${n[i]} 1 ${n[i+1]}`;const a=n[i+1].endsWith("s")?"":"s";return`1 ${n[i]} ${Re(o)} ${n[i+1]}${a}`}const s=n[i].endsWith("s")?"":"s";return`${Re(Math.round(t))} ${n[i]}${s}`}const Et=[{name:"Ultramasterion",limit:0},{name:"Grandmasterion",limit:0},{name:"Rapid Destructorion",limit:0},{name:"Honorary Hopanoid",limit:0},{name:"Skyrmion Skirmisher",limit:0},{name:"Tosyl Ambassador",limit:0},{name:"Bandling General",limit:0},{name:"Trollish Mayor",limit:1e3*60*60*24*8},{name:"Potato Potential",limit:Number.POSITIVE_INFINITY}],Vr=Et.length;for(let e=2;e<Vr;++e)Et[Vr-1-e].limit=Math.ceil(Et[Vr-e].limit/2);function Lc(e){for(let t=0;t<Et.length;t++)if(e<Et[t].limit)return t;throw new Error("Unreachable — the last entry has limit = Infinity")}const _a=[{name:"Wild Slime",health:10,rewards:{gold:1,fruit:1},weaknesses:["fire","ice","left","right"]},{name:"Poison Crow",health:20,rewards:{gold:2,fruit:1},weaknesses:["fire","ice","left"]},{name:"Animated Skeleton",health:50,rewards:{gold:5,fruit:3},weaknesses:["front","blunt"]},{name:"Thick Door",health:10,rewards:{gold:0,fruit:0},armor:3,weaknesses:["fire","blunt","back"]},{name:"Bandlings",health:5,rewards:{gold:5,fruit:2},count:5},{name:"Dead Gladiator",health:100,armor:10,rewards:{gold:5,fruit:10}},{name:"Lobster Daddy",health:100,armor:100,rewards:{gold:10,fruit:5},weaknesses:["fire"]},{name:"Will-o-Wasp",health:100,dodge:3,rewards:{gold:15,fruit:1},weaknesses:["front"]},{name:"The Shroud",health:1e3,ethereal:!0,rewards:{gold:10,fruit:7}},{name:"Dark Lord",health:1e4,armor:800,rewards:{gold:10,fruit:10}},{name:"Clockomancer",health:1e5,rewards:{fruit:1e3},slowTime:100,passiveEffects:["The Clockomancer slows down time."]},{name:"Glass Dragon",health:1e5,rewards:{gold:100,fruit:10},weaknesses:["blunt","back"]},{name:"Xaranthian Construct",health:65e4,rewards:{gold:250},weaknesses:["left"]},{name:"Potato Golem",health:1e3,armor:1e3,rewards:{fruit:70,saplings:1},weaknesses:["sharp","fire"]},{name:"Fortified Door",health:100,armor:1e3,rewards:{}},{name:"Master of Doors",health:125e4,armor:1e4,rewards:{fruit:30}},{name:"Corrupted Bounty Hunter",health:99e4,armor:1e3,dodge:.25,rewards:{gold:200},weaknesses:["front"]},{name:"Lior the Weaver",health:16e4,armor:1,dodge:.1,rewards:{gold:200,fruit:80},weaknesses:["sharp","fire"]},{name:"Skeletron",health:1e5,armor:200,rewards:{gold:100},weaknesses:["blunt","back"]},{name:"Chago's Chamber",health:6e5,armor:1e3,rewards:{gold:200},weaknesses:["blunt","water"]},{name:"Chago",health:14e4,armor:25e3,rewards:{fruit:60},dodge:.01,weaknesses:["blunt","water"]},{name:"Door of Loathing",health:1e6,armor:1e4,immune:["sharp","blunt"],rewards:{gold:200},weaknesses:["ice","light"]},{name:"Zakatrixos",health:12e4,ethereal:!0,rewards:{}},{name:"Wands from the Depths",health:6e5,armor:24e3,rewards:{gold:200,fruit:40},immune:["water"],weaknesses:["ice"]},{name:"Skyrmions",health:107,ethereal:!0,count:107,rewards:{fruit:107},weaknesses:["back"]},{name:"Defensive Installation",health:1e6,armor:1e3,rewards:{gold:800},weaknesses:["blunt","front"]},{name:"Tenebra",health:3e5,ethereal:!0,rewards:{fruit:77},weaknesses:["fire","front"]},{name:"Landas Wizard",health:32e4,dodge:.001,rewards:{gold:200,fruit:100},weaknesses:["water","back"]},{name:"Crystal Man",health:600,dodge:1e-5,rewards:{gold:1e3,fruit:500},weaknesses:["blunt","ice"]},{name:"Power Crystal",health:1,armor:1e5,rewards:{fruit:1e4},weaknesses:["blunt"]},{name:"Frozen Centurion",health:200,dodge:10,rewards:{gold:3,fruit:5},immune:["ice"],weaknesses:["fire","front"]},{name:"Trollish Maiden",health:1e3,regen:100,rewards:{gold:8,fruit:6},passiveEffects:["The Trollish Maiden heals quickly."]},{name:"Dryfin Carp",health:1e4,rewards:{gold:12,fruit:10},weaknesses:["water","back"]},{name:"Scaffold Sorcery",health:2e4,armor:1e3,rewards:{gold:25,fruit:6},weaknesses:["fire","sharp"]},{name:"Lost Swimmer",health:3e4,armor:2e3,rewards:{fruit:20},immune:["water"],weaknesses:["ice"]},{name:"Geckalog",health:8e4,rewards:{gold:80,fruit:15},weaknesses:["ice","left"]},{name:"Jaw Maw Maw",health:6e4,regen:60,rewards:{gold:60,fruit:16},passiveEffects:["Jaw Maw Maw heals quickly."]},{name:"Gnollish Ambassador",health:12e4,dodge:10,rewards:{gold:20,fruit:19},weaknesses:["fire","right"]},{name:"Striped Horror",health:2e5,armor:50,rewards:{gold:10,fruit:20}},{name:"Dragonfly Agaric",health:6e5,rewards:{gold:20,fruit:30},immune:["poison"],regen:3e3,weaknesses:["fire","left"],passiveEffects:["The spores of the Dragonfly Agaric are toxic to everything but itself."]},{name:"Artifact Seeker",health:7e4,dodge:2,rewards:{gold:1e3,fruit:20},weaknesses:["ice","fire","water"]},{name:"Golden Chest",health:1,armor:1e4,rewards:{gold:7500},weaknesses:["blunt"]},{name:"King of Tadpoles",health:125e4,rewards:{gold:100,fruit:60},immune:["water"]},{name:"Hopanoids",count:12,health:5e4,armor:1e3,dodge:1,rewards:{fruit:100},weaknesses:["fire"]},{name:"Tosyl Rose",health:86e4,armor:4e3,rewards:{gold:100,fruit:100},weaknesses:["fire","right"]},{name:"Sullen Bearer",health:99e4,armor:1e4,rewards:{gold:200},weaknesses:["back"]},{name:"Unwelcoming Glade",health:24e5,rewards:{gold:100,fruit:100,saplings:1},weaknesses:["fire","sharp"]},{name:"Food Mimic",health:31e5,armor:10,rewards:{gold:100,fruit:120},weaknesses:["blunt","bite"]},{name:"Frog Assassin",health:105e4,dodge:.1,rewards:{gold:1,fruit:1},weaknesses:["ice"]},{name:"Enantiomers",count:2,health:1e6,armor:29e3,dodge:.1,rewards:{fruit:150},weaknesses:["fire"]},{name:"Decay Manifest",health:2e6,regen:5e3,rewards:{gold:200,fruit:75},weaknesses:["fire","right"],passiveEffects:["The fruiting bodies of the Decay Manifest regrow as soon as you destroy them."]},{name:"Web of Power",health:1e7,rewards:{gold:2e3,fruit:50},weaknesses:["water","left"]},{name:"Tombstone of the Forgotten",health:29e6,armor:1e5,rewards:{gold:2e3,fruit:125},weaknesses:["front","light"]},{name:"Hippogryph",health:8e7,regen:1e4,rewards:{gold:12e3,fruit:200},weaknesses:["fire","left"],passiveEffects:["The Hippogryph heals quickly."]},{name:"The King's Armor",health:6e7,armor:1e6,rewards:{gold:8e3},immune:["sharp"],weaknesses:[]},{name:"Corridor of Illusions",health:6e6,dodge:.01,rewards:{gold:6e3,fruit:300},weaknesses:["light"]},{name:"Hiber Conduit",health:1e8,regen:8e3,rewards:{gold:800,fruit:400},immune:["ice"],weaknesses:["fire"],passiveEffects:["The molten parts of Hiber Conduit freeze to a solid form with little delay."]},{name:"Core Diver",health:51e7,regen:8e4,rewards:{gold:200,fruit:500},immune:["fire"],weaknesses:["water"],passiveEffects:["A lumbering shape of magma stands before you. The Core Diver's surface is continuously shed and renewed by a fiery flow."]},{name:"Smother Mother",health:25e7,armor:8e6,rewards:{gold:200,fruit:750},immune:["fire","light"],weaknesses:["left","water"],passiveEffects:["The Smother Mother is encased in an armor that must have a melting point beyond anything in our world."]},{name:"The Final Warden",dodge:.001,health:999e6,regen:6e5,rewards:{gold:15e3,fruit:2500},immune:["fire","poison"],weaknesses:["light","ice"],passiveEffects:["The air itself is strained and torn as the colossal form of the Final Warden moves, too fast to track."]},{name:"Skelemasterion",health:1e15,armor:1e12,regen:1e12,ethereal:!0,rewards:{gold:1e6,fruit:1e6},immune:["fire","ice","water","light","dark","poison","sharp","blunt","ranged"],passiveEffects:["This dungeon is barely strong enough to contain the invincible Skelemasterion."],eulogy:e=>{const t=e.team.floorCompletions[0]||0,n=Lc(t),r=t?n===0?`<p>You won in <span class="numbers">${Ft(t)}</span>, earning you the ultimate rank of <i>${Et[0].name}</i>.</p>`:`<p>You won in <span class="numbers">${Ft(t)}</span>, earning you the rank of <i>${Et[n].name}</i>.
          The cutoff for the next rank is at <span class="numbers">${Ft(Et[n-1].limit)}</span>.</p>`:"<p>Your adventure started before time measurement was implemented. If you start a new adventure, your time will be measured.</p>";return e.run.capturedMonsters.includes("Skelemasterion")?`<img src="images/generated/Skelemasterion-captured.webp" class="friend" style="margin-top: -30px;">
    <h1 style="margin-top: -10px">Skelemasterion is captured!</h1>
    <div class="description">
        ${r}
        <p>Your victory is complete. Your band organizes a feast.</p>
        <p>You search Skelemasterion's lair and collect its treasures. You can force the beast to reveal its secrets now.
          Finally you learn how to access the next level of the dungeon.</p>
    </div>`:`<img src="images/generated/Skelemasterion-dead.webp" class="friend">
    <h1 style="margin-top: -30px">Skelemasterion is defeated!</h1>
    <div class="description">
        ${r}
        <p>Victory is yours. A great evil has been vanquished. Time to celebrate!</p>
        <p>You search Skelemasterion's lair and collect its treasures. Yet you miss something that only Skelemasterion could reveal...</p>
    </div>`}}];function gn(e,t){e.run.capturedMonsters=e.run.capturedMonsters.filter(n=>n!==t)}const Ec={"Wild Slime":[{name:"Slobber",duration:5,damage:1,description:"Cover the enemy in slime."}],"Poison Crow":[{name:"Crow Blast",duration:5,description:"An explosion of feathers and poison.",tags:["poison"],onCompleted(e,t,n){const r=e.abilityEffects(n),i=r.rndHits(t);e.addPoison(10*r.damageMultiplier,i)}}],"Animated Skeleton":[{name:"Femurs Clashing",duration:5,damage:30,description:"Bones to bones. Ashes to ashes.",tags:["blunt"]}],"Thick Door":[{name:"Creaking",duration:10,damage:0,description:"The door creaks ominously.",tags:["sound"]}],Bandlings:[{name:"Swarm of Bandlings",duration:5,damage:1,description:"A swarm of fierce little warriors.",tags:["blunt"]}],"Dead Gladiator":[{name:"Blades of Revenge",duration:1,damage:100,description:"A vengeful gladiator attacks.",tags:["sharp"]}],"Lobster Daddy":[{name:"Claw Smash",duration:100,damage:1e3,description:"A powerful claw attack.",tags:["sharp"]}],"Will-o-Wasp":[{name:"Sting",duration:.05,damage:1,description:"The quick and painful sting of a wasp.",tags:["poison"]}],"The Shroud":[{name:"Shroud of Darkness",duration:1,damage:1e3,description:"Envelops the enemy in darkness.",tags:["dark"]}],"Dark Lord":[{name:"Shadow Strike",duration:1,damage:10,description:"The Dark Lord never misses.",tags:["dark","undodgeable"]}],Clockomancer:[{name:"Time Wrap",duration:1,description:"Slows down time.",peaceful:!0,onCompleted(e){e.run.speedLevel=1}},{name:"Time Burp",duration:2,description:"Pushes time forward.",peaceful:!0,affectedBySpeedLevel:!0,onCompleted(e,t){const n=Math.log(e.run.speedLevel),r=1+n/(n+5);e.run.skipTime+=1e3*t*r/e.run.speedLevel}}],"Glass Dragon":[{name:"Shatter",duration:1,damage:1e5,description:"The repairs are expensive.",consumes:{gold:100},tags:["sharp"]}],"Xaranthian Construct":[{name:"Fire Xaranthian Cannons",duration:10,damage:65e4,description:"Sounds like thunder, looks like lightning bolts flying straight at the target."}],"Potato Golem":[{name:"Fertilize Saplings",duration:1,description:"The number of saplings you have is effectively doubled. Potato magic.",peaceful:!0,consumes:e=>({gold:100*e.run.saplings}),onCompleted(e){e.run.saplings*=2}}],"Fortified Door":[{name:"Fortified Slam",duration:1,damage:1,description:"Slams shut with a sound so loud, it is felt by everyone.",tags:["blunt","sound","undodgeable"]}],"Master of Doors":[{name:"Master Key",duration:1,description:"Immediately defeats door-type enemies.",onCompleted(e){e.currentEnemy()?.name?.includes("Door")&&e.addDamage(1/0,1)}}],"Corrupted Bounty Hunter":[{name:"Hyper Beam",duration:100,damage:125e4,description:"Imagine a rainbow turning to violence."}],"Lior the Weaver":[{name:"Fabric of Reality",duration:5,damage:12e4,tags:["left","right","front","back"],description:"An attack that comes from all directions at once."}],Skeletron:[{name:"Bonetron",duration:2,damage:1e3,tags:["blunt"],description:"Applies a bone to the head of the enemy."}],"Chago's Chamber":[],Chago:[{name:"Create Cheese Demon",duration:300,description:"Chago releases a demon to chew on the enemy.",tags:["bite"],onCompleted(e,t,n){const r=e.abilityEffects(n),i=r.rndHits(t);e.addPoison(16e4*r.damageMultiplier,i)}}],"Door of Loathing":[{name:"Look of Loathing",duration:60,damage:1,tags:["dark"],description:"The Door of Loathing taunts the enemy and draws its attacks onto itself."}],Zakatrixos:[{name:"Pierce the Veil",duration:100,description:`
For the duration of the spell, Zakatrixos shifts the band into the ethereal plane.
This negates the defenses of ethereal enemies.`}],"Wands from the Depths":[{name:"Sapphire Wand",duration:10,damage:12e4,description:"One of the Wands from the Depths.",tags:["water"]},{name:"Emerald Wand",duration:10,damage:12e4,description:"One of the Wands from the Depths.",tags:["poison"]},{name:"Ruby Wand",duration:10,damage:12e4,description:"One of the Wands from the Depths.",tags:["fire"]}],Skyrmions:[{name:"Release Excitation Energy",duration:107,damage:107,tags:["light"],description:"Skyrmion pairing of opposite charges from opposite valleys is favored by both Coulomb and effective Zeeman terms."}],"Defensive Installation":[{name:"Set Up Defenses",duration:1200,damage:8e8,tags:["ranged"],description:"The best defense is a slow but devastating attack."}],Tenebra:[{name:"Ebony Stripe",tags:["dark"],duration:100,damage:11e5,description:"The black stripes connect to the darkness of the underworld."},{name:"Ivory Stripe",tags:["light"],duration:100,damage:11e5,description:"The white stripes connect to the light of the heavens."}],"Landas Wizard":[{name:"Send Sand",tags:["sand"],duration:100,damage:2e5,description:"A sandstorm passes through the battlefield."}],"Crystal Man":[{name:"Resonate Crystals",tags:["sound"],duration:8,damage:8e4,description:"The Crystal Man emits a mighty vibration when wet."}],"Power Crystal":[],"Frozen Centurion":[{name:"Frozen Century",duration:100*365*24*60*60,damage:5e12,tags:["ice"],description:"An attack of patience and determination."}],"Trollish Maiden":[{name:"Maiden's Smash",duration:1,damage:1e3,tags:["blunt"],description:"The narrow corridors of the dungeon limit the athleticism of trolls, but they are still a force to fear."}],"Dryfin Carp":[{name:"Sand Bubbles",duration:20,damage:1e3,tags:["sand"],description:"Dryfin Carps are feared across the Landas Desert for their ferocious bubble attacks."}],"Scaffold Sorcery":[{name:"Collapse Scaffold",duration:5,tags:["blunt"],description:"A single-use ability that deals significant damage to those caught under the scaffold.",onCompleted(e,t,n){const r=e.abilityEffects(n);e.addDamage(12e6*r.damageMultiplier,1),gn(e,"Scaffold Sorcery")}}],"Lost Swimmer":[{name:"Flood",duration:100,damage:1e6,tags:["water","undodgeable"],description:"A deceptively slow attack that fills up the battlefield. No attacks can be dodged while the flood is in progress."}],Geckalog:[{name:"Tail Whoop",duration:.1,damage:40,tags:["blunt"],description:"A quick strike of the Geckalog's tail."}],"Jaw Maw Maw":[{name:"Healing Factor",duration:1,description:"Jaw Maw Maw can restore anyone to full health, not just herself.",onCompleted(e){e.run.room.damage=0}}],"Gnollish Ambassador":[{name:"Diplomatic Cables",duration:12,damage:5e3,tags:["sharp"],description:"A web of Gnollish steel wires strangle the enemy."}],"Striped Horror":[{name:"Ebony Stripe",tags:["dark"],duration:100,damage:3e4,description:"The black stripes connect to the darkness of the underworld."},{name:"Ivory Stripe",tags:["light"],duration:100,damage:3e4,description:"The white stripes connect to the light of the heavens."}],"Dragonfly Agaric":[{name:"Agaric Poison Strike",tags:["poison"],duration:5,description:"The deadly poison of the Dragonfly Agaric causes great damage over time.",onCompleted(e,t,n){const r=e.abilityEffects(n),i=r.rndHits(t);e.addPoison(20*r.damageMultiplier,i)}}],"Artifact Seeker":[{name:"Seek Artifact",duration:10,peaceful:!0,description:`
Finds a chest containing an artifact worth a thousand pieces of <img src="images/generated/gold.webp" class="resource-icon resource-icon-solo" />.
Have these chests always been around us?`,onCompleted(e,t){e.run.gold+=1e4*t}}],"Golden Chest":[],"King of Tadpoles":[{name:"Recruit Tadpole",duration:30,description:"The king sends a tadpole to battle.",tags:["bite"],onCompleted(e,t,n){const r=e.abilityEffects(n),i=r.rndHits(t);e.addPoison(60*r.damageMultiplier,i)}}],Hopanoids:[{name:"Release Hopanoids",duration:1,description:"Releasing the Hopanoids will give you a rush of speed.",peaceful:!0,onCompleted(e){e.run.speedLevel+=2,gn(e,"Hopanoids")}}],"Tosyl Rose":[{name:"Dance of Petals",duration:.5,damage:120,tags:["sharp"],description:`
The head of the Tosyl warrior disappears in an explosion of sharp petals.
Then a whirlwind collects all the petals and puts them back together in the shape of a rose. Beautiful and deadly.`}],"Sullen Bearer":[{name:"Grim Strike",duration:100,damage:2e4,tags:["dark"],description:"A lurching attack that seems easy to defend against. The metal of the blade can be stopped by armor. The evil of its bearer can not."}],"Unwelcoming Glade":[],"Food Mimic":[{name:"Mimic Fruit",duration:60,peaceful:!0,onCompleted(e){e.run.fruit+=1e3*e.fruitMultiplier(),gn(e,"Food Mimic")},description:'The Food Mimic permanently turns into a large amount of <img src="images/generated/fruit.webp" class="resource-icon resource-icon-solo" />.'}],"Frog Assassin":[{name:"Last Croak",duration:2,damage:2e4,description:"Hire a famous assassin.",consumes:{gold:1e5},tags:["sharp"]}],Enantiomers:[{name:"Last Flash",duration:10,description:"The Enantiomers cancel each other out in a final burst that increases your speed.",peaceful:!0,onCompleted(e){e.run.speedLevel+=10,gn(e,"Enantiomers")}}],"Decay Manifest":[{name:"Waft of Decay",duration:5,description:"While this ability is active, poisoned enemies lose health twice as fast."}],"Web of Power":[{name:"Spider Power",tags:["poison"],duration:.2,damage:100,description:"A quick, sharp stab is all that is felt."}],"Tombstone of the Forgotten":[{name:"The Forgotten Siege",duration:1e4,damage:8e8,tags:["dark"],description:"Knights from beyond the tomb lay waste to your enemies."}],Hippogryph:[{name:"Hippograb",tags:["blunt"],duration:25,damage:2e5,description:"The beast lifts its prey into the air, then smashes them to the ground."}],"The King's Armor":[],"Corridor of Illusions":[],"Hiber Conduit":[{name:"Hibernate",tags:["ice"],duration:240,damage:24e5,description:"Pipes filled with sub-zero liquid coil around the target."}],"Core Diver":[{name:"Magma Vortex",duration:60,damage:12e5,tags:["fire"],description:"The Core Diver floods the area with magma that pulls down your enemies."}],"Smother Mother":[{name:"Smother",tags:["poison","fire","dark","undodgeable"],duration:15,damage:3e5,description:"Fumes from the underworld cover the battlefield. All life and light is extinguished."}],"The Final Warden":[{name:"The Final Warning",duration:120,damage:24e5,tags:["ranged","sound"],description:"A warning, a generous pause, then the ring of a deadly weapon."}],Skelemasterion:[{name:"Cancelion",duration:10,description:"Skelemasterion defeats the opponent. Skelemasterion is lost in the process.",preventRepeat:!0,onCompleted(e){e.addDamage(1/0,1),gn(e,"Skelemasterion")}},{name:"Reveal Skelemasterion's Stairway",duration:20,peaceful:!0,description:`
Hidden in Skelemasterion's lair is a stairway leading to the second level of the dungeon.

NOT IMPLEMENTED YET

This is the end of the current content. Congratulations and thanks for playing!`,hidden:e=>e.currentRoom()?.name!=="Skelemasterion",onCompleted(){}}]},On={};for(const e of _a){On[e.name]=e,e.abilities=Ec[e.name]??[];for(const t of e.abilities)t.image=e.name}function Pi(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Yt=Pi();function Ta(e){Yt=e}var $n={exec:()=>null};function ne(e,t=""){let n=typeof e=="string"?e:e.source,r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(Pe.caret,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,t)};return r}var Pe={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Dc=/^(?:[ \t]*(?:\n|$))+/,Pc=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Bc=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Gn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Hc=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Bi=/(?:[*+-]|\d{1,9}[.)])/,Ca=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,$a=ne(Ca).replace(/bull/g,Bi).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Oc=ne(Ca).replace(/bull/g,Bi).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Hi=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Nc=/^[^\n]+/,Oi=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Wc=ne(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Oi).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),zc=ne(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Bi).getRegex(),Mr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ni=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,jc=ne("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ni).replace("tag",Mr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Aa=ne(Hi).replace("hr",Gn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mr).getRegex(),Kc=ne(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Aa).getRegex(),Wi={blockquote:Kc,code:Pc,def:Wc,fences:Bc,heading:Hc,hr:Gn,html:jc,lheading:$a,list:zc,newline:Dc,paragraph:Aa,table:$n,text:Nc},Ds=ne("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Gn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mr).getRegex(),Gc={...Wi,lheading:Oc,table:Ds,paragraph:ne(Hi).replace("hr",Gn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ds).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mr).getRegex()},qc={...Wi,html:ne(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ni).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:$n,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ne(Hi).replace("hr",Gn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",$a).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Uc=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Fc=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ma=/^( {2,}|\\)\n(?!\s*$)/,Vc=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Rr=/[\p{P}\p{S}]/u,zi=/[\s\p{P}\p{S}]/u,Ra=/[^\s\p{P}\p{S}]/u,Jc=ne(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,zi).getRegex(),Ia=/(?!~)[\p{P}\p{S}]/u,Yc=/(?!~)[\s\p{P}\p{S}]/u,Zc=/(?:[^\s\p{P}\p{S}]|~)/u,Xc=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,La=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Qc=ne(La,"u").replace(/punct/g,Rr).getRegex(),ed=ne(La,"u").replace(/punct/g,Ia).getRegex(),Ea="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",td=ne(Ea,"gu").replace(/notPunctSpace/g,Ra).replace(/punctSpace/g,zi).replace(/punct/g,Rr).getRegex(),nd=ne(Ea,"gu").replace(/notPunctSpace/g,Zc).replace(/punctSpace/g,Yc).replace(/punct/g,Ia).getRegex(),rd=ne("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Ra).replace(/punctSpace/g,zi).replace(/punct/g,Rr).getRegex(),id=ne(/\\(punct)/,"gu").replace(/punct/g,Rr).getRegex(),sd=ne(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),od=ne(Ni).replace("(?:-->|$)","-->").getRegex(),ad=ne("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",od).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),dr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ld=ne(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",dr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Da=ne(/^!?\[(label)\]\[(ref)\]/).replace("label",dr).replace("ref",Oi).getRegex(),Pa=ne(/^!?\[(ref)\](?:\[\])?/).replace("ref",Oi).getRegex(),ud=ne("reflink|nolink(?!\\()","g").replace("reflink",Da).replace("nolink",Pa).getRegex(),ji={_backpedal:$n,anyPunctuation:id,autolink:sd,blockSkip:Xc,br:Ma,code:Fc,del:$n,emStrongLDelim:Qc,emStrongRDelimAst:td,emStrongRDelimUnd:rd,escape:Uc,link:ld,nolink:Pa,punctuation:Jc,reflink:Da,reflinkSearch:ud,tag:ad,text:Vc,url:$n},cd={...ji,link:ne(/^!?\[(label)\]\((.*?)\)/).replace("label",dr).getRegex(),reflink:ne(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",dr).getRegex()},pi={...ji,emStrongRDelimAst:nd,emStrongLDelim:ed,url:ne(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},dd={...pi,br:ne(Ma).replace("{2,}","*").getRegex(),text:ne(pi.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Zn={normal:Wi,gfm:Gc,pedantic:qc},yn={normal:ji,gfm:pi,breaks:dd,pedantic:cd},fd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ps=e=>fd[e];function st(e,t){if(t){if(Pe.escapeTest.test(e))return e.replace(Pe.escapeReplace,Ps)}else if(Pe.escapeTestNoEncode.test(e))return e.replace(Pe.escapeReplaceNoEncode,Ps);return e}function Bs(e){try{e=encodeURI(e).replace(Pe.percentDecode,"%")}catch{return null}return e}function Hs(e,t){let n=e.replace(Pe.findPipe,(s,o,a)=>{let l=!1,d=o;for(;--d>=0&&a[d]==="\\";)l=!l;return l?"|":" |"}),r=n.split(Pe.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Pe.slashPipe,"|");return r}function bn(e,t,n){let r=e.length;if(r===0)return"";let i=0;for(;i<r&&e.charAt(r-i-1)===t;)i++;return e.slice(0,r-i)}function pd(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function Os(e,t,n,r,i){let s=t.href,o=t.title||null,a=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function hd(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(r===null)return t;let i=r[1];return t.split(`
`).map(s=>{let o=s.match(n.other.beginningSpace);if(o===null)return s;let[a]=o;return a.length>=i.length?s.slice(i.length):s}).join(`
`)}var fr=class{options;rules;lexer;constructor(e){this.options=e||Yt}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:bn(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=hd(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=bn(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:bn(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=bn(t[0],`
`).split(`
`),r="",i="",s=[];for(;n.length>0;){let o=!1,a=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),o=!0;else if(!o)a.push(n[l]);else break;n=n.slice(l);let d=a.join(`
`),u=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${d}`:d,i=i?`${i}
${u}`:u;let c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=c,n.length===0)break;let m=s.at(-1);if(m?.type==="code")break;if(m?.type==="blockquote"){let k=m,g=k.raw+`
`+n.join(`
`),p=this.blockquote(g);s[s.length-1]=p,r=r.substring(0,r.length-k.raw.length)+p.raw,i=i.substring(0,i.length-k.text.length)+p.text;break}else if(m?.type==="list"){let k=m,g=k.raw+`
`+n.join(`
`),p=this.list(g);s[s.length-1]=p,r=r.substring(0,r.length-m.raw.length)+p.raw,i=i.substring(0,i.length-k.raw.length)+p.raw,n=g.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let s=this.rules.other.listItemRegex(n),o=!1;for(;e;){let l=!1,d="",u="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;d=t[0],e=e.substring(d.length);let c=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,x=>" ".repeat(3*x.length)),m=e.split(`
`,1)[0],k=!c.trim(),g=0;if(this.options.pedantic?(g=2,u=c.trimStart()):k?g=t[1].length+1:(g=t[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,u=c.slice(g),g+=t[1].length),k&&this.rules.other.blankLine.test(m)&&(d+=m+`
`,e=e.substring(m.length+1),l=!0),!l){let x=this.rules.other.nextBulletRegex(g),L=this.rules.other.hrRegex(g),B=this.rules.other.fencesBeginRegex(g),R=this.rules.other.headingBeginRegex(g),W=this.rules.other.htmlBeginRegex(g);for(;e;){let J=e.split(`
`,1)[0],se;if(m=J,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),se=m):se=m.replace(this.rules.other.tabCharGlobal,"    "),B.test(m)||R.test(m)||W.test(m)||x.test(m)||L.test(m))break;if(se.search(this.rules.other.nonSpaceChar)>=g||!m.trim())u+=`
`+se.slice(g);else{if(k||c.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||B.test(c)||R.test(c)||L.test(c))break;u+=`
`+m}!k&&!m.trim()&&(k=!0),d+=J+`
`,e=e.substring(J.length+1),c=se.slice(g)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(o=!0));let p=null,b;this.options.gfm&&(p=this.rules.other.listIsTask.exec(u),p&&(b=p[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:d,task:!!p,checked:b,loose:!1,text:u,tokens:[]}),i.raw+=d}let a=i.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){let d=i.items[l].tokens.filter(c=>c.type==="space"),u=d.length>0&&d.some(c=>this.rules.other.anyLine.test(c.raw));i.loose=u}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=Hs(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let o of r)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<n.length;o++)s.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:s.align[o]});for(let o of i)s.rows.push(Hs(o,s.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:s.align[l]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=bn(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=pd(t[2],"()");if(s===-2)return;if(s>-1){let o=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Os(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[r.toLowerCase()];if(!i){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Os(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let i=[...r[0]].length-1,s,o,a=i,l=0,d=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+i);(r=d.exec(t))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(o=[...s].length,r[3]||r[4]){a+=o;continue}else if((r[5]||r[6])&&i%3&&!((i+o)%3)){l+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+l);let u=[...r[0]][0].length,c=e.slice(0,i+r.index+u+o);if(Math.min(i,o)%2){let k=c.slice(1,-1);return{type:"em",raw:c,text:k,tokens:this.lexer.inlineTokens(k)}}let m=c.slice(2,-2);return{type:"strong",raw:c,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]==="@")n=t[0],r="mailto:"+n;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(i!==t[0]);n=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},bt=class hi{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Yt,this.options.tokenizer=this.options.tokenizer||new fr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Pe,block:Zn.normal,inline:yn.normal};this.options.pedantic?(n.block=Zn.pedantic,n.inline=yn.pedantic):this.options.gfm&&(n.block=Zn.gfm,this.options.breaks?n.inline=yn.breaks:n.inline=yn.gfm),this.tokenizer.rules=n}static get rules(){return{block:Zn,inline:yn}}static lex(t,n){return new hi(n).lex(t)}static lexInline(t,n){return new hi(n).inlineTokens(t)}lex(t){t=t.replace(Pe.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){for(this.options.pedantic&&(t=t.replace(Pe.tabCharGlobal,"    ").replace(Pe.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some(o=>(i=o.call({lexer:this},t,n))?(t=t.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);let o=n.at(-1);i.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.at(-1).src=o.text):n.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+i.raw,o.text+=`
`+i.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),n.push(i);continue}let s=t;if(this.options.extensions?.startBlock){let o=1/0,a=t.slice(1),l;this.options.extensions.startBlock.forEach(d=>{l=d.call({lexer:this},a),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(s=t.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(i),r=s.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);let o=n.at(-1);o?.type==="text"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(i);continue}if(t){let o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r=t,i=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)a.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,o="";for(;t;){s||(o=""),s=!1;let a;if(this.options.extensions?.inline?.some(d=>(a=d.call({lexer:this},t,n))?(t=t.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.escape(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(a.raw.length);let d=n.at(-1);a.type==="text"&&d?.type==="text"?(d.raw+=a.raw,d.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(t,r,o)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(t)){t=t.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(t))){t=t.substring(a.raw.length),n.push(a);continue}let l=t;if(this.options.extensions?.startInline){let d=1/0,u=t.slice(1),c;this.options.extensions.startInline.forEach(m=>{c=m.call({lexer:this},u),typeof c=="number"&&c>=0&&(d=Math.min(d,c))}),d<1/0&&d>=0&&(l=t.substring(0,d+1))}if(a=this.tokenizer.inlineText(l)){t=t.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),s=!0;let d=n.at(-1);d?.type==="text"?(d.raw+=a.raw,d.text+=a.text):n.push(a);continue}if(t){let d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}},pr=class{options;parser;constructor(e){this.options=e||Yt}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(Pe.notSpaceStart)?.[0],i=e.replace(Pe.endingNewline,"")+`
`;return r?'<pre><code class="language-'+st(r)+'">'+(n?i:st(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:st(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,r="";for(let o=0;o<e.items.length;o++){let a=e.items[o];r+=this.listitem(a)}let i=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+r+"</"+i+`>
`}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+st(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){let s=e.rows[i];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${st(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=Bs(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+st(t)+'"'),s+=">"+r+"</a>",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=Bs(e);if(i===null)return st(n);e=i;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${st(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:st(e.text)}},Ki=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},wt=class mi{options;renderer;textRenderer;constructor(t){this.options=t||Yt,this.options.renderer=this.options.renderer||new pr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ki}static parse(t,n){return new mi(n).parse(t)}static parseInline(t,n){return new mi(n).parseInline(t)}parse(t,n=!0){let r="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let a=s,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=l||"";continue}}let o=s;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;i+1<t.length&&t[i+1].type==="text";)a=t[++i],l+=`
`+this.renderer.text(a);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(t,n=this.renderer){let r="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=a||"";continue}}let o=s;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},nr=class{options;block;constructor(e){this.options=e||Yt}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?bt.lex:bt.lexInline}provideParser(){return this.block?wt.parse:wt.parseInline}},md=class{defaults=Pi();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=wt;Renderer=pr;TextRenderer=Ki;Lexer=bt;Tokenizer=fr;Hooks=nr;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let i=r;for(let s of i.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of i.rows)for(let o of s)n=n.concat(this.walkTokens(o.tokens,t));break}case"list":{let i=r;n=n.concat(this.walkTokens(i.items,t));break}default:{let i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let o=i[s].flat(1/0);n=n.concat(this.walkTokens(o,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=t.renderers[i.name];s?t.renderers[i.name]=function(...o){let a=i.renderer.apply(this,o);return a===!1&&(a=s.apply(this,o)),a}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){let i=this.defaults.renderer||new pr(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,a=n.renderer[o],l=i[o];i[o]=(...d)=>{let u=a.apply(i,d);return u===!1&&(u=l.apply(i,d)),u||""}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new fr(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,a=n.tokenizer[o],l=i[o];i[o]=(...d)=>{let u=a.apply(i,d);return u===!1&&(u=l.apply(i,d)),u}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new nr;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,a=n.hooks[o],l=i[o];nr.passThroughHooks.has(s)?i[o]=d=>{if(this.defaults.async)return Promise.resolve(a.call(i,d)).then(c=>l.call(i,c));let u=a.call(i,d);return l.call(i,u)}:i[o]=(...d)=>{let u=a.apply(i,d);return u===!1&&(u=l.apply(i,d)),u}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(o){let a=[];return a.push(s.call(this,o)),i&&(a=a.concat(i.call(this,o))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return bt.lex(e,t??this.defaults)}parser(e,t){return wt.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},i={...this.defaults,...r},s=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&r.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=e);let o=i.hooks?i.hooks.provideLexer():e?bt.lex:bt.lexInline,a=i.hooks?i.hooks.provideParser():e?wt.parse:wt.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then(l=>o(l,i)).then(l=>i.hooks?i.hooks.processAllTokens(l):l).then(l=>i.walkTokens?Promise.all(this.walkTokens(l,i.walkTokens)).then(()=>l):l).then(l=>a(l,i)).then(l=>i.hooks?i.hooks.postprocess(l):l).catch(s);try{i.hooks&&(t=i.hooks.preprocess(t));let l=o(t,i);i.hooks&&(l=i.hooks.processAllTokens(l)),i.walkTokens&&this.walkTokens(l,i.walkTokens);let d=a(l,i);return i.hooks&&(d=i.hooks.postprocess(d)),d}catch(l){return s(l)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+st(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},Vt=new md;function ee(e,t){return Vt.parse(e,t)}ee.options=ee.setOptions=function(e){return Vt.setOptions(e),ee.defaults=Vt.defaults,Ta(ee.defaults),ee};ee.getDefaults=Pi;ee.defaults=Yt;ee.use=function(...e){return Vt.use(...e),ee.defaults=Vt.defaults,Ta(ee.defaults),ee};ee.walkTokens=function(e,t){return Vt.walkTokens(e,t)};ee.parseInline=Vt.parseInline;ee.Parser=wt;ee.parser=wt.parse;ee.Renderer=pr;ee.TextRenderer=Ki;ee.Lexer=bt;ee.lexer=bt.lex;ee.Tokenizer=fr;ee.Hooks=nr;ee.parse=ee;ee.options;ee.setOptions;ee.use;ee.walkTokens;ee.parseInline;wt.parse;bt.lex;function Y(e,t){const n=t??"";return`<span class="numbers">${Re(e)}${n}</span>`}const Ns=Math.log(3)/Math.log(2),Ba=[{name:"Anvilomancer",cost:0,description:`
An expert Anvilomancer can upgrade your weapons in the midst of battle.
Upgrades are mostly lost when leaving the dungeon.
The starting weapon level is the square root of the highest level achieved.
    `,abilities:[{name:"Forge",duration:5,consumes:{gold:1},description:e=>`Increases the level of all weapons. (Currently ${Y(e.weaponLevel())}.)`,onCompleted(e,t){e.run.weaponLevelAdded+=t},peaceful:!0}],super:{name:"Anvilominator",description:`
An expert Anvilominator can upgrade your weapons in the midst of battle.
The Anvilominator retains upgrades from earlier runs.
The starting weapon level is the highest level achieved.
    `,abilities:[{name:"Forge",duration:10,consumes:{gold:5},description:e=>`Increases the level of all weapons by ${Y(10)}. (Currently ${Y(e.weaponLevel())}.)`,onCompleted(e,t){e.run.weaponLevelAdded+=10*t},peaceful:!0},{name:"Unforge",hidden:e=>e.run.room.armorDamage===(e.currentEnemy()?.armor??0),duration:5,description:(e,t)=>`Damages the armor of the enemy.

${Y(e.abilityEffects(t).damageMultiplier*10)} damage`,onCompleted(e,t,n){const r=e.abilityEffects(n),i=r.rndHits(t);e.run.room.armorDamage=Math.min(e.currentEnemy()?.armor??0,e.run.room.armorDamage+r.damageMultiplier*i*10)}}]}},{name:"Azrekta",cost:0,description:`
Azrekta bedevils her friends and foes. Her friends become more powerful versions of themselves.
Her enemies become ethereal, making them challenging to hit.
    `,abilities:[]},{name:"Coldblade",cost:0,description:"A frozen warrior. Legends say his attacks will kill any foe, but each swing takes a hundred years.",abilities:[{name:"Glacial Strike",description:"A very cold blade with a very sharp edge.",duration:3600*24*365*100,damage:1e11,tags:["ice"]}],super:{name:"Hotblade",description:"A frozen warrior, now with a hot blade. Legends say his attacks will kill any foe, but each swing takes a hundred years.",abilities:[{name:"Glacial Flame Strike",description:"A very hot blade with a very sharp edge.",duration:3600*24*365*100,damage:1e12,tags:["fire"]}]}},{name:"Dark Chef",cost:0,description:`
A master of the culinary arts, Dark Chef fights by poisoning the enemies.
The only way to defend against his attacks is to dodge them or wear layers of heavy armor.`,abilities:[{name:"Poison Strike",duration:5,tags:["poison"],description:e=>e.run.room.poison?`Damage over time. (Currently ${Y(e.run.room.poison)} damage per second.)`:"Damage over time.",onCompleted(e,t,n){const r=e.abilityEffects(n),i=r.rndHits(t);e.addPoison(r.damageMultiplier,i)}}],super:{name:"Dark Sommelier",description:`
A master of the culinary arts, Dark Sommelier fights by poisoning the enemies.
The airborne poison can not be dodged. The only way to defend against his attacks is to wear layers of heavy armor.
`,abilities:[{name:"Poison Strike",duration:5,tags:["poison","undodgeable"],description:e=>e.run.room.poison?`Poison the air. (Currently ${Y(e.run.room.poison)} damage per second.)`:"Poison the air.",onCompleted(e,t,n){const r=e.abilityEffects(n),i=r.rndHits(t);e.addPoison(r.damageMultiplier*10,i)}}]}},{name:"Desert Rabbit",cost:0,description:`
The Desert Rabbit grew up fighting gigantic enemies. He has developed a keen sense for their weaknesses.

With the Desert Rabbit in your band, you will see the weaknesses of enemies and the right attacks will deal double damage.
    `,super:{name:"Desert Armadillo",description:`
The Desert Armadillo grew up fighting gigantic enemies. He has developed a keen sense for their weaknesses.

With the Desert Armadillo in your band, you will see the weaknesses of enemies and the right attacks will deal double damage.
The damage bonus can be further increased with the Blessing of the Desert ability.
    `,abilities:[{name:"Blessing of the Desert",duration:5,consumes:{gold:1},description:e=>`Increases the damage multiplier for weaknesses. (Currently ${Y(e.run.desertBlessingMultiplier,"×")}.)`,onCompleted(e,t){e.run.desertBlessingMultiplier+=t},peaceful:!0}]}},{name:"Friend of Metal",description:"A warrior equipped with metal armor and weapons expertly crafted in the forges of the Friendship Mountain.",cost:0,abilities:[{name:"Steel Jab",duration:3,damage:10,description:"A finely crafted sword in the hands of a Friend of Metal.",tags:["sharp"]}],super:{name:"Friend of Metal and Fire",abilities:[{name:"Steel Jab+",duration:3,damage:100,description:"A finely crafted sword in the hands of a Friend of Metal and Fire.",tags:["sharp"]},{name:"Flame Jab+",duration:3,damage:100,description:"A flaming sword in the hands of a Friend of Metal and Fire.",tags:["fire"]}]}},{name:"Knight of Claws",cost:0,description:`
Trained as an assassin, the Knight of Claws works best on his own. His power doubles for every empty space next to him.
    `,abilities:[{name:"Claws & Thorns",duration:100,damage(e){const t=e.onboard("Knight of Claws");return 100*2**(t?e.emptySpacesAround(t.row,t.col).length:0)},description:"A whirlwind of sharp blades ravages the battlefield.",tags:["sharp"]}]},{name:"Lamplighter",cost:0,description:"Lamplighter lights up the tiles around it, letting you expand your band.",abilities:[{name:"Illuminate",duration:1,damage:2,description:"Shines a light on the battlefield, hurting the eyes accustomed to darkness.",tags:["light"]}],super:{name:"Lamperlighter"}},{name:"Royal Fruitbearer",cost:0,description:`
With the Royal Fruitbearer in your band, whenever you find fruit in the dungeon, every member of the band gives a piece to every other member.
    `,passiveEffects:["When you find fruit, every member of the band gives a piece to every other member. (Thanks to the Royal Fruitbearer.)"],super:{name:"Royal Fruitwearer",description:`
With the Royal Fruitwearer in your band, whenever you find fruit in the dungeon, every member of the band gives a piece to every other member.
In addition, any gold found is converted to fruit as well.
      `,passiveEffects:["Any gold found is converted to fruit. (Thanks to the Royal Fruitwearer.)","When you find fruit, every member of the band gives a piece to every other member. (Thanks to the Royal Fruitwearer.)"]}},{name:"Stick Master",cost:0,description:`
Stick Master is a humble explorer. While wandering the forest, they came upon the ruins of a long-lost castle.
At the lowest level, they discovered the entrance to the dungeon.
    `,abilities:[{name:"Wooden Stick",duration:.5,damage:1,description:"Whack it with a stick.",tags:["blunt"]}],super:{name:"Stick Grandmaster",abilities:[{name:"Wooden Stick",duration:.5,damage:2,description:"Whack it with a stick quite hard.",tags:["blunt"]}]}},{name:"The Silent Song",cost:0,description:"Her sweet melody doubles the damage dealt by friends standing next to her.",super:{name:"The Silent Quartet",description:"Their sweet melody doubles the damage dealt by all friends."}},{name:"Lord of Gears",cost:0,description:`
The Lord of Gears is a master of automation. The band members next to him need not do anything.
Their abilities will be activated automatically.
    `,super:{name:"Gear of Lords",description:`
The Gear of Lords is the ultimate master of automation. All abilities will be activated automatically.
    `}},{name:"Pur Lion",cost:0,description:"A thief, wanted in all the thirty kingdoms. Yet nobody is able to give an accurate description of him.",abilities:[{name:"Snatch",duration:2.5,description:"Steals a piece of gold.",onCompleted(e,t){e.run.gold+=t}}],super:{name:"Sir Pur Lion",abilities:[{name:"Snatch",duration:e=>2.5*e.weaponLevel(),preventRepeat:!0,description:e=>e.weaponLevel()>1?`Steals ${Y(e.weaponLevel())} pieces of gold.

Larger amounts take longer to steal.`:"Steals a piece of gold.",onCompleted(e,t){e.run.gold+=e.weaponLevel()*t}}]}},{name:"Kit Flash",cost:0,description:"A wizard of speed. Kit Flash can speed up the combat abilities of every member of the band.",abilities:[{name:"Running Start",duration:10,consumes:{gold:1},description:e=>`Speed up all combat abilities. (Currently ${Y(e.run.speedLevel,"×")}.)`,onCompleted(e,t){e.run.speedLevel+=t},peaceful:!0}],super:{name:"Kit Storming",description:"A wizard of great speed. Kit Storming can quickly speed up the combat abilities of every member of the band.",abilities:[{name:"Running Start",duration:10,consumes:e=>({gold:Math.round(e.run.speedLevel**Ns)}),description:e=>`Speed up all combat abilities. (Currently ${Y(e.run.speedLevel,"×")}.)`,onCompleted(e){e.run.speedLevel*=2},preventRepeat:!0,peaceful:!0}]}},{name:"Wayfinder",cost:0,description:`
A master of navigation, Wayfinder will guide your band through the dark corridors of the dungeon.
Just point to your destination on the map to get started.
To repeat the run after reaching the destination, place Wayfinder at the front of your band.

With Wayfinder in your band, you can replace members of your band at campfires.
Now that Wayfinder is free, you can see more details on the map.
    `,passiveEffects:e=>e.onboard("Wayfinder").row<2?["Wayfinder is placed in the front. Your band will retreat and start over after reaching the destination."]:["Wayfinder is placed in the back. Your band will not start over after reaching the destination."],super:{name:"Campfinder",description:`
A master of navigation, Campfinder will guide your band through the dark corridors of the dungeon.
Just point to your destination on the map to get started.
To repeat the run after reaching the destination, place Campfinder at the front of your band.

With Campfinder in your band, you can replace members of your band at campfires.
Now that Campfinder is free, you can see more details on the map.

Campfinder sets the weapons of nearby explorers on fire.
      `,passiveEffects:e=>e.onboard("Campfinder").row<2?["Campfinder is placed in the front. Your band will retreat and start over after reaching the destination."]:["Campfinder is placed in the back. Your band will not start over after reaching the destination."],abilities:[{name:"Fall Back to Camp",duration:20,description:"Retreats to the last visited campfire.",onCompleted(e){const t=e.currentPath();let n=e.run.steps;for(;n>0&&t[n].type!=="rescue";)n-=1;e.run.steps=n,e.run.turns=Hn(n,e.run.turns).turns,e.local.destination=void 0},preventRepeat:!0,preventAutomation:!0,affectedBySpeedLevel:!1,peaceful:!0}]}},{name:"Bayla",cost:0,description:`
Bayla is a master of movement. She can change her position in the middle of a fight to best target the weak spots
of her enemies. She's great friends with the Desert Rabbit.
    `,abilities:[{name:"Battle Rhythm",duration:1,damage:10,tags:["sharp","fire","ice"],description:"A flight of small magical blades timed perfectly to find the weak spots of the enemy."}],super:{name:"Baylanda",description:`
Baylanda is a master choreographer. She can rearrange the band in the middle of a fight to best target the weak spots
of her enemies. She's great friends with the Desert Rabbit and likes to stick close to Azrekta.
`}},{name:"Kin of Pump",cost:0,description:`
People who shed all their fears and worries can become Kins of Pump. They still love others,
but never worry or care about their wellbeing. They are free to pursue their desires without shame.

The Kin you found in the dungeon came here to search for treasure. They do not help out with fighting
or taking care of the band. They are great at finding gold, though. All gold finds are doubled.
    `,passiveEffects:["Kin of Pump doubles the gold found after battles."],super:{name:"King of Pump",description:`
People who shed all their fears and worries can become Kins of Pump. They still love others,
but never worry or care about their wellbeing. They are free to pursue their desires without shame.

The Kin you found in the dungeon came here to search for treasure. They have now found a crown, and
started to act like a king. They still do not help, but all gold finds are now multiplied a hundredfold.
    `,passiveEffects:["King of Pump multiplies the gold found after battles a hundredfold."]}},{name:"Kevin",cost:0,description:`
Kevin is not so much a person as a phenomenon. When Kevin is present, all enemies are vulnerable to fire.
    `,super:{name:"Kevout",description:`
Kevout has cooled off a little. He has become focused and curious, drawing in everyone to exist in the moment.
When Kevout is present, even ethereal creatures are drawn into the material world.
    `}},{name:"Smiling Pilot",cost:0,description:`
Shapeshifters live in the shadows and avoid any chance of being exposed. Except for the Smiling Pilot,
who took on the shape of Carl the Twelfth, king of the Froglands. Nobody is sure how long this
ruse lasted, and which of the decrees were written by the Smiling Pilot.

Chased by assassins from the Froglands, the Smiling Pilot eventually took refuge in this treacherous dungeon.

As a member of your band, he copies the attacks of the two friends to his left and right.
    `,super:{name:"Smiling Wizard",description:`
Shapeshifters live in the shadows and avoid any chance of being exposed. Except for the Smiling Wizard,
who took on the shape of Carl the Twelfth, king of the Froglands. Nobody is sure how long this
ruse lasted, and which of the decrees were written by the Smiling Wizard.

Chased by assassins from the Froglands, the Smiling Wizard eventually took refuge in this treacherous dungeon.

Standing next to Azrekta, the Smiling Wizard takes her shape and copies her ability.
    `}},{name:"Mongreler",cost:0,description:`
A collector of unusual pets. Mongreler can capture weakened enemies and deploy them on the battlefield.
They are let go when retreating.
    `,passiveEffects:["Mongreler wants to capture enemies. Damage is reduced by 99% to avoid killing them."],super:{name:"Monster Juggler",description:`
A collector of unusual pets. Monster Juggler can capture weakened enemies and deploy them on the battlefield.
The captured enemies are kept even when the band retreats.
      `,passiveEffects:["Monster Juggler wants to capture enemies. Damage is reduced by 99% to avoid killing them."]}},{name:"Eighth Swimmer",cost:0,description:`
In the Landas Deserts the mages punish loud people by turning their bodies into water.
The Eighth Swimmer was one of these unlucky souls. Imagine walking among thirsty people
everyday with a body made of water.

They found refuge in this dungeon and now in your band.
    `,abilities:[{name:"Flood",duration:10,damage:10,description:"A deceptively slow attack that cannot be dodged.",tags:["water","undodgeable"]}],super:{name:"Seventh Swimmer",abilities:[{name:"Flood",duration:10,damage:10,description:"A deceptively slow attack that fills up the battlefield. No attacks can be dodged while the flood is in progress.",tags:["water","undodgeable"]}]}},{name:"Pecquer",cost:0,description:`
Pecquer is a veteran mercenary from the thirty kingdoms. The warriors who fought beside him sing songs of his bravery.
    `,abilities:[{name:"Sneak Past",duration:6,hidden:e=>e.run.skips>=1||!!e.currentRoom().end,description:e=>`
Pecquer leads the band fearlessly past the enemy.

Uses left: ${Y(1-e.run.skips)}`,onCompleted(e){e.run.skips+=1;const t=e.currentRoom().next,n=t?Object.keys(t):["Keep going"],r=n[Math.floor(Math.random()*n.length)];e.takeTurn(r)},preventRepeat:!0,preventAutomation:!0,affectedBySpeedLevel:!1}],super:{name:"Le Pecquer",abilities:[{name:"Sneak Past",duration:6,hidden:e=>e.run.skips>=2||!!e.currentRoom().end,description:e=>`
Le Pecquer leads the band fearlessly past the enemy.

Uses left: ${Y(2-e.run.skips)}`,onCompleted(e){e.run.skips+=1;const t=e.currentRoom().next,n=t?Object.keys(t):["Keep going"],r=n[Math.floor(Math.random()*n.length)];e.takeTurn(r)},preventRepeat:!0,preventAutomation:!0,affectedBySpeedLevel:!1}]}},{name:"Hedge Lost",cost:0,description:"Hedge Lost is the only trader in the Hedge Market who is not originally a shrew.",abilities:[{name:"Buy Fruit",duration:1,consumes:{gold:10},description:'Buy a <img src="images/generated/fruit.webp" class="resource-icon resource-icon-solo" /> at the Hedge Market.',onCompleted(e,t){e.run.fruit+=e.fruitMultiplier()*t},peaceful:!0},{name:"Buy Sapling",duration:10,consumes:{gold:1e3},description:e=>`
Buy a fruit sapling at the Hedge Market.${e.run.saplings?`
(Currently ${Y(e.run.saplings)} saplings producing
${Y(e.run.saplings*e.fruitMultiplier(),' <img src="images/generated/fruit.webp" class="resource-icon" />')} per second.)`:""}`,onCompleted(e,t){e.run.saplings+=t},peaceful:!0}],super:{name:"Hedge Found",description:"Hedge Found is the only trader admitted to the Inner Hedge Market who is not originally a shrew.",abilities:[{name:"Buy Fruit",duration:1,consumes:{gold:10},description:'Buy a <img src="images/generated/fruit.webp" class="resource-icon resource-icon-solo" /> at the Hedge Market.',onCompleted(e,t){e.run.fruit+=e.fruitMultiplier()*t},peaceful:!0,affectedBySpeedLevel:!0},{name:"Buy Sapling",duration:10,consumes:{gold:1e3},description:e=>`
Buy a fruit sapling at the Hedge Market.${e.run.saplings?`
(Currently ${Y(e.run.saplings)} saplings producing
${Y(e.run.saplings*e.fruitMultiplier(),' <img src="images/generated/fruit.webp" class="resource-icon" />')} per second.)`:""}`,onCompleted(e,t){e.run.saplings+=t},peaceful:!0},{name:"Crash the Market",duration:3,consumes:e=>({saplings:Math.max(1,e.run.saplings)}),preventRepeat:!0,preventAutomation:!0,damage:e=>1e3*Math.max(1,e.run.saplings),description:"Destroy all saplings to set the Hedge Market on fire.",tags:["fire"]}]}},{name:"Zaktar Kadoque",cost:0,description:`
Zaktar Kadoque is an explorer from another world. He was not trapped in his cage at all,
rather he was examining it. He loves this dungeon and is very happy to have met your band.
He is particularly interested in the fruit you're holding.
    `,abilities:[{name:"Eat Fruit",duration:1,consumes:{fruit:1},description:`Do you have too much fruit? Zaktar Kadoque can eat the leftovers.

Only works with fruit acquired on this run.`,onCompleted(e,t){e.run.weaponLevelAdded+=t},peaceful:!0}],super:{name:"Zaktar Kadoque Karr",description:"Zaktar finds great joy in exposure to Azrekta's magic. His appetite for new experiences knows no bounds.",abilities:[{name:"Eat Fruit",duration:1,consumes:e=>({fruit:Math.round(e.weaponLevel()**Ns)}),description:`Do you have too much fruit? Zaktar Kadoque Karr can eat the leftovers.

Only works with fruit acquired on this run.`,onCompleted(e){e.run.weaponLevelAdded+=e.weaponLevel()},preventRepeat:!0,peaceful:!0}]}},{name:"Xaranthian Constructor",cost:0,description:`
The Xaranthian Empire is said to be ruled by wise engineers who built powerful machines to ease their work.
But building such machines is hard work too, so the Xarantians built factories to produce mechanical turtles
that can build machines that can deploy other machines that can grow further machines.

The Xaranthian factories in turn are built by Xaranthian Constructors. This one has never seen
a Xaranthian person, and neither has anyone else in your band.
    `,abilities:[{name:"Construct Grower",consumes:{gold:1e3},duration:16,description:e=>`Construct a mechanical grower.${e.run.room.xaranthian.growers?` (Currently ${Y(e.run.room.xaranthian.growers)} growers.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.growers+=t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Grow Gun",consumes:{gold:100},hidden:e=>e.run.room.xaranthian.growers!==1,hideInDescription:!0,duration:16,description:e=>`Grow a mechanical gun.${e.run.room.xaranthian.guns?` (Currently ${Y(e.run.room.xaranthian.guns)} guns.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.guns+=e.run.room.xaranthian.growers*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Grow Guns",consumes:{gold:100},hidden:e=>e.run.room.xaranthian.growers<2,hideInDescription:!0,duration:16,description:e=>`Grow ${Y(e.run.room.xaranthian.growers)} mechanical guns.${e.run.room.xaranthian.guns?` (Currently ${Y(e.run.room.xaranthian.guns)} guns.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.guns+=e.run.room.xaranthian.growers*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Fire Xaranthian Gun",hidden:e=>e.run.room.xaranthian.guns!==1,hideInDescription:!0,duration:16,description:"Fire the mechanical gun.",tags:["ranged"],damage:1},{name:"Fire Xaranthian Guns",hidden:e=>e.run.room.xaranthian.guns<2,hideInDescription:!0,duration:16,description:e=>`Fire ${Y(e.run.room.xaranthian.guns)} mechanical guns.`,tags:["ranged"],damage:e=>e.run.room.xaranthian.guns}],super:{name:"Xaranthian Power Constructor",abilities:[{name:"Construct Factory",consumes:{gold:1e6},duration:16,description:e=>`Build a factory for producing mechanical turtles.${e.run.room.xaranthian.factories?` (Currently ${Y(e.run.room.xaranthian.factories)} factories.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.factories+=t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Produce Turtle",consumes:{gold:1e5},hidden:e=>e.run.room.xaranthian.factories!==1,hideInDescription:!0,duration:16,description:e=>`Build a mechanical turtle in the factory.${e.run.room.xaranthian.turtles?` (Currently ${Y(e.run.room.xaranthian.turtles)} turtles.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.turtles+=e.run.room.xaranthian.factories*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Produce Turtles",consumes:{gold:1e5},hidden:e=>e.run.room.xaranthian.factories<2,hideInDescription:!0,duration:16,description:e=>`Build ${Y(e.run.room.xaranthian.factories)} mechanical turtles in the factories.${e.run.room.xaranthian.turtles?` (Currently ${Y(e.run.room.xaranthian.turtles)} turtles.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.turtles+=e.run.room.xaranthian.factories*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Build Deployer",consumes:{gold:1e4},hidden:e=>e.run.room.xaranthian.turtles!==1,hideInDescription:!0,duration:16,description:e=>`Build a deployer from the mechanical turtle.${e.run.room.xaranthian.deployers?` (Currently ${Y(e.run.room.xaranthian.deployers)} deployers.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.deployers+=e.run.room.xaranthian.turtles*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Build Deployers",consumes:{gold:1e4},hidden:e=>e.run.room.xaranthian.turtles<2,hideInDescription:!0,duration:16,description:e=>`Build ${Y(e.run.room.xaranthian.turtles)} deployers from the mechanical turtles.${e.run.room.xaranthian.deployers?` (Currently ${Y(e.run.room.xaranthian.deployers)} deployers.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.deployers+=e.run.room.xaranthian.turtles*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Deploy Grower",consumes:{gold:1e3},hidden:e=>e.run.room.xaranthian.deployers!==1,hideInDescription:!0,duration:16,description:e=>`Deploy a mechanical grower.${e.run.room.xaranthian.growers?` (Currently ${Y(e.run.room.xaranthian.growers)} growers.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.growers+=e.run.room.xaranthian.deployers*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Deploy Growers",consumes:{gold:1e3},hidden:e=>e.run.room.xaranthian.deployers<2,hideInDescription:!0,duration:16,description:e=>`Deploy ${Y(e.run.room.xaranthian.deployers)} mechanical growers.${e.run.room.xaranthian.growers?` (Currently ${Y(e.run.room.xaranthian.growers)} growers.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.growers+=e.run.room.xaranthian.deployers*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Grow Gun",consumes:{gold:100},hidden:e=>e.run.room.xaranthian.growers!==1,hideInDescription:!0,duration:16,description:e=>`Grow a mechanical gun.${e.run.room.xaranthian.guns?` (Currently ${Y(e.run.room.xaranthian.guns)} guns.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.guns+=e.run.room.xaranthian.growers*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Grow Guns",consumes:{gold:100},hidden:e=>e.run.room.xaranthian.growers<2,hideInDescription:!0,duration:16,description:e=>`Grow ${Y(e.run.room.xaranthian.growers)} mechanical guns.${e.run.room.xaranthian.guns?` (Currently ${Y(e.run.room.xaranthian.guns)} guns.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.guns+=e.run.room.xaranthian.growers*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Fire Xaranthian Gun",hidden:e=>e.run.room.xaranthian.guns!==1,hideInDescription:!0,duration:16,description:"Fire the mechanical gun.",tags:["ranged"],damage:1},{name:"Fire Xaranthian Guns",hidden:e=>e.run.room.xaranthian.guns<2,hideInDescription:!0,duration:16,description:e=>`Fire ${Y(e.run.room.xaranthian.guns)} mechanical guns.`,tags:["ranged"],damage:e=>e.run.room.xaranthian.guns}]}}],gd={"Stick Master":1,"The Silent Song":2,"Lord of Gears":3,Lamplighter:4,"Kin of Pump":5,"Dark Chef":6,Anvilomancer:7,Wayfinder:8,Pecquer:9,"Friend of Metal":10,"Desert Rabbit":11,"Royal Fruitbearer":12,"Smiling Pilot":13,"Knight of Claws":14,Kevin:15,"Hedge Lost":16,Bayla:17,"Eighth Swimmer":18,Mongreler:19,Coldblade:20,"Kit Flash":21,"Xaranthian Constructor":22,Azrekta:23,"Pur Lion":24,"Zaktar Kadoque":25},we={},hr={},vn={};for(const e of Ba){we[e.name]=e,e.cost=gd[e.name],e.descriptionHtml=ee(e.description??""),e.super?.name&&(we[e.super.name]={...e,...e.super},e.super.description&&(e.super.descriptionHtml=ee(e.super.description)));for(const t of e.abilities??[])vn[t.name]=e.name,hr[t.name]=t}function Ws(e){if(e.name==="Claws & Thorns")return 100;if(e.name==="Poison Strike")return 1;if(typeof e.damage=="number")return e.damage;throw new Error(`Ability ${e.name} does not have a numeric damage value.`)}const zs=["Battle Rhythm","Claws & Thorns","Flood","Glacial Strike","Illuminate","Poison Strike","Steel Jab","Wooden Stick"];we["Smiling Pilot"].abilities=[];for(const e of zs){const t=hr[e];if(typeof t.duration!="number")continue;const n=Ws(t);for(const r of zs){if(e>=r)continue;const i=hr[r];if(typeof i.duration!="number")continue;const s=Ws(i),o={name:`Combined ${t.name} and ${i.name}`,tags:[...t.tags??[],...i.tags??[]],duration:Math.sqrt(t.duration*i.duration),damage:Math.sqrt(n*s),description:`Smiling Pilot has copied this from ${vn[e]} and ${vn[r]}.`,hideInDescription:!0,hidden(a){const l=a.onboard("Smiling Pilot"),d=a.onboard(vn[e]),u=a.onboard(vn[r]);return!l||!d||!u||d.row!==l.row||u.row!==l.row?!0:Math.abs(d.col-l.col)>1||Math.abs(u.col-l.col)>1}};o.tags?.includes("poison")&&(o.onCompleted=(a,l,d)=>{const u=a.abilityEffects(d),c=u.rndHits(l);a.addPoison(d.damage*u.damageMultiplier,c)}),we["Smiling Pilot"].abilities.push(o)}}const yd={"Combined Glacial Strike and Wooden Stick":"Glacial Stick","Combined Glacial Strike and Steel Jab":"Glacial Jab","Combined Glacial Strike and Illuminate":"Illuminated Glacier","Combined Steel Jab and Wooden Stick":"Wooden Jab","Combined Illuminate and Wooden Stick":"Illuminated Stick","Combined Illuminate and Steel Jab":"Illuminated Jab","Combined Battle Rhythm and Wooden Stick":"Wooden Rhythm","Combined Battle Rhythm and Glacial Strike":"Glacial Rhythm","Combined Battle Rhythm and Steel Jab":"Steel Rhythm","Combined Battle Rhythm and Illuminate":"Illuminated Rhythm","Combined Battle Rhythm and Flood":"Flooded Rhythm","Combined Flood and Wooden Stick":"Flooded Stick","Combined Flood and Glacial Strike":"Glacial Flood","Combined Flood and Steel Jab":"Flooded Jab","Combined Flood and Illuminate":"Illuminated Flood","Combined Claws & Thorns and Wooden Stick":"Claws & Stick","Combined Claws & Thorns and Glacial Strike":"Glacial Claws","Combined Claws & Thorns and Steel Jab":"Claws & Jab","Combined Claws & Thorns and Illuminate":"Illuminated Claws & Thorns","Combined Claws & Thorns and Flood":"Claws & Flood","Combined Battle Rhythm and Claws & Thorns":"Claws & Rhythm","Combined Glacial Strike and Poison Strike":"Glacial Poison","Combined Illuminate and Poison Strike":"Illuminated Poison","Combined Battle Rhythm and Poison Strike":"Poison Rhythm","Combined Flood and Poison Strike":"Poison Flood","Combined Claws & Thorns and Poison Strike":"Claws & Poison","Combined Poison Strike and Wooden Stick":"Wooden Poison","Combined Poison Strike and Steel Jab":"Steel Poison"};for(const e of we["Smiling Pilot"].abilities)e.image=e.name,e.name=yd[e.name],hr[e.name]=e;function Jr(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{d(r.next(u))}catch(c){o(c)}}function l(u){try{d(r.throw(u))}catch(c){o(c)}}function d(u){u.done?s(u.value):i(u.value).then(a,l)}d((r=r.apply(e,[])).next())})}function bd(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}class ye extends Error{constructor(t,n=0,r="",i=""){super(t),this.name="AppwriteException",this.message=t,this.code=n,this.type=r,this.response=i}}class mt{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:"",devkey:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"18.1.1","X-Appwrite-Response-Format":"1.7.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window?.setInterval(()=>{var t;(t=this.realtime.socket)===null||t===void 0||t.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var t,n,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(t=this.realtime.socket)===null||t===void 0||t.close();return}const i=new URLSearchParams;i.set("project",this.config.project),this.realtime.channels.forEach(o=>{i.append("channels[]",o)});const s=this.config.endpointRealtime+"/realtime?"+i.toString();(s!==this.realtime.url||!this.realtime.socket||((n=this.realtime.socket)===null||n===void 0?void 0:n.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=s,this.realtime.socket=new WebSocket(s),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",o=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",o=>{var a,l,d;if(!this.realtime.reconnect||((l=(a=this.realtime)===null||a===void 0?void 0:a.lastMessage)===null||l===void 0?void 0:l.type)==="error"&&((d=this.realtime)===null||d===void 0?void 0:d.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const u=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${u/1e3} seconds.`,o.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},u)}))},onMessage:t=>{var n,r;try{const i=JSON.parse(t.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const s=JSON.parse((n=window.localStorage.getItem("cookieFallback"))!==null&&n!==void 0?n:"{}"),o=s?.[`a_session_${this.config.project}`],a=i.data;o&&!a.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:o}})));break;case"event":let l=i.data;if(l?.channels){if(!l.channels.some(u=>this.realtime.channels.has(u)))return;this.realtime.subscriptions.forEach(u=>{l.channels.some(c=>u.channels.includes(c))&&setTimeout(()=>u.callback(l))})}break;case"pong":break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:t=>{this.realtime.channels.forEach(n=>{t.includes(n)&&(Array.from(this.realtime.subscriptions).some(([i,s])=>s.channels.includes(n))||this.realtime.channels.delete(n))})}}}setEndpoint(t){if(!t.startsWith("http://")&&!t.startsWith("https://"))throw new ye("Invalid endpoint URL: "+t);return this.config.endpoint=t,this.config.endpointRealtime=t.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(t){if(!t.startsWith("ws://")&&!t.startsWith("wss://"))throw new ye("Invalid realtime endpoint URL: "+t);return this.config.endpointRealtime=t,this}setProject(t){return this.headers["X-Appwrite-Project"]=t,this.config.project=t,this}setJWT(t){return this.headers["X-Appwrite-JWT"]=t,this.config.jwt=t,this}setLocale(t){return this.headers["X-Appwrite-Locale"]=t,this.config.locale=t,this}setSession(t){return this.headers["X-Appwrite-Session"]=t,this.config.session=t,this}setDevKey(t){return this.headers["X-Appwrite-Dev-Key"]=t,this.config.devkey=t,this}subscribe(t,n){let r=typeof t=="string"?[t]:t;r.forEach(s=>this.realtime.channels.add(s));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:r,callback:n}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(t,n,r={},i={}){if(t=t.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const o=window.localStorage.getItem("cookieFallback");o&&(r["X-Fallback-Cookies"]=o)}let s={method:t,headers:r};if(r["X-Appwrite-Dev-Key"]===void 0&&(s.credentials="include"),t==="GET")for(const[o,a]of Object.entries(mt.flatten(i)))n.searchParams.append(o,a);else switch(r["content-type"]){case"application/json":s.body=JSON.stringify(i);break;case"multipart/form-data":const o=new FormData;for(const[a,l]of Object.entries(i))if(l instanceof File)o.append(a,l,l.name);else if(Array.isArray(l))for(const d of l)o.append(`${a}[]`,d);else o.append(a,l);s.body=o,delete r["content-type"];break}return{uri:n.toString(),options:s}}chunkedUpload(t,n,r={},i={},s){return Jr(this,void 0,void 0,function*(){const o=Object.values(i).find(d=>d instanceof File);if(!o)throw new Error("File not found in payload");if(o.size<=mt.CHUNK_SIZE)return yield this.call(t,n,r,i);let a=0,l=null;for(;a<o.size;){let d=a+mt.CHUNK_SIZE;d>=o.size&&(d=o.size),r["content-range"]=`bytes ${a}-${d-1}/${o.size}`;const u=o.slice(a,d);let c=Object.assign(Object.assign({},i),{file:new File([u],o.name)});l=yield this.call(t,n,r,c),s&&typeof s=="function"&&s({$id:l.$id,progress:Math.round(d/o.size*100),sizeUploaded:d,chunksTotal:Math.ceil(o.size/mt.CHUNK_SIZE),chunksUploaded:Math.ceil(d/mt.CHUNK_SIZE)}),l&&l.$id&&(r["x-appwrite-id"]=l.$id),a=d}return l})}ping(){return Jr(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(t,n,r={},i={},s="json"){var o,a;return Jr(this,void 0,void 0,function*(){const{uri:l,options:d}=this.prepareRequest(t,n,r,i);let u=null;const c=yield fetch(l,d);if(c.type==="opaque")throw new ye(`Invalid Origin. Register your new client (${window.location.host}) as a new Web platform on your project console dashboard`,403,"forbidden","");const m=c.headers.get("x-appwrite-warning");if(m&&m.split(";").forEach(g=>console.warn("Warning: "+g)),!((o=c.headers.get("content-type"))===null||o===void 0)&&o.includes("application/json")?u=yield c.json():s==="arrayBuffer"?u=yield c.arrayBuffer():u={message:yield c.text()},400<=c.status){let g="";throw!((a=c.headers.get("content-type"))===null||a===void 0)&&a.includes("application/json")||s==="arrayBuffer"?g=JSON.stringify(u):g=u?.message,new ye(u?.message,c.status,u?.type,g)}const k=c.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&k&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",k)),u})}static flatten(t,n=""){let r={};for(const[i,s]of Object.entries(t)){let o=n?n+"["+i+"]":i;Array.isArray(s)?r=Object.assign(Object.assign({},r),mt.flatten(s,o)):r[o]=s}return r}}mt.CHUNK_SIZE=1024*1024*5;class wd{constructor(t){this.client=t}listDocuments(t,n,r){if(typeof t>"u")throw new ye('Missing required parameter: "databaseId"');if(typeof n>"u")throw new ye('Missing required parameter: "collectionId"');const i="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",t).replace("{collectionId}",n),s={};typeof r<"u"&&(s.queries=r);const o=new URL(this.client.config.endpoint+i),a={};return this.client.call("get",o,a,s)}createDocument(t,n,r,i,s){if(typeof t>"u")throw new ye('Missing required parameter: "databaseId"');if(typeof n>"u")throw new ye('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ye('Missing required parameter: "documentId"');if(typeof i>"u")throw new ye('Missing required parameter: "data"');const o="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",t).replace("{collectionId}",n),a={};typeof r<"u"&&(a.documentId=r),typeof i<"u"&&(a.data=i),typeof s<"u"&&(a.permissions=s);const l=new URL(this.client.config.endpoint+o),d={"content-type":"application/json"};return this.client.call("post",l,d,a)}getDocument(t,n,r,i){if(typeof t>"u")throw new ye('Missing required parameter: "databaseId"');if(typeof n>"u")throw new ye('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ye('Missing required parameter: "documentId"');const s="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",n).replace("{documentId}",r),o={};typeof i<"u"&&(o.queries=i);const a=new URL(this.client.config.endpoint+s),l={};return this.client.call("get",a,l,o)}upsertDocument(t,n,r,i,s){if(typeof t>"u")throw new ye('Missing required parameter: "databaseId"');if(typeof n>"u")throw new ye('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ye('Missing required parameter: "documentId"');if(typeof i>"u")throw new ye('Missing required parameter: "data"');const o="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",n).replace("{documentId}",r),a={};typeof i<"u"&&(a.data=i),typeof s<"u"&&(a.permissions=s);const l=new URL(this.client.config.endpoint+o),d={"content-type":"application/json"};return this.client.call("put",l,d,a)}updateDocument(t,n,r,i,s){if(typeof t>"u")throw new ye('Missing required parameter: "databaseId"');if(typeof n>"u")throw new ye('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ye('Missing required parameter: "documentId"');const o="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",n).replace("{documentId}",r),a={};typeof i<"u"&&(a.data=i),typeof s<"u"&&(a.permissions=s);const l=new URL(this.client.config.endpoint+o),d={"content-type":"application/json"};return this.client.call("patch",l,d,a)}deleteDocument(t,n,r){if(typeof t>"u")throw new ye('Missing required parameter: "databaseId"');if(typeof n>"u")throw new ye('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ye('Missing required parameter: "documentId"');const i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",n).replace("{documentId}",r),s={},o=new URL(this.client.config.endpoint+i),a={"content-type":"application/json"};return this.client.call("delete",o,a,s)}}var Ha,Oa;class Nn{static custom(t){return t}static unique(t=7){const n=bd(Nn,Ha,"m",Oa).call(Nn);let r="";for(let i=0;i<t;i++){const s=Math.floor(Math.random()*16).toString(16);r+=s}return n+r}}Ha=Nn,Oa=function(){const t=new Date,n=Math.floor(t.getTime()/1e3),r=t.getMilliseconds();return n.toString(16)+r.toString(16).padStart(5,"0")};var js;(function(e){e.Totp="totp"})(js||(js={}));var Ks;(function(e){e.Email="email",e.Phone="phone",e.Totp="totp",e.Recoverycode="recoverycode"})(Ks||(Ks={}));var Gs;(function(e){e.Amazon="amazon",e.Apple="apple",e.Auth0="auth0",e.Authentik="authentik",e.Autodesk="autodesk",e.Bitbucket="bitbucket",e.Bitly="bitly",e.Box="box",e.Dailymotion="dailymotion",e.Discord="discord",e.Disqus="disqus",e.Dropbox="dropbox",e.Etsy="etsy",e.Facebook="facebook",e.Figma="figma",e.Github="github",e.Gitlab="gitlab",e.Google="google",e.Linkedin="linkedin",e.Microsoft="microsoft",e.Notion="notion",e.Oidc="oidc",e.Okta="okta",e.Paypal="paypal",e.PaypalSandbox="paypalSandbox",e.Podio="podio",e.Salesforce="salesforce",e.Slack="slack",e.Spotify="spotify",e.Stripe="stripe",e.Tradeshift="tradeshift",e.TradeshiftBox="tradeshiftBox",e.Twitch="twitch",e.Wordpress="wordpress",e.Yahoo="yahoo",e.Yammer="yammer",e.Yandex="yandex",e.Zoho="zoho",e.Zoom="zoom",e.Mock="mock"})(Gs||(Gs={}));var qs;(function(e){e.AvantBrowser="aa",e.AndroidWebViewBeta="an",e.GoogleChrome="ch",e.GoogleChromeIOS="ci",e.GoogleChromeMobile="cm",e.Chromium="cr",e.MozillaFirefox="ff",e.Safari="sf",e.MobileSafari="mf",e.MicrosoftEdge="ps",e.MicrosoftEdgeIOS="oi",e.OperaMini="om",e.Opera="op",e.OperaNext="on"})(qs||(qs={}));var Us;(function(e){e.AmericanExpress="amex",e.Argencard="argencard",e.Cabal="cabal",e.Cencosud="cencosud",e.DinersClub="diners",e.Discover="discover",e.Elo="elo",e.Hipercard="hipercard",e.JCB="jcb",e.Mastercard="mastercard",e.Naranja="naranja",e.TarjetaShopping="targeta-shopping",e.UnionChinaPay="union-china-pay",e.Visa="visa",e.MIR="mir",e.Maestro="maestro",e.Rupay="rupay"})(Us||(Us={}));var Fs;(function(e){e.Afghanistan="af",e.Angola="ao",e.Albania="al",e.Andorra="ad",e.UnitedArabEmirates="ae",e.Argentina="ar",e.Armenia="am",e.AntiguaAndBarbuda="ag",e.Australia="au",e.Austria="at",e.Azerbaijan="az",e.Burundi="bi",e.Belgium="be",e.Benin="bj",e.BurkinaFaso="bf",e.Bangladesh="bd",e.Bulgaria="bg",e.Bahrain="bh",e.Bahamas="bs",e.BosniaAndHerzegovina="ba",e.Belarus="by",e.Belize="bz",e.Bolivia="bo",e.Brazil="br",e.Barbados="bb",e.BruneiDarussalam="bn",e.Bhutan="bt",e.Botswana="bw",e.CentralAfricanRepublic="cf",e.Canada="ca",e.Switzerland="ch",e.Chile="cl",e.China="cn",e.CoteDIvoire="ci",e.Cameroon="cm",e.DemocraticRepublicOfTheCongo="cd",e.RepublicOfTheCongo="cg",e.Colombia="co",e.Comoros="km",e.CapeVerde="cv",e.CostaRica="cr",e.Cuba="cu",e.Cyprus="cy",e.CzechRepublic="cz",e.Germany="de",e.Djibouti="dj",e.Dominica="dm",e.Denmark="dk",e.DominicanRepublic="do",e.Algeria="dz",e.Ecuador="ec",e.Egypt="eg",e.Eritrea="er",e.Spain="es",e.Estonia="ee",e.Ethiopia="et",e.Finland="fi",e.Fiji="fj",e.France="fr",e.MicronesiaFederatedStatesOf="fm",e.Gabon="ga",e.UnitedKingdom="gb",e.Georgia="ge",e.Ghana="gh",e.Guinea="gn",e.Gambia="gm",e.GuineaBissau="gw",e.EquatorialGuinea="gq",e.Greece="gr",e.Grenada="gd",e.Guatemala="gt",e.Guyana="gy",e.Honduras="hn",e.Croatia="hr",e.Haiti="ht",e.Hungary="hu",e.Indonesia="id",e.India="in",e.Ireland="ie",e.IranIslamicRepublicOf="ir",e.Iraq="iq",e.Iceland="is",e.Israel="il",e.Italy="it",e.Jamaica="jm",e.Jordan="jo",e.Japan="jp",e.Kazakhstan="kz",e.Kenya="ke",e.Kyrgyzstan="kg",e.Cambodia="kh",e.Kiribati="ki",e.SaintKittsAndNevis="kn",e.SouthKorea="kr",e.Kuwait="kw",e.LaoPeopleSDemocraticRepublic="la",e.Lebanon="lb",e.Liberia="lr",e.Libya="ly",e.SaintLucia="lc",e.Liechtenstein="li",e.SriLanka="lk",e.Lesotho="ls",e.Lithuania="lt",e.Luxembourg="lu",e.Latvia="lv",e.Morocco="ma",e.Monaco="mc",e.Moldova="md",e.Madagascar="mg",e.Maldives="mv",e.Mexico="mx",e.MarshallIslands="mh",e.NorthMacedonia="mk",e.Mali="ml",e.Malta="mt",e.Myanmar="mm",e.Montenegro="me",e.Mongolia="mn",e.Mozambique="mz",e.Mauritania="mr",e.Mauritius="mu",e.Malawi="mw",e.Malaysia="my",e.Namibia="na",e.Niger="ne",e.Nigeria="ng",e.Nicaragua="ni",e.Netherlands="nl",e.Norway="no",e.Nepal="np",e.Nauru="nr",e.NewZealand="nz",e.Oman="om",e.Pakistan="pk",e.Panama="pa",e.Peru="pe",e.Philippines="ph",e.Palau="pw",e.PapuaNewGuinea="pg",e.Poland="pl",e.FrenchPolynesia="pf",e.NorthKorea="kp",e.Portugal="pt",e.Paraguay="py",e.Qatar="qa",e.Romania="ro",e.Russia="ru",e.Rwanda="rw",e.SaudiArabia="sa",e.Sudan="sd",e.Senegal="sn",e.Singapore="sg",e.SolomonIslands="sb",e.SierraLeone="sl",e.ElSalvador="sv",e.SanMarino="sm",e.Somalia="so",e.Serbia="rs",e.SouthSudan="ss",e.SaoTomeAndPrincipe="st",e.Suriname="sr",e.Slovakia="sk",e.Slovenia="si",e.Sweden="se",e.Eswatini="sz",e.Seychelles="sc",e.Syria="sy",e.Chad="td",e.Togo="tg",e.Thailand="th",e.Tajikistan="tj",e.Turkmenistan="tm",e.TimorLeste="tl",e.Tonga="to",e.TrinidadAndTobago="tt",e.Tunisia="tn",e.Turkey="tr",e.Tuvalu="tv",e.Tanzania="tz",e.Uganda="ug",e.Ukraine="ua",e.Uruguay="uy",e.UnitedStates="us",e.Uzbekistan="uz",e.VaticanCity="va",e.SaintVincentAndTheGrenadines="vc",e.Venezuela="ve",e.Vietnam="vn",e.Vanuatu="vu",e.Samoa="ws",e.Yemen="ye",e.SouthAfrica="za",e.Zambia="zm",e.Zimbabwe="zw"})(Fs||(Fs={}));var Vs;(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE",e.OPTIONS="OPTIONS"})(Vs||(Vs={}));var Js;(function(e){e.Center="center",e.Topleft="top-left",e.Top="top",e.Topright="top-right",e.Left="left",e.Right="right",e.Bottomleft="bottom-left",e.Bottom="bottom",e.Bottomright="bottom-right"})(Js||(Js={}));var Ys;(function(e){e.Jpg="jpg",e.Jpeg="jpeg",e.Png="png",e.Webp="webp",e.Heic="heic",e.Avif="avif"})(Ys||(Ys={}));const vd="6840583c0004412239f1",Ir="6861bd350007aa692f7c",Lr="6861bd6900131d72be3d",Na=new mt().setEndpoint("https://fra.cloud.appwrite.io/v1").setProject(vd),Gi=new wd(Na);let Zs=()=>{},Xs=null;async function Wa(e,t){if(e===Xs)return;Zs(),Xs=e;const n=await kd(e);Qs(n,t),za(e,t.team),Zs=Na.subscribe(`databases.${Ir}.collections.${Lr}.documents.${e}`,r=>{Qs(r.payload,t)})}function Qs(e,t){e.fruit>t.team.fruit&&(t.team.fruit=e.fruit),e.packs>t.team.packs&&(t.team.packs=e.packs),e.bestWeaponLevel>t.team.bestWeaponLevel&&(t.team.bestWeaponLevel=e.bestWeaponLevel);for(const n of e.unlocked)t.team.unlocked.includes(n)||t.team.unlocked.push(n);for(const n of e.discovered)t.team.discovered.includes(n)||t.team.discovered.push(n);e.name!==t.team.name&&(t.team.name=e.name),(e.startTime??0)>0&&e.startTime<t.team.startTime&&(t.team.startTime=e.startTime);for(let n=0;n<e.floorCompletions.length;n++)e.floorCompletions[n]<t.team.floorCompletions[n]&&(t.team.floorCompletions[n]=e.floorCompletions[n])}async function kd(e){return await Gi.getDocument(Ir,Lr,e,[])}async function xd(){return(await Gi.createDocument(Ir,Lr,Nn.unique(),Sa())).$id}async function za(e,t){await Gi.updateDocument(Ir,Lr,e,t)}function ja(){return{damage:0,armorDamage:0,poison:0,kills:0,xaranthian:{factories:0,turtles:0,deployers:0,growers:0,guns:0}}}function Ka(){return{weaponLevelAdded:0,desertBlessingMultiplier:2,speedLevel:1,steps:0,turns:[],gold:0,fruit:0,saplings:0,skips:0,capturedMonsters:[],room:ja(),timers:{},skipTime:0,lastHeld:void 0}}function Sd(){return{width:5,height:5,12:"Stick Master"}}function _d(){return{blurImages:!1,online:!1,sound:!0}}function Ga(){return{band:Sd(),settings:_d()}}const eo="3",Td=localStorage.getItem("bnb-version");Td!==eo&&(localStorage.clear(),localStorage.setItem("bnb-version",eo),window.location.reload());function qi(e,t){const n={...t},r=localStorage.getItem(e);return r&&Object.assign(n,JSON.parse(r)),n}const Cd=un(qi("bnb-run",Ka())),$d=un(qi("bnb-local",Ga())),Ad=un(qi("bnb-team",Sa())),f={run:Cd,local:$d,team:Ad,startTimer(e,t){if(f.run.timers[e])return;const n=t.cost??{};n.gold??=0,n.fruit??=0,n.saplings??=0,!(f.run.gold<n.gold||f.run.fruit<n.fruit||f.run.saplings<n.saplings)&&(f.run.gold-=n.gold||0,f.run.fruit-=n.fruit||0,f.run.saplings-=n.saplings||0,f.run.timers[e]=t)},timerFinished(e,t,n){Ed(e,t,n)},currentRoom(){return Zr.value.room??be[0]},currentEnemy(){return Zr.value.enemy},currentPath(){return Zr.value.path??be[0]},addDamage(e,t,n){return Md(e,t,n)},addPoison(e,t){const n=(f.currentEnemy()?.armor??0)-f.run.room.armorDamage;f.run.room.poison+=Math.max(0,e-n)*t},bandByName(){return Wn.value},onboard(e){return X(e)},emptySpacesAround(e,t){const n=[];for(const[r,i]of[[e-1,t],[e+1,t],[e,t-1],[e,t+1]]){const s=i+r*f.local.band.width;f.available(r,i)&&!f.local.band[s]&&n.push({row:r,col:i})}return n},available(e,t){const n=Math.max(Math.abs(e-2),Math.abs(t-2));return Yr()==="radius3"?n<=2:Yr()==="radius2"?n<=1:n===0},lightRadius(){return Yr()},getRewards(e){const t=e.rewards?.saplings??0;let n=e.rewards?.gold??0,r=(e.rewards?.fruit??0)*f.fruitMultiplier();return X("King of Pump")?n*=100:X("Kin of Pump")&&(n*=2),X("Royal Fruitwearer")&&(r+=n,n=0),{gold:n,fruit:r,saplings:t}},fruitMultiplier(){const e=Object.keys(Wn.value).length;let t=1;return X("Royal Fruitbearer")&&(t*=e*(e-1)),t},takeTurn(e){return Rd(e)},abilityEffects(e){return Vi(e)},weaponLevel(){return X("Anvilominator")?f.team.bestWeaponLevel+f.run.weaponLevelAdded:Math.floor(Math.sqrt(f.team.bestWeaponLevel))+f.run.weaponLevelAdded}};function Yr(){return Ue(2,2)?.name==="Lamplighter"?vt("Azrekta",2,2)?"radius3":"radius2":"radius1"}Ze(f.run,e=>{localStorage.setItem("bnb-run",JSON.stringify(e))},{deep:!0});Ze(f.local,e=>{localStorage.setItem("bnb-local",JSON.stringify(e)),f.local.settings.online&&f.local.settings.teamId&&Wa(f.local.settings.teamId,f)},{deep:!0});f.local.settings.online&&f.local.settings.teamId&&Wa(f.local.settings.teamId,f);Ze(f.team,e=>{localStorage.setItem("bnb-team",JSON.stringify(e)),f.local.settings.online&&f.local.settings.teamId&&za(f.local.settings.teamId,e)},{deep:!0});const Zr=ie(()=>{const e=Hn(f.run.steps,f.run.turns).path,t=e[e.length-1],n=["combat","boss","finalboss"].includes(t.type)?_a.find(r=>r.name===t.name):void 0;return{path:e,room:t,enemy:n}});function Md(e,t,n){const r=f.currentEnemy();if(!r||f.run.room.damage>=r.health)return;let i=e;const s=X("Mongreler");if(s&&(i=Math.floor(i/100)),n?.ignoreArmor||(i-=(r.armor??0)-f.run.room.armorDamage),!(i<0)&&(f.run.room.damage+=i*t,f.run.room.damage>=r.health))if(f.run.room.kills+=1,(r.count??1)-f.run.room.kills>0)f.run.room.damage=0,f.run.room.armorDamage=0,f.run.room.poison=0;else{const a=r.name==="Skelemasterion";if(!window.location.search.includes("test")){const d=a?2e3:1e3;f.run.timers.celebrating={duration:d,cost:{gold:0,fruit:0,saplings:0}}}f.run.room.damage=r.health,f.run.room.poison=0;const l=f.getRewards(r);if(f.run.gold+=l.gold,f.run.fruit+=l.fruit,s&&(f.run.capturedMonsters.includes(r.name)||f.run.capturedMonsters.push(r.name)),a&&f.team.startTime>0&&!f.team.floorCompletions[0]){const d=Date.now()-f.team.startTime;f.team.floorCompletions[0]=d}}}function Rd(e){f.run.room=ja(),f.run.steps+=1,e!==Ji.title&&f.run.turns.push(e);let t=Hn(f.run.steps,f.run.turns).path,n=t[t.length-1];for(;n.type==="none"&&!n.next;)f.run.steps+=1,t=Hn(f.run.steps,f.run.turns).path,n=t[t.length-1];e==="Enter the Dungeon"&&f.team.discovered.length===0&&(f.team.startTime=Date.now()),f.team.discovered.includes(Ve(n))||f.team.discovered.push(Ve(n))}function gi(e,t){let n=e.description;if(typeof n=="function"&&(n=n(f,e)),e.damage){const r=Math.floor(Ua(e)*t.baseMultiplier),i=t.enemyMultiplier!==1?`${Re(t.enemyMultiplier)} × ${Re(r)}`:Re(r);n+=`

<span class="numbers">${i}</span> damage`}return n}const yi=ie(()=>X("Kevout")||f.run.timers["ability-Pierce the Veil"]?!1:X("Azrekta")||f.currentEnemy()?.ethereal);function Ui(e){return typeof e.duration=="function"?e.duration(f):e.duration}function mr(e){const t={gold:0,fruit:0,saplings:0};return e.consumes?typeof e.consumes=="function"?{...t,...e.consumes(f)}:{...t,...e.consumes}:t}function Fi(e){return e.tags?e.source&&vt("Campfinder",e.source.row,e.source.col)?["fire"]:e.tags:[]}function Vi(e){const t=Fi(e),n=X("Seventh Swimmer")&&f.run.timers["ability-Flood"],r=f.run.timers["monster-Lost Swimmer-ability-Flood"],i=t.includes("undodgeable")||n||r;let s=1;const o=f.currentEnemy();if(!i&&o?.dodge){const d=Ui(e)/f.run.speedLevel,u=Math.min(1,d/o.dodge);s*=1-u}!i&&yi.value&&(s*=.1);let a=1;a*=f.weaponLevel(),(X("The Silent Quartet")||e.source&&vt("The Silent Song",e.source.row,e.source.col))&&(a*=2);let l=1;if(o&&f.run.room.damage<o.health){const d=qa(o);for(const u of o.immune??[])t.includes(u)&&!d.includes(u)&&(l*=0);if(X("Desert Rabbit"))for(const u of d){t.includes(u)&&(l*=f.run.desertBlessingMultiplier);const c=X("Lamplighter");!c||!e.source||(u==="left"&&e.source.col<c.col||u==="right"&&e.source.col>c.col||u==="front"&&e.source.row<c.row||u==="back"&&e.source.row>c.row)&&(l*=f.run.desertBlessingMultiplier)}}return{damageMultiplier:a*l,baseMultiplier:a,enemyMultiplier:l,hitChance:s,rndHits:d=>Id(d,s)}}function Id(e,t){if(t>=1)return e;if(e<10){let a=0;for(let l=0;l<e;l++)Math.random()<t&&(a+=1);return a}const n=e*t,r=Math.sqrt(e*t*(1-t)),i=Math.random(),s=Math.random(),o=Math.sqrt(-2*Math.log(i))*Math.cos(2*Math.PI*s);return Math.max(0,Math.min(e,Math.round(n+o*r)))}function qa(e){if(!e)return[];const t=e.weaknesses??[];return X("Kevin")&&!X("Kevout")&&!t.includes("fire")?[...t,"fire"]:t}function Ua(e){if(!e.damage)return 0;let t=e.damage;return typeof t=="function"&&(t=t(f)),t}function Ld(e){if(e.startsWith("ability-"))return Va.value.find(t=>`ability-${t.name}`===e);if(e.startsWith("monster-")){const t=/monster-(.*)-ability-(.*)/.exec(e);if(!t)return;const[,n,r]=t;return On[n]?.abilities?.find(i=>i.name===r)}}function Ed(e,t,n){if(delete f.run.timers[e],e==="rescue-unlock")return Bd();if(e==="wayfinder-turn"&&tn.value?.title){Dd(tn.value.title),f.startTimer(e,t);return}const r=Ld(e);if(!r)return;let i=n;r.preventRepeat?i=1:(t.cost?.gold&&(i=Math.min(i,1+Math.floor(f.run.gold/t.cost.gold))),t.cost?.fruit&&(i=Math.min(i,1+Math.floor(f.run.fruit/t.cost.fruit))),t.cost?.saplings&&(i=Math.min(i,1+Math.floor(f.run.saplings/t.cost.saplings))),t.cost?.gold&&(f.run.gold-=t.cost.gold*(i-1)),t.cost?.fruit&&(f.run.fruit-=t.cost.fruit*(i-1)),t.cost?.saplings&&(f.run.saplings-=t.cost.saplings*(i-1))),i&&r&&Pd(r,i),(t.automatic||f.run.lastHeld===e)&&(t.duration=Ui(r)*1e3,t.cost=mr(r),f.startTimer(e,t))}const Ji={title:"Keep going",description:"Continue exploring the dungeon."},tn=ie(()=>{const e=X("Wayfinder");if(f.run.steps===0||!e||!f.local.destination)return;const t=f.currentRoom();if(Ve(t)===f.local.destination&&e.row<2)return{title:"Retreat",description:"The Wayfinder leads you back to the beginning."};if(t.end)return;const n=ka(f.local.destination);if(n.length<=f.run.steps+1)return;if(!t.next)return Ve(t)===Ve(n[f.run.steps])?Ji:void 0;const r=n[f.run.steps+1];for(const[i,s]of Object.entries(t.next))if(r.label===s.label)return{title:i,description:s.description}});function Dd(e){e==="Retreat"?(Fa(),f.takeTurn("Enter the Dungeon")):f.takeTurn(e)}function Fa(){f.run.fruit&&(f.team.fruit+=f.run.fruit),f.weaponLevel()>f.team.bestWeaponLevel&&(f.team.bestWeaponLevel=f.weaponLevel());const e=f.run.capturedMonsters;Object.assign(f.run,Ka()),X("Monster Juggler")&&(f.run.capturedMonsters=e)}const Va=ie(()=>{const e=[],t=!!X("Gear of Lords"),n=f.local.band;for(let r=0;r<n.height;r++)for(let i=0;i<n.width;i++){const s=i+r*n.width,o=we[n[s]];if(!o)continue;const a=t||!!vt("Lord of Gears",r,i),d=vt("Azrekta",r,i)&&o.super?.abilities||o.abilities||[];for(const u of d)u.hidden?.(f)||e.push({...u,automatic:a&&!u.preventAutomation,source:{name:o.name,row:r,col:i}})}return e});function Pd(e,t){if(e.onCompleted)return e.onCompleted(f,t,e);if(e.damage){const n=Vi(e),r=n.rndHits(t),i=Ua(e);f.addDamage(Math.floor(i*n.damageMultiplier),r,{ignoreArmor:e.tags?.includes("dark")})}}const Wn=ie(()=>{const e={};for(let n=0;n<f.local.band.height;n++)for(let r=0;r<f.local.band.width;r++){const i=r+n*f.local.band.width,s=f.local.band[i];s&&(e[s]={name:s,row:n,col:r})}function t(n){if(n)for(const[r,i]of[[n.row-1,n.col],[n.row+1,n.col],[n.row,n.col-1],[n.row,n.col+1]]){const s=i+r*f.local.band.width,o=f.local.band[s];if(!o)continue;const a=we[o];a?.super?.name&&(delete e[a.name],e[a.super.name]={name:a.super.name,row:r,col:i})}}return t(e.Azrekta),t(e["Smiling Wizard"]),e});function Ue(e,t){return we[f.local.band[t+e*f.local.band.width]]}function vt(e,t,n){const r=e==="Azrekta"&&vt("Smiling Wizard",t,n);if(r)return r;const i=Wn.value[e];return i&&Math.abs(i.row-t)+Math.abs(i.col-n)===1?[i.row,i.col]:null}function X(e){const t=we[e].super?.name;return Wn.value[e]||t&&Wn.value[t]}const gr=ie(()=>{const e=f.currentRoom();if(e?.type==="rescue"&&e.name)return we[e.name]}),to=ie(()=>{const e=gr.value;return e&&!f.team.unlocked.includes(e.name)}),Je=De(null);function Bd(){const e=gr.value;e&&(f.team.unlocked.includes(e.name)||(f.team.unlocked.push(e.name),Je.value=e))}Ze(()=>f.run.steps,()=>{Je.value&&f.currentRoom().name!==Je.value.name&&(Je.value=null)});const Hd={class:"numbers"},lt=We({__name:"Num",props:{amount:{}},setup(e){const t=e;return(n,r)=>(S(),C("span",Hd,[V(le(_(Re)(t.amount))+" ",1),au(n.$slots,"default")]))}}),Er=We({__name:"Fruit",props:{amount:{}},setup(e){const t=e;return(n,r)=>(S(),_e(lt,{amount:t.amount},{default:St(()=>r[0]||(r[0]=[w("img",{src:wa,class:"resource-icon"},null,-1)])),_:1,__:[0]},8,["amount"]))}}),Ja=We({__name:"Gold",props:{amount:{}},setup(e){const t=e;return(n,r)=>(S(),_e(lt,{amount:t.amount},{default:St(()=>r[0]||(r[0]=[w("img",{src:ya,class:"resource-icon"},null,-1)])),_:1,__:[0]},8,["amount"]))}}),Od=We({__name:"Saplings",props:{amount:{}},setup(e){const t=e;return(n,r)=>(S(),_e(lt,{amount:t.amount},{default:St(()=>r[0]||(r[0]=[w("img",{src:ba,class:"resource-icon"},null,-1)])),_:1,__:[0]},8,["amount"]))}}),Nd=["src"],Wd={class:"tags"},zd={class:"text"},jd={class:"title"},Kd=["innerHTML"],Gd={key:3,class:"duration numbers"},qd=We({__name:"SlowButton",props:{timerKey:{type:String,required:!1},title:{type:String,required:!0},tags:{type:Array,required:!1},image:{type:String,required:!0},duration:{type:Number,required:!1},displayDuration:{type:Number,required:!1},description:{type:String,required:!1},autostart:{type:Boolean,default:!1},affectedBySpeedLevel:{type:Boolean,default:!1},cost:{type:Object,default:()=>({gold:0,fruit:0,saplings:0})}},setup(e){const t=e;function n(){!t.timerKey||!t.duration||f.startTimer(t.timerKey,{duration:t.duration,cost:t.cost,automatic:t.autostart||a.value,affectedBySpeedLevel:t.affectedBySpeedLevel})}function r(){if(!t.duration||!t.timerKey)return{};const d=f.run.timers[t.timerKey];if(!d)return{background:"#333"};const u=(d.time??0)/d.duration*100,c="#486",m="#333";return{border:`1px solid ${c} !important`,background:`
    linear-gradient(
      95deg,
      ${c}, ${u}%, ${c}, ${u}%, ${m}, ${m}
      ) no-repeat`}}const i=ie(()=>t.description?ee(t.description):""),s=ie(()=>f.run.gold>=t.cost.gold&&f.run.fruit>=t.cost.fruit&&f.run.saplings>=t.cost.saplings);Ze(s,d=>{d&&(t.autostart||a.value)&&n()}),t.autostart&&s.value&&n();const o=ie(()=>t.timerKey&&!!f.run.timers[t.timerKey]),a=De(!1);Ze(a,d=>{!t.timerKey||t.autostart||!f.run.timers[t.timerKey]||(f.run.timers[t.timerKey].automatic=d,d||(f.run.lastHeld===t.timerKey?f.run.lastHeld=void 0:f.run.lastHeld=t.timerKey))}),jn(()=>{t.timerKey&&f.run.timers[t.timerKey]&&(delete f.run.timers[t.timerKey],f.run.lastHeld===t.timerKey&&(f.run.lastHeld=void 0),f.run.gold+=t.cost.gold,f.run.fruit+=t.cost.fruit,f.run.saplings+=t.cost.saplings)});const l=ie(()=>{if(!t.duration)return"";let d=t.affectedBySpeedLevel?t.duration/f.run.speedLevel:t.duration;const u=f.currentEnemy();return u&&f.run.room.damage<u.health&&(d*=u.slowTime??1),Ft(d)});return(d,u)=>(S(),C("button",{onClick:u[0]||(u[0]=c=>n()),onPointerdown:u[1]||(u[1]=c=>{a.value=!0,n()}),onPointerup:u[2]||(u[2]=c=>a.value=!1),onBlur:u[3]||(u[3]=c=>{t.timerKey&&(_(f).run.lastHeld=void 0)}),onPointercancel:u[4]||(u[4]=c=>a.value=!1),onPointerleave:u[5]||(u[5]=c=>a.value=!1),style:ct(r()),class:fe([{"can-hold":!0,disabled:!s.value||o.value},"slow"])},[w("div",null,[w("img",{src:t.image},null,8,Nd),w("div",Wd,[(S(!0),C(z,null,Ke(t.tags,c=>(S(),C("span",{class:fe(["tag",c])},null,2))),256))])]),w("div",zd,[t.cost.gold>0?(S(),C("div",{key:0,class:fe(["cost",{unaffordable:!s.value&&!o.value}])},[U(Ja,{amount:t.cost.gold},null,8,["amount"])],2)):G("",!0),t.cost.fruit>0?(S(),C("div",{key:1,class:fe(["cost",{unaffordable:!s.value&&!o.value}])},[U(Er,{amount:t.cost.fruit},null,8,["amount"])],2)):G("",!0),t.cost.saplings>0?(S(),C("div",{key:2,class:fe(["cost",{unaffordable:!s.value&&!o.value}])},[U(Od,{amount:t.cost.saplings},null,8,["amount"])],2)):G("",!0),w("div",jd,le(t.title),1),w("div",{class:"description",innerHTML:i.value},null,8,Kd),Rt(w("div",{class:"duration numbers"},le(l.value),513),[[It,o.value]]),e.displayDuration?(S(),C("div",Gd,le(_(Ft)(t.displayDuration??0)),1)):G("",!0)])],38))}}),Ht=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Qt=Ht(qd,[["__scopeId","data-v-d076c15e"]]),Ud=["title"],Fd={key:0,class:"progress-text numbers"},Vd={key:1,class:"progress-text numbers"},Jd=We({__name:"Progress",props:{value:{},max:{},color:{},label:{},title:{}},setup(e){return(t,n)=>(S(),C("div",{class:"progress-container",title:t.title},[Rt(w("div",{class:"progress-bar",style:ct({width:`${t.value/t.max*100}%`,backgroundColor:t.color})},null,4),[[It,t.value>0]]),t.value===t.max?(S(),C("div",Fd,le(_(Re)(t.max))+" "+le(t.label),1)):(S(),C("div",Vd,le(_(Re)(t.value))+" / "+le(_(Re)(t.max))+" "+le(t.label),1))],8,Ud))}}),no=Ht(Jd,[["__scopeId","data-v-41ff63a3"]]),Yd={key:2},bi=We({__name:"EnemyRewards",props:{enemy:{}},setup(e){const t=e,n=ie(()=>f.getRewards(t.enemy));return(r,i)=>(S(),C(z,null,[n.value.gold?(S(),_e(Ja,{key:0,amount:n.value.gold},null,8,["amount"])):G("",!0),n.value.fruit?(S(),_e(Er,{key:1,amount:n.value.fruit},null,8,["amount"])):G("",!0),!n.value.fruit&&!n.value.gold?(S(),C("span",Yd,"nothing")):G("",!0)],64))}}),Zd=["src"],Xd=["src"],Qd=["src"],ef=["src"],tf=We({__name:"Victory",props:{show:{type:Boolean},skelemasterion:{type:Boolean}},emits:["on-start","on-end"],setup(e,{emit:t}){const n=e,r=t;function i(s){return`images/generated/victory${n.skelemasterion?"-skelemasterion":""}${s}.webp`}return(s,o)=>(S(),_e(fi,{onBeforeEnter:o[0]||(o[0]=a=>r("on-start")),onAfterLeave:o[1]||(o[1]=a=>r("on-end"))},{default:St(()=>[n.show?(S(),C("div",{key:0,class:"celebrating",style:ct({height:`${n.skelemasterion?300:200}px`})},[w("img",{class:"layer1",src:i(1),alt:"A circle of golden swords"},null,8,Zd),w("img",{class:"layer2",src:i(2),alt:"A golden shield"},null,8,Xd),w("img",{class:"layer3",src:i(3),alt:"A sword with red gems"},null,8,Qd),w("img",{class:"layer4",src:i(4),alt:"A sword with blue gems"},null,8,ef),o[2]||(o[2]=w("div",{class:"victory-text-backdrop"}," Victory! ",-1)),o[3]||(o[3]=w("div",{class:"victory-text"}," Victory! ",-1))],4)):G("",!0)]),_:1}))}}),nf=Ht(tf,[["__scopeId","data-v-a713683f"]]);function it(e,t){const n=Array.isArray(t)?t:[t];return n.every(r=>e.team.unlocked.includes(r))&&!n.every(r=>e.onboard(r))}const rf={"Stick Master":[{text:"Try swapping me for Lamplighter. You can do so on the Band page.",enabled:e=>it(e,"Lamplighter")},{text:"I have observed that <i>armor</i> is subtracted from incoming damage.",enabled:e=>e.team.discovered.includes("Dead Gladiator")},{text:"My staff is <i>blunt</i>. And I think sometimes that's for the best."}],Lamplighter:[{text:"Good thing I brought a lamp. This must be one of the darkest dungeons I've seen."},{text:"On mobile you can <i>hold</i> multiple buttons to keep repeating attacks."},{text:"Did you know you can <i>move</i> band members without removing and re-adding them? One click to select, another click to move. Like my grandma always said.",enabled:e=>!e.team.unlocked.includes("Bayla")},{text:"Did you know you can <i>move</i> band members without removing and re-adding them? Bayla can do it even inside the dungeon.",enabled:e=>e.team.unlocked.includes("Bayla")},{text:"This game can be played with friends online. You go on adventures individually and share the persistent progress. Check the <i>Settings</i> page. You can also use this to share progress between multiple devices.",enabled:e=>!e.local.settings.online},{text:"This game is not meant to be slow. If it feels slow, try a different band composition or go in a different direction."},{text:"We can't take advantage of enemy weaknesses when Desert Rabbit is not with us. I can't even see the elemental types of our attacks without him.",enabled:e=>it(e,"Desert Rabbit")},{text:"Azrekta is truly magical. Time to experiment!",enabled:e=>it(e,"Azrekta")},{text:"At least we have enough fruit to buy more packs now.",enabled:e=>e.team.fruit+e.run.fruit>=en(e.team.packs+1)},{text:"I'm hungry. A band with the <i>Royal Fruitbearer</i> could collect some fruit.",enabled:e=>it(e,["Royal Fruitbearer"])&&e.team.packs<40},{text:"I'm hungry. A band with the <i>Royal Fruitbearer</i> and the <i>Lord of Gears</i> led by the <i>Wayfinder</i> could collect some fruit without our help.",enabled:e=>it(e,["Royal Fruitbearer","Lord of Gears","Wayfinder"])&&e.team.packs<60}],"The Silent Song":[{text:"<i>Your friend plays a wonderful folk song, very quietly.</i>"}],"The Silent Quartet":[{text:"<i>Your friends play a very quick song, very quietly.</i>"}],Coldblade:[{text:"This band is always in a hurry."}],Anvilomancer:[{text:`
<p>The old master sent his apprentice outside to chop firewood.
The apprentice looked up at the great mound of firewood and despaired.
<i>“Master,”</i> he called, <i>“I will never finish chopping all this firewood!”</i>
The master replied, <b>“Good. It would not fit in our stove anyway.”</b>
<p>Sometimes I feel like gold is my firewood.
`},{text:"Without Azrekta’s magic, I have to start my work over each time we enter the dungeon.",enabled:e=>e.team.unlocked.includes("Azrekta")&&!e.onboard("Anvilominator")}],"Knight of Claws":[{text:"I could fight more effectively if I had more space to move.",enabled(e){const t=e.onboard("Knight of Claws");return(t?e.emptySpacesAround(t.row,t.col).length:0)<4}}],"Royal Fruitbearer":[{text:"I ♥️ fruit"}],"Lord of Gears":[{text:"I will take care of fighting. Someone else can handle navigation.",enabled:e=>it(e,"Wayfinder")}],Wayfinder:[{text:"Click a location on the map to set a course.",enabled:e=>!e.local.destination},{text:"I will take care of navigation. Let's find someone else to handle fighting.",enabled:e=>it(e,"Lord of Gears")}],Campfinder:[{text:"I love camping. I love campfires. I love lighting things on fire. Like swords.",enabled:e=>!it(e,"Kevin")},{text:"I love camping. I love Kevin.",enabled:e=>it(e,"Kevin")}],Kevin:[{text:"I love fire. Big flaming vortices or friendly campfires. I love them all.",enabled:e=>it(e,["Wayfinder","Azrekta"])}],Kevout:[{text:"Take a rest Campfinder. Chill out.",enabled:e=>!!e.onboard("Campfinder")}],Azrekta:[{text:"You're telling me the enemies are not <i>ethereal</i> when I'm not around? That must be so cool!"}],Mongreler:[{text:"You have to be gentle with monsters. Everyone underestimates their power. It takes tender care and patience to tame them."},{text:"I want to catch the <i>biggest monster</i>!",enabled:e=>e.team.discovered.includes("Skelemasterion")}],Bayla:[{text:"If Desert Rabbit sees an opening on the left, move me to the left so I can strike!",enabled:e=>!!e.onboard("Desert Rabbit")}],"Smiling Pilot":[{text:"I bet I would make a great wizard. <i>~eats a fly~</i>",enabled:e=>!e.onboard("Smiling Wizard")&&e.team.unlocked.includes("Azrekta")},{text:"I mimic abilities left and right. How about combining a <i>strong attack</i> and a <i>fast attack</i>?",enabled:e=>!e.onboard("Coldblade")}],"Seventh Swimmer":[{text:"Could you please drink something else?"}],"Zaktar Kadoque":[{text:"I know a creature that was once a moose."}],"Xaranthian Constructor":[{text:"Give me enough gold and a fulcrum on which to place it, and I shall blow up the world."}]},sf=Object.entries(rf).flatMap(([e,t])=>t.map(n=>{let r=n.text??"";return r=r.replace("fruit",'<img src="images/generated/fruit.webp" class="resource-icon resource-icon-solo" />'),r=r.replace("packs",'<img src="images/generated/pack.webp" class="resource-icon resource-icon-solo" />'),r=r.replace("gold",'<img src="images/generated/gold.webp" class="resource-icon resource-icon-solo" />'),r=r.replace("'","’"),{...n,friend:e,text:r}})),of={key:0,class:"enemy"},af={key:0,class:"description"},lf=["innerHTML"],uf={key:1,class:"description"},cf={key:0,class:"description"},df={key:1,class:"description"},ff=["src","alt"],pf=["innerHTML"],hf={key:"just-rescued",class:"revealed-info"},mf=["src","alt"],gf=["innerHTML"],yf={key:"rescue-available",class:"fade-to-white scene"},bf={key:"rescued-earlier",class:"scene"},wf={class:"description"},vf={key:0,class:"callout"},kf=["innerHTML"],xf=["src"],Sf=["innerHTML"],_f={class:"actions"},Tf={key:0,class:"section"},Cf={key:1,class:"section"},$f=["onClick"],Af=["src"],Mf={class:"text"},Rf={class:"title"},If={class:"description"},Lf={class:"text"},Ef={class:"description"},Df={key:0},Pf=We({__name:"Combat",props:{testMode:{type:Boolean}},setup(e){const t=e,n=f,r=ie(()=>n.currentEnemy()),i=ie(()=>r.value&&n.run.room.damage<r.value.health),s=ie(()=>{const g=n.currentRoom();return g.next?Object.entries(g.next).map(([p,b])=>({...b,title:p})):g.end?[]:[{...Ji,leadsTo:g.leadsTo}]}),o=ie(()=>{const g=[];for(const R in n.bandByName()){const W=we[R];W?.passiveEffects&&(typeof W.passiveEffects=="function"?g.push(...W.passiveEffects(n)):g.push(...W.passiveEffects))}if(!r.value)return g;const p=r.value.count??1,b=n.run.room.damage<r.value.health;if(r.value.eulogy&&!b)return[];const x=p>1?"":"s",L=p>1?b?"are":"were":b?"is":"was";g.push(...r.value.passiveEffects??[]);const B=qa(r.value);if(r.value.immune){const R=[];for(const W of r.value.immune)B.includes(W)||R.push(`<span class="tag ${W}"></span><u>${W} attacks</u>`);R.length>0&&g.push(`${r.value.name} ${L} immune to ${R.join(" and ")}.`)}if(r.value.dodge&&g.push(`${r.value.name} dodge${x} attacks that take longer
      than <span class="numbers">${Ft(1e3*r.value.dodge)}</span>.
      Faster attacks have a chance to hit.`),yi.value&&g.push(`Enem${p>1?"ies":"y"} ${L} ethereal${r.value.ethereal?"":" due to Azrekta's presence"}.
      Attacks ${b?"will often miss.":"have often missed."}`),X("Desert Rabbit")){const R=[];for(const W of B)["left","right","front","back"].includes(W)?R.push(`<u>attacks from the ${W}</u>`):R.push(`<span class="tag ${W}"></span><u>${W} attacks</u>`);if(R.length>0){const W=X("Desert Armadillo")?"Desert Armadillo":"Desert Rabbit";g.push(`${W} tells you that ${r.value.name} ${L} weak to ${R.join(" and ")}.`)}}return g}),a=De(void 0);Ze([n.local,()=>n.run.steps],()=>{const g=sf.filter(x=>n.onboard(x.friend)&&(x.enabled===void 0||x.enabled(n)));if(g.length===0){a.value=void 0;return}const p=Math.floor(Math.random()*g.length),b=g[p];a.value={...b,friend:n.onboard(b.friend).name}},{immediate:!0});const l=De(!1);function d(){l.value?(Fa(),l.value=!1):l.value=!0}function u(g){return{title:g.name,description:gi(g,Vi(g)),cost:mr(g),image:`images/generated/${g.image??g.name}.webp`,duration:Ui(g)*1e3,autostart:g.automatic,affectedBySpeedLevel:g.affectedBySpeedLevel??!g.peaceful,tags:X("Desert Rabbit")&&Fi(g)}}function c(g){const p=["th","st","nd","rd"],b=g%100;return`${Re(g)}<sup>${p[(b-20)%10]||p[b]||p[0]}</sup>`}function m(g){const p=new Image;p.src=g}const k=De(!1);for(const g of["images/generated/victory1.webp","images/generated/victory2.webp","images/generated/victory3.webp","images/generated/victory4.webp","images/generated/victory-skelemasterion1.webp","images/generated/victory-skelemasterion2.webp","images/generated/victory-skelemasterion3.webp","images/generated/victory-skelemasterion4.webp","images/generated/Skelemasterion-dead.webp","images/generated/Skelemasterion-captured.webp"])m(g);for(const g of Object.values(we)){m(`images/generated/${g.name}.webp`);for(const p of g.abilities??[])m(`images/generated/${p.image??p.name}.webp`);if(g.super?.name){m(`images/generated/${g.super.name}.webp`);for(const p of g.super.abilities??[])m(`images/generated/${p.image??p.name}.webp`)}}for(const g of Object.values(On))m(`images/generated/${g.name}.webp`);return(g,p)=>(S(),C(z,null,[r.value?(S(),C("div",of,[r.value.count&&r.value.count>1?(S(),C(z,{key:0},[_(n).run.room.kills<r.value.count?(S(),C("div",af,[p[4]||(p[4]=V("Currently fighting the ")),w("span",{class:"numbers",innerHTML:c(_(n).run.room.kills+1)},null,8,lf),p[5]||(p[5]=V(" of ")),U(lt,{amount:r.value.count},null,8,["amount"])])):(S(),C("div",uf,[p[6]||(p[6]=V("Defeated ")),U(lt,{amount:r.value.count},null,8,["amount"]),p[7]||(p[7]=V("enemies! You gained ")),U(bi,{enemy:r.value},null,8,["enemy"]),p[8]||(p[8]=V(". "))]))],64)):(S(),C(z,{key:1},[r.value.health>_(n).run.room.damage?(S(),C("div",cf,"Currently fighting:")):(S(),C("div",df,[p[9]||(p[9]=V("Defeated! You gained ")),U(bi,{enemy:r.value},null,8,["enemy"]),p[10]||(p[10]=V(". "))]))],64)),U(fi,{mode:"out-in"},{default:St(()=>[!r.value.eulogy||r.value.health>_(n).run.room.damage||_(n).run.timers.celebrating?(S(),C("div",{key:"enemy-normal",class:fe({"fade-to-white":!!r.value.eulogy})},[w("h1",null,le(r.value.name),1),(S(),C("img",{src:`images/generated/${r.value.name}.webp`,alt:r.value.name,key:r.value.name,class:fe(["enemy-portrait",{ethereal:yi.value,dead:r.value.health<=_(n).run.room.damage&&!r.value.eulogy}])},null,10,ff)),U(no,{value:r.value.health-_(n).run.room.damage,max:r.value.health,color:"#c00",label:"HP"},null,8,["value","max"]),r.value.armor?(S(),_e(no,{key:0,value:r.value.armor-_(n).run.room.armorDamage,max:r.value.armor,color:"#666",label:"Armor",title:"Armor is subtracted from damage"},null,8,["value","max"])):G("",!0)],2)):(S(),C("div",{key:"enemy-eulogy",class:"revealed-info eulogy",innerHTML:r.value.eulogy(_(n))},null,8,pf))]),_:1})])):G("",!0),U(fi,{mode:"out-in",duration:t.testMode?0:void 0},{default:St(()=>[Je.value?(S(),C("div",hf,[w("img",{src:`images/generated/${Je.value?.name}.webp`,alt:Je.value?.name,class:"friend"},null,8,mf),w("h1",null,le(Je.value?.name),1),p[11]||(p[11]=w("p",{class:"description is-rescued",style:{"margin-top":"0","text-align":"center",color:"#edb"}},"is rescued!",-1)),w("div",{class:"description",innerHTML:Je.value?.descriptionHtml},null,8,gf),(S(!0),C(z,null,Ke(Je.value?.abilities,b=>(S(),C("div",{class:"abilities",key:b.name},[!b.hideInDescription||!b.hidden?.(_(n))?(S(),_e(Qt,{key:0,title:b.name,"display-duration":typeof b.duration=="number"?1e3*b.duration:void 0,description:gi(b,{hitChance:1,damageMultiplier:1,baseMultiplier:1,enemyMultiplier:1,rndHits:()=>1}),image:`images/generated/${b.image??b.name}.webp`,cost:mr(b)},null,8,["title","display-duration","description","image","cost"])):G("",!0)]))),128))])):to.value?(S(),C("div",yf,p[12]||(p[12]=[w("img",{src:va,alt:"A creature in a cage"},null,-1),w("h1",null,"Prisoner found",-1),w("p",{class:"description"},"You see a hooded figure in a cage. Will you let them out?",-1)]))):gr.value?(S(),C("div",bf,[p[13]||(p[13]=w("img",{src:Ac,alt:"Adventurers around a campfire"},null,-1)),p[14]||(p[14]=w("h1",null,"Camping",-1)),w("p",wf,"You rescued "+le(gr.value?.name)+" here earlier. You stop to recover your strength. ",1),a.value&&!Je.value?(S(),C("div",vf,[w("p",{class:"description",innerHTML:a.value.text},null,8,kf),w("img",{class:"friend",src:`images/generated/${a.value.friend}.webp`},null,8,xf)])):G("",!0)])):G("",!0)]),_:1},8,["duration"]),(S(!0),C(z,null,Ke(o.value,b=>(S(),C("div",{class:"passive-effect",innerHTML:b},null,8,Sf))),256)),U(nf,{show:!!_(n).run.timers.celebrating,onOnStart:p[0]||(p[0]=b=>{k.value=!0}),onOnEnd:p[1]||(p[1]=b=>{k.value=!1}),skelemasterion:r.value?.name==="Skelemasterion"},null,8,["show","skelemasterion"]),Rt(w("div",_f,[(S(!0),C(z,null,Ke(Va.value,b=>(S(),C(z,{key:b.name},[_(n).run.steps>0&&(i.value||b.peaceful)?(S(),_e(Qt,ui({key:0,"timer-key":`ability-${b.name}`},{ref_for:!0},u(b)),null,16,["timer-key"])):G("",!0)],64))),128)),_(n).run.capturedMonsters.length>0?(S(),C("div",Tf,"Captured Monsters")):G("",!0),(S(!0),C(z,null,Ke(_(n).run.capturedMonsters,b=>(S(),C(z,{key:b},[(S(!0),C(z,null,Ke(_(On)[b].abilities,x=>(S(),C(z,{key:x.name},[_(n).run.steps>0&&(i.value||x.peaceful)?(S(),_e(Qt,ui({key:0,"timer-key":`monster-${b}-ability-${x.name}`},{ref_for:!0},u(x)),null,16,["timer-key"])):G("",!0)],64))),128))],64))),128)),i.value?(S(),C("div",Cf,"Navigation")):to.value?(S(),_e(Qt,{key:2,"timer-key":"rescue-unlock",duration:8e3,title:"Rescue prisoner",description:"Release the poor creature.",image:"images/generated/rescue-unlock.webp"})):tn.value?(S(),C(z,{key:3},[p[15]||(p[15]=w("div",{class:"section"},"Navigation",-1)),k.value?G("",!0):(S(),_e(Qt,{key:0,"timer-key":"wayfinder-turn",duration:1e3,title:tn.value?.title,description:tn.value?.description,image:`images/generated/${tn.value?.title}.webp`,autostart:!0},null,8,["title","description","image"]))],64)):(S(),C(z,{key:4},[p[16]||(p[16]=w("div",{class:"section"},"Navigation",-1)),(S(!0),C(z,null,Ke(s.value,b=>(S(),C("button",{key:b.title,onClick:x=>_(n).takeTurn(b.title)},[w("img",{src:`images/generated/${b.leadsTo&&_(n).team.discovered.includes(b.leadsTo)?_(xa)[b.leadsTo].name:b.title}.webp`,class:fe({turn:!0,"leads-to":b.leadsTo&&_(n).team.discovered.includes(b.leadsTo)})},null,10,Af),w("div",Mf,[w("div",Rf,le(b.title),1),w("div",If,[w("p",null,le(b.description),1)])])],8,$f))),128))],64)),_(n).run.steps>0?(S(),C("button",{key:5,onClick:p[2]||(p[2]=b=>d()),onBlur:p[3]||(p[3]=b=>l.value=!1),accesskey:"r"},[p[21]||(p[21]=w("img",{src:Mc},null,-1)),w("div",Lf,[p[20]||(p[20]=w("div",{class:"title"},"Retreat",-1)),w("div",Ef,[w("p",null,[p[19]||(p[19]=V(" Leave the dungeon and return to safety. ")),_(n).run.fruit>0?(S(),C(z,{key:0},[p[17]||(p[17]=V(" You start over, but keep the ")),U(Er,{amount:_(n).run.fruit},null,8,["amount"]),p[18]||(p[18]=V(" you've collected. Spend it on your band! "))],64)):G("",!0)]),l.value?(S(),C("p",Df,"Click again to confirm.")):G("",!0)])])],32)):G("",!0)],512),[[It,!k.value]])],64))}}),Bf=Ht(Pf,[["__scopeId","data-v-eb3e70ab"]]),Hf=""+new URL("../images/generated/ring.webp",import.meta.url).href,Of=""+new URL("../images/generated/Campfinder.webp",import.meta.url).href,Nf=""+new URL("../images/generated/Wayfinder.webp",import.meta.url).href;function Ya(e,t,n){if(n.length<2)return[];const r=[`M ${n[0].x*t} ${n[0].y*t}`];for(let s=1;s<n.length-1;s++){const{x:o,y:a}=n[s-1],{x:l,y:d}=n[s],{x:u,y:c}=n[s+1],m=l-o,k=d-a,g=u-l,p=c-d;if(m===0&&p===0||k===0&&g===0){const b=Math.hypot(m,k),x=Math.hypot(g,p),L=Math.min(e,b/2,x/2),B=l-Math.sign(m)*L,R=d-Math.sign(k)*L,W=l+Math.sign(g)*L,J=d+Math.sign(p)*L;r.push(`L ${B*t} ${R*t}`);const se=m*p-k*g>0;r.push(`A ${L*t} ${L*t} 0 0 ${se?1:0} ${W*t} ${J*t}`)}else r.push(`L ${l*t} ${d*t}`)}const i=n[n.length-1];return r.push(`L ${i.x*t} ${i.y*t}`),r}function ro(e,t,n){return Ya(e,t,n).join(" ")}const Wf={width:"100%",height:"100%"},zf=["d","stroke-width"],jf=["d","stroke-width"],Kf=["d","stroke-width"],Gf=["cx","cy","r"],qf=["alt","onMouseenter","src","onClick"],Uf=["src","alt"],Ff={key:0},Vf={class:"numbers"},Jf={key:1},Yf=We({__name:"Map",setup(e){const t=Jl("mapElement"),n=De(1),r=new ResizeObserver(()=>{t.value&&(n.value=t.value.clientWidth/800)});Tr(()=>{t.value&&(n.value=t.value.clientWidth/800,r.observe(t.value))}),jn(()=>{r.disconnect()});const i=ie(()=>Hn(f.run.steps,f.run.turns).path);function s(g){return g.type.replace("rescue","pack")}function o(g,p){if(!t.value)return{display:"none"};const b=g.x*n.value,x=g.y*n.value;let L=30*n.value*(p??1);return g.type==="boss"&&(L*=1.2),g.type==="finalboss"&&(L*=2),{left:`${b-L/2}px`,top:`${x-L/2}px`,width:`${L}px`,height:`${L}px`}}function a(g){c.value=g;const p=Ve(g);X("Wayfinder")&&f.team.discovered.includes(p)&&(f.local.destination=p)}const l=ie(()=>ro(20,n.value,i.value)),d=ie(()=>X("Wayfinder")&&f.local.destination?ka(f.local.destination):[]),u=ie(()=>ro(20,n.value,d.value)),c=De(null),m=ie(()=>c.value?.name?On[c.value.name]:null),k=ie(()=>{function g(b,x){const L=b[b.length-1];if(L.end||L!==be[0]&&L.type!=="none"&&!f.team.discovered.includes(Ve(L))){let B=null;for(const R of Ya(20,n.value,b))B&&x.add(`M ${B} ${R}`),B=R.split(" ").slice(-2).join(" ")}else{const B=L.next?Object.values(L.next).map(R=>be[Di[R.label]]):L.end?[]:[be[(L.index??0)+1]];for(const R of B)g([...b,R],x)}}const p=new Set;return g([be[0]],p),Array.from(p).join(" ")});return(g,p)=>(S(),C(z,null,[w("div",{class:"map",ref_key:"mapElement",ref:t},[p[10]||(p[10]=w("div",{class:"map-backdrop"},null,-1)),(S(),C("svg",Wf,[w("path",{d:k.value,stroke:"#fff8","stroke-width":1*n.value,fill:"none"},null,8,zf),w("path",{d:l.value,stroke:"white","stroke-width":5*n.value,fill:"none"},null,8,jf),w("path",{d:u.value,stroke:"white","stroke-width":3*n.value,"stroke-dasharray":"3 5",fill:"none"},null,8,Kf),i.value?.[i.value.length-1]?.type==="none"?(S(),C("circle",{key:0,cx:i.value[i.value.length-1].x*n.value,cy:i.value[i.value.length-1].y*n.value,r:5*n.value,fill:"white"},null,8,Gf)):G("",!0)])),(S(!0),C(z,null,Ke(_(be),b=>(S(),C(z,null,[b.type!=="none"?(S(),C("img",{key:0,alt:b.name,style:ct(o(b)),onMouseenter:x=>c.value=b,onMouseleave:p[0]||(p[0]=x=>c.value=null),src:`images/generated/${s(b)}-outlined.webp`,class:fe({marker:!0,undiscovered:!_(f).team.discovered.includes(_(Ve)(b))}),onClick:x=>a(b)},null,46,qf)):G("",!0)],64))),256)),_(f).run.steps>0?(S(),C("img",{key:0,style:ct(o(i.value[i.value.length-1],2)),src:Hf,class:"marker ring"},null,4)):G("",!0),c.value?.name?(S(),C("div",{key:1,class:fe(["hovered-room",{right:c.value.x>407}]),style:ct({top:`${c.value.y*n.value}px`,left:`${c.value.x*n.value}px`})},[w("img",{class:fe({"friend-portrait":c.value.type==="rescue","enemy-portrait":c.value.type!=="rescue",ethereal:c.value.type!=="rescue"&&m.value?.ethereal}),src:`images/generated/${c.value.name}.webp`,alt:c.value.name},null,10,Uf),w("h1",null,le(c.value.name),1),m.value&&_(f).team.unlocked.includes("Wayfinder")?(S(),C("p",Ff,[m.value.count?(S(),C(z,{key:0},[U(lt,{amount:m.value.count},{default:St(()=>p[3]||(p[3]=[V("×")])),_:1,__:[3]},8,["amount"]),p[4]||(p[4]=V("  "))],64)):G("",!0),U(lt,{amount:m.value.health},null,8,["amount"]),p[8]||(p[8]=V("HP ")),m.value.armor?(S(),C(z,{key:1},[U(lt,{amount:m.value.armor},null,8,["amount"]),p[5]||(p[5]=V("armor "))],64)):G("",!0),m.value.dodge?(S(),C(z,{key:2},[w("span",Vf,le(_(Ft)(m.value.dodge*1e3)),1),p[6]||(p[6]=V(" dodge "))],64)):G("",!0),m.value.regen?(S(),C(z,{key:3},[U(lt,{amount:m.value.regen},null,8,["amount"]),p[7]||(p[7]=V("regeneration/s "))],64)):G("",!0)])):G("",!0),m.value?.rewards?(S(),C("p",Jf,[p[9]||(p[9]=V("Rewards when defeated: ")),U(bi,{enemy:m.value},null,8,["enemy"])])):G("",!0)],6)):G("",!0)],512),_(X)("Campfinder")&&_(f).local.destination?(S(),C("button",{key:0,onClick:p[1]||(p[1]=b=>_(f).local.destination=void 0)},p[11]||(p[11]=[w("img",{src:Of},null,-1),w("div",{class:"text"},[w("div",{class:"title"},"Stop traveling"),w("div",{class:"description"},[w("p",null,"Ask Campfinder to stop for now.")])],-1)]))):_(X)("Wayfinder")&&_(f).local.destination?(S(),C("button",{key:1,onClick:p[2]||(p[2]=b=>_(f).local.destination=void 0)},p[12]||(p[12]=[w("img",{src:Nf},null,-1),w("div",{class:"text"},[w("div",{class:"title"},"Stop traveling"),w("div",{class:"description"},[w("p",null,"Ask Wayfinder to stop for now.")])],-1)]))):G("",!0)],64))}}),Zf=Ht(Yf,[["__scopeId","data-v-3fc09a32"]]),Xr=We({__name:"Packs",props:{amount:{}},setup(e){const t=e;return(n,r)=>(S(),_e(lt,{amount:t.amount},{default:St(()=>r[0]||(r[0]=[w("img",{src:Bn,class:"resource-icon"},null,-1)])),_:1,__:[0]},8,["amount"]))}}),Xf=["onClick","aria-label"],Qf=["src"],ep=["onClick"],tp={key:2,class:"band-cell unavailable"},np={key:0,class:"band-tutorial"},rp={key:1,class:"band-tutorial"},ip={key:2,class:"band-tutorial"},sp={key:3,class:"band-tutorial"},op={key:4,class:"band-tutorial"},ap={key:5,class:"band-tutorial"},lp=["src"],up={key:0,class:"description",style:{color:"#edb","margin-bottom":"0"}},cp={key:1,class:"description",style:{color:"#edb","margin-bottom":"0"}},dp={class:"below-grid"},fp={class:"band-unlocked"},pp=["onClick","onFocus","aria-label"],hp=["src"],mp={key:0,class:"band-details"},gp=["src"],yp=["innerHTML"],bp=We({__name:"Band",setup(e){const t=De(void 0);function n(g,p){const b=Ue(g,p);return b?`images/generated/${vt("Azrekta",g,p)&&b.super?.name||b.name}.webp`:void 0}function r(g){const p=X(g);return g==="Lamplighter"?k.value&&!p:k.value?!0:p?g==="Bayla"||!!X("Baylanda"):!1}function i(g,p,b){if(!r(b))return;const x=X(b),L=we[b]?.cost??0;x?(s(x.row,x.col),f.available(g,p)&&(f.local.band[p+g*f.local.band.width]=b),o()):f.team.packs>=d.value+L&&f.available(g,p)&&(f.local.band[p+g*f.local.band.width]=b)}function s(g,p){const b=p+g*f.local.band.width;delete f.local.band[b]}function o(){const g=f.local.band;for(let p=0;p<g.height;p++)for(let b=0;b<g.width;b++)if(!f.available(p,b)){const x=b+p*g.width;g[x]&&s(p,b)}}const a=ie(()=>{const g=f.local.band;for(let p=0;p<g.height;p++)for(let b=0;b<g.width;b++){const x=b+p*g.width,L=g[x],B=we[L];if(L===t.value)return vt("Azrekta",p,b)?{...B,...B.super}:B}return t.value?we[t.value]:void 0});function l(g,p){const b=Ue(g,p);t.value!==b?.name?t.value=b?.name:k.value&&(s(g,p),o())}const d=ie(()=>{let g=0;for(const p of Object.values(f.local.band)){const b=we[p];b&&(g+=b.cost)}return g}),u=ie(()=>{const g=[],p=f.local.band;for(let b=0;b<p.height;b++)for(let x=0;x<p.width;x++){const L=x+b*p.width,B=p[L];if(!B)continue;const R=we[B],W="chain";for(const J of["Azrekta","Lord of Gears","The Silent Song","Campfinder"]){if(J==="Azrekta"&&!R.super||(J==="Lord of Gears"||J==="The Silent Song")&&!R.abilities&&!R.super?.abilities)continue;const se=vt(J,b,x);se&&g.push({image:W,style:se[0]===b?`left: ${(x+se[1]+1)*103/2-15}px; top: ${(b+.5)*103-15}px; transform: rotate(90deg);`:`left: ${(x+.5)*103-15}px; top: ${(b+se[0]+1)*103/2-15}px;`})}if(B==="Knight of Claws")for(const J of f.emptySpacesAround(b,x))g.push({image:W,style:J.row===b?`left: ${(x+J.col+1)*103/2-15}px; top: ${(b+.5)*103-15}px; transform: rotate(90deg);`:`left: ${(x+.5)*103-15}px; top: ${(b+J.row+1)*103/2-15}px;`});else if(B==="Smiling Pilot"){if(R.abilities?.every(J=>J.hidden?.(f)))continue;g.push({image:W,style:`left: ${(x+1)*103-15}px; top: ${(b+.5)*103-15}px; transform: rotate(90deg);`}),g.push({image:W,style:`left: ${x*103-15}px; top: ${(b+.5)*103-15}px; transform: rotate(90deg);`})}}return g}),c=ie(()=>{const g=new Set(Object.values(f.local.band)),p=f.team.unlocked.filter(b=>!g.has(b));return p.sort((b,x)=>we[b].cost-we[x].cost),p});function m(){const g=en(f.team.packs+1);f.team.fruit+f.run.fruit<g||(f.team.fruit<g&&(f.run.fruit-=g-f.team.fruit,f.team.fruit=g),f.team.packs+=1)}const k=ie(()=>f.run.steps===0?!0:X("Wayfinder")?f.currentRoom().type==="rescue":!1);return(g,p)=>(S(),C(z,null,[w("p",null,[p[3]||(p[3]=V(" The ")),p[4]||(p[4]=w("u",{contenteditable:"true"},"Unnamed Band",-1)),p[5]||(p[5]=V(" is assembled at a total cost of ")),U(Xr,{amount:d.value},null,8,["amount"]),p[6]||(p[6]=V(", leaving you with ")),U(Xr,{amount:_(f).team.packs-d.value},null,8,["amount"]),p[7]||(p[7]=V(" to hire more members. ")),w("button",{class:fe(["buy-pack-button",{unaffordable:_(f).team.fruit+_(f).run.fruit<_(en)(_(f).team.packs+1)}]),onClick:p[0]||(p[0]=b=>m())},[p[1]||(p[1]=V("Buy ")),U(Xr,{amount:1}),p[2]||(p[2]=V(" for ")),U(Er,{amount:_(en)(_(f).team.packs+1)-_(en)(_(f).team.packs)},null,8,["amount"])],2)]),w("div",{class:fe(["band-grid",{enabled:k.value,disabled:!k.value}])},[w("img",{class:fe(["light-ring",_(f).lightRadius()]),src:"images/generated/light-ring.webp"},null,2),(S(!0),C(z,null,Ke(_(f).local.band.height,(b,x)=>(S(),C("div",{class:"band-row",key:x},[(S(!0),C(z,null,Ke(_(f).local.band.width,(L,B)=>(S(),C(z,{key:B},[_(Ue)(x,B)?(S(),C("button",{key:0,class:fe(["band-cell",{unavailable:!_(f).available(x,B)}]),onClick:R=>l(x,B),"aria-label":_(Ue)(x,B)?.name??""},[_(Ue)(x,B)?(S(),C("img",{key:0,src:n(x,B)},null,8,Qf)):G("",!0)],10,Xf)):_(f).available(x,B)?(S(),C("button",{key:1,class:"band-cell",onClick:R=>t.value&&i(x,B,t.value),"aria-label":"+"}," ＋ ",8,ep)):(S(),C("button",tp)),x===2&&B===2&&_(f).team.unlocked.includes("Lamplighter")?(S(),C(z,{key:3},[_(Ue)(x,B)?.name==="Stick Master"&&!k.value?(S(),C("div",np," Retreat to make changes to the band ")):_(Ue)(x,B)?.name==="Stick Master"&&t.value!=="Stick Master"?(S(),C("div",rp," Click me to select me ")):_(Ue)(x,B)?.name==="Stick Master"&&t.value==="Stick Master"?(S(),C("div",ip," Click me again to remove me from the band ")):!_(Ue)(x,B)&&(t.value==="Stick Master"||!t.value)?(S(),C("div",sp," Select someone below to add them to the band ")):!_(Ue)(x,B)&&_(f).team.packs>=d.value+(_(we)[t.value??""]?.cost??0)&&_(f).available(x,B)?(S(),C("div",op," Click here to add "+le(t.value)+" to the band ",1)):_(Ue)(x,B)?G("",!0):(S(),C("div",ap,[p[8]||(p[8]=V(" Buy more ")),p[9]||(p[9]=w("img",{src:Bn,class:"resource-icon"},null,-1)),V(" to afford adding "+le(t.value)+" to the band ",1)]))],64)):G("",!0)],64))),128))]))),128)),(S(!0),C(z,null,Ke(u.value,b=>(S(),C("img",{class:"chain",src:`images/generated/${b.image}.webp`,style:ct(b.style)},null,12,lp))),256))],2),k.value?(S(),C("p",up," You can change your band here. Tap members to select or remove them. Tap empty spaces to move or add the selected member. ")):(S(),C("p",cp," You cannot change your band now. The dungeon is dangerous. Retreat to a safe place to make changes. ")),w("div",dp,[Rt(w("div",fp,[(S(!0),C(z,null,Ke(c.value,b=>(S(),C("button",{key:b,class:fe(["band-cell",{unaffordable:_(f).team.packs<_(we)[b].cost+d.value}]),onClick:x=>t.value=b,onFocus:x=>t.value=b,"aria-label":b},[w("img",{src:`images/generated/${b}.webp`},null,8,hp)],42,pp))),128))],512),[[It,c.value.length>0]]),t.value&&a.value?(S(),C("div",mp,[w("div",{class:fe(["friend-cost numbers",{unaffordable:_(f).team.packs<a.value.cost+d.value&&!_(X)(t.value)}])},[V(le(a.value?.cost??0)+" ",1),p[10]||(p[10]=w("img",{src:Bn,class:"resource-icon"},null,-1))],2),w("img",{class:"friend",src:`images/generated/${a.value.name}.webp`},null,8,gp),w("h1",null,le(a.value.name),1),w("div",{class:"description",innerHTML:a.value.descriptionHtml},null,8,yp),(S(!0),C(z,null,Ke(a.value.abilities,b=>(S(),C(z,{key:b.name},[!b.hideInDescription||!b.hidden?.(_(f))?(S(),_e(Qt,{key:0,title:b.name,"display-duration":typeof b.duration=="number"?1e3*b.duration:void 0,description:_(gi)(b,{hitChance:1,damageMultiplier:1,baseMultiplier:1,enemyMultiplier:1,rndHits:()=>1}),image:`images/generated/${b.image??b.name}.webp`,cost:_(mr)(b),tags:_(X)("Desert Rabbit")&&_(Fi)({...b,source:_(X)(t.value)})},null,8,["title","display-duration","description","image","cost","tags"])):G("",!0)],64))),128))])):G("",!0)])],64))}}),wp=Ht(bp,[["__scopeId","data-v-5b03acb4"]]),vp=""+new URL("../images/generated/copy-link.webp",import.meta.url).href,kp=""+new URL("../images/generated/blur-images.webp",import.meta.url).href,xp=""+new URL("../images/generated/reset.webp",import.meta.url).href,Sp=""+new URL("../images/generated/Construct Factory.webp",import.meta.url).href,_p=""+new URL("../images/generated/Deploy Grower.webp",import.meta.url).href,Tp="2025-09-25 23:01:37",Cp={date:Tp},$p={class:"actions"},Ap=["src"],Mp={class:"text"},Rp={class:"title"},Ip={class:"text"},Lp={class:"title"},Ep={class:"text"},Dp={class:"description"},Pp={key:0},Bp={key:1},Hp={class:"text"},Op={class:"description"},Np={key:0},Wp={key:1},zp={class:"credits"},jp=We({__name:"Settings",setup(e){function t(){l.value<2?l.value++:(localStorage.clear(),window.location.reload())}async function n(){f.local.settings.online=!f.local.settings.online,f.local.settings.online&&(f.local.settings.teamId||(f.local.settings.teamId=await xd()))}async function r(){const u=`${window.location.href}?join=${f.local.settings.teamId}`;console.log(u),await navigator.clipboard.writeText(u)}function i(){if(d.value<1){d.value++;return}f.team.unlocked=Ba.map(u=>u.name),f.team.discovered=be.map(Ve),d.value++}function s(u,c){const m=document.createElement("a");m.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(c)}`),m.setAttribute("download",u),m.style.display="none",document.body.appendChild(m),m.click(),document.body.removeChild(m)}function o(){const u={run:f.run,local:f.local,team:f.team},c=new Date().toISOString().replace(/[-:T]/g,"").slice(0,14);s(`bands-and-bonds-${c}.json`,JSON.stringify(u))}function a(u){const c=u.dataTransfer?.files;if(!c||c.length===0)return;const m=c[0],k=new FileReader;k.onload=g=>{if(!g.target?.result)return;const p=JSON.parse(g.target.result);Object.assign(f.run,p.run??{}),Object.assign(f.local,p.local??{}),Object.assign(f.team,p.team??{})},k.readAsText(m)}const l=De(0),d=De(0);return(u,c)=>(S(),C("div",$p,[w("button",{onClick:c[0]||(c[0]=m=>n())},[w("img",{src:`images/generated/${_(f).local.settings.online?"on":"off"}line.webp`},null,8,Ap),w("div",Mp,[w("div",Rp,le(_(f).local.settings.online?"Disable online features":"Enable online features"),1),c[11]||(c[11]=w("div",{class:"description"},[w("p",null,"When enabled, you can play Bands & Bonds with friends."),w("p",null,"You share persistent progress, and everyone can go on dungeon runs independently.")],-1))])]),_(f).local.settings.online&&_(f).local.settings.teamId?(S(),C("button",{key:0,onClick:c[1]||(c[1]=m=>r())},c[12]||(c[12]=[w("img",{src:vp},null,-1),w("div",{class:"text"},[w("div",{class:"title"},"Copy invite link"),w("div",{class:"description"},[w("p",null,"Share this link with a friend to let them join your team.")])],-1)]))):G("",!0),w("button",{onClick:c[2]||(c[2]=m=>_(f).local.settings.blurImages=!_(f).local.settings.blurImages)},[c[14]||(c[14]=w("img",{src:kp},null,-1)),w("div",Ip,[w("div",Lp,le(_(f).local.settings.blurImages?"Unblur images":"Blur images"),1),c[13]||(c[13]=w("div",{class:"description"},[w("p",null,"All images in this prototype are AI generated. If you would rather not see them, turn on blurring.")],-1))])]),c[25]||(c[25]=w("div",{class:"section"},"Developer tools",-1)),w("button",{onClick:c[3]||(c[3]=m=>t()),onBlur:c[4]||(c[4]=m=>l.value=0)},[c[17]||(c[17]=w("img",{src:xp},null,-1)),w("div",Ep,[c[16]||(c[16]=w("div",{class:"title"},"Reset data",-1)),w("div",Dp,[c[15]||(c[15]=w("p",null," Throw away all your progress and start over. ",-1)),l.value>=1?(S(),C("p",Pp," Click again if you are sure. ")):G("",!0),l.value>=2?(S(),C("p",Bp," Click again if you are super sure. ")):G("",!0)])])],32),w("button",{class:"hideme",onClick:c[5]||(c[5]=m=>_(f).team.fruit*=2)},c[18]||(c[18]=[w("img",{src:Bn},null,-1),w("div",{class:"text"},[w("div",{class:"title"},"Help I'm stuck"),w("div",{class:"description"},[w("p",null,"If you want to skip ahead, you can cheat and double your fruit.")])],-1)])),w("button",{class:"hideme",onClick:c[6]||(c[6]=m=>i()),onBlur:c[7]||(c[7]=m=>d.value=0)},[c[21]||(c[21]=w("img",{src:va},null,-1)),w("div",Hp,[c[20]||(c[20]=w("div",{class:"title"},"Unlock everything",-1)),w("div",Op,[c[19]||(c[19]=w("p",null,"Unlocks all characters. Definitely spoils the game.",-1)),d.value>=2?(S(),C("p",Np," Unlocked! ")):d.value>=1?(S(),C("p",Wp," Click again if you are sure. ")):G("",!0)])])],32),w("button",{onClick:c[8]||(c[8]=m=>o())},c[22]||(c[22]=[w("img",{src:Sp},null,-1),w("div",{class:"text"},[w("div",{class:"title"},"Export game state"),w("div",{class:"description"},[w("p",null,"Download your current game state as a JSON file.")])],-1)])),w("button",{onDrop:Fr(a,["prevent"]),onDragenter:c[9]||(c[9]=Fr(()=>{},["prevent"])),onDragover:c[10]||(c[10]=Fr(()=>{},["prevent"]))},c[23]||(c[23]=[w("img",{src:_p},null,-1),w("div",{class:"text"},[w("div",{class:"title"},"Import game state"),w("div",{class:"description"},[w("p",null,"Drop a JSON file here to import your game state.")])],-1)]),32),c[26]||(c[26]=w("div",{class:"section"},"Credits",-1)),w("div",zp,[c[24]||(c[24]=Wu(' A game prototype by <a href="mailto:daniel.darabos@gmail.com" target="_blank" data-v-5d4e07aa>Daniel Darabos</a>. All images were created with <a href="https://sana.hanlab.ai/" target="_blank" data-v-5d4e07aa>Sana</a>. The map was drawn in <a href="https://www.dungeonscrawl.com/" target="_blank" data-v-5d4e07aa>DungeonScrawl</a> and brought to life using <a href="https://huggingface.co/spaces/multimodalart/flux-style-shaping" target="_blank" data-v-5d4e07aa>FLUX Style Shaping</a>. The fonts used are <a href="https://fonts.google.com/specimen/Grenze+Gotisch" target="_blank" data-v-5d4e07aa>Grenze Gotisch</a>, <a href="https://fonts.google.com/specimen/Bellefair" target="_blank" data-v-5d4e07aa>Bellefair</a>, and <a href="https://fonts.google.com/specimen/Germania+One" target="_blank" data-v-5d4e07aa>Germania One</a>. <a href="https://appwrite.io/" target="_blank" data-v-5d4e07aa>Appwrite</a> provides the database for the online features. Written in TypeScript using <a href="https://vuejs.org/" target="_blank" data-v-5d4e07aa>Vue.js</a> and <a href="https://vite.dev/" target="_blank" data-v-5d4e07aa>Vite</a>. See the source code on <a href="https://github.com/darabos/bands-and-bonds/" target="_blank" data-v-5d4e07aa>GitHub</a>',22)),V(". Last updated on "+le(_(Cp).date)+". ",1)])]))}}),Kp=Ht(jp,[["__scopeId","data-v-5d4e07aa"]]),Gp={class:"header"},qp={class:"header-header"},Up={id:"header-gold",class:"numbers"},Fp={id:"header-fruit",class:"numbers"},Vp={class:"tabs"},Jp={class:"page-container"},Yp={class:"page-container"},Zp={class:"page-container"},Xp={class:"page-container"},Qp=We({__name:"App",setup(e){const t=De(null),n=De(performance.now()),r=De(performance.now()),i=De(performance.now()),s=localStorage.getItem("bnb-current-page"),o=De(s??"combat");Ze(o,c=>{localStorage.setItem("bnb-current-page",c)});function a(){const c=performance.now();let m=0,k=100;for(;n.value<c&&performance.now()<c+200;)d(Math.min(n.value+k,c)),m++,k=Math.floor(k*1.1);m>1&&console.log(`Caught up ${m} frames.`),t.value=requestAnimationFrame(a)}const l=window.location.search.includes("test");function d(c){let m=c;f.run.skipTime&&(m+=f.run.skipTime,f.run.skipTime=0);let k=m-n.value;const g=l?100:1;k*=g;const p=f.currentEnemy();p&&f.run.room.damage<p.health&&(k/=p?.slowTime??1);for(const[b,x]of Object.entries(f.run.timers)){x.time??=0,x.affectedBySpeedLevel?x.time+=k*f.run.speedLevel:x.time+=k;const L=Math.floor(x.time/x.duration);L>0&&(x.time-=x.duration*L,f.timerFinished(b,x,L))}if(p&&f.run.room.damage<p.health){const b=f.run.timers["monster-Decay Manifest-ability-Waft of Decay"]?2:1,x=g*((p.regen??0)-f.run.room.poison*b),L=(m-r.value)*x/1e3;L>1?(f.run.room.damage=Math.max(0,f.run.room.damage-Math.floor(L)),r.value+=Math.floor(L)/x*1e3):L<-1?(f.addDamage(Math.floor(-L),1,{ignoreArmor:!0}),r.value-=Math.floor(-L)/x*1e3):L===0&&(r.value=c)}if(f.run.saplings>0){const b=g*f.run.saplings*f.fruitMultiplier(),x=(m-i.value)*b/1e3;x>1&&(f.run.fruit+=Math.floor(x),i.value+=Math.floor(x)*1e3/b)}else i.value=c;n.value=c}const u=ie(()=>f.team.fruit+f.run.fruit-en(f.team.packs));return Tr(()=>{t.value=requestAnimationFrame(a)}),jn(()=>{t.value&&cancelAnimationFrame(t.value)}),(c,m)=>(S(),C("div",{style:{display:"contents"},class:fe([{"blur-images":_(f).local.settings.blurImages,"test-mode":_(l)},"app"])},[w("div",Gp,[w("div",qp,[w("div",Up,[_(f).run.gold?(S(),C(z,{key:0},[m[4]||(m[4]=w("img",{src:ya,class:"header-icon"},null,-1)),V(" "+le(_(Re)(_(f).run.gold)),1)],64)):G("",!0),_(f).run.saplings?(S(),C(z,{key:1},[m[5]||(m[5]=V("  ")),m[6]||(m[6]=w("img",{src:ba,class:"header-icon"},null,-1)),V(" "+le(_(Re)(_(f).run.saplings)),1)],64)):G("",!0)]),m[9]||(m[9]=w("div",{class:"logo title"},[w("img",{src:Es,alt:"B"}),V("ands "),w("span",{style:{color:"#edb"}}," & "),w("img",{src:Es,alt:"B"}),V("onds ")],-1)),w("div",Fp,[u.value?(S(),C(z,{key:0},[V(le(_(Re)(u.value))+" ",1),m[7]||(m[7]=w("img",{src:wa,class:"header-icon",title:"Gold spoils. Fruit is forever."},null,-1))],64)):G("",!0),V("   "+le(_(Re)(_(f).team.packs))+" ",1),m[8]||(m[8]=w("img",{src:Bn,class:"header-icon"},null,-1))])]),w("div",Vp,[w("button",{class:fe({selected:o.value==="combat"}),onClick:m[0]||(m[0]=k=>o.value="combat")},"Fight",2),w("button",{class:fe({selected:o.value==="map"}),onClick:m[1]||(m[1]=k=>o.value="map")},"Map",2),w("button",{class:fe({selected:o.value==="band"}),onClick:m[2]||(m[2]=k=>o.value="band")},"Band",2),w("button",{class:fe({selected:o.value==="settings"}),onClick:m[3]||(m[3]=k=>o.value="settings")},"Settings",2)])]),Rt(w("div",Jp,[U(Bf,{testMode:_(l)},null,8,["testMode"])],512),[[It,o.value==="combat"]]),Rt(w("div",Yp,[U(Zf)],512),[[It,o.value==="map"]]),Rt(w("div",Zp,[U(wp)],512),[[It,o.value==="band"]]),Rt(w("div",Xp,[U(Kp)],512),[[It,o.value==="settings"]])],2))}}),eh=Ht(Qp,[["__scopeId","data-v-957031fc"]]),io=new URLSearchParams(window.location.search);if(io.has("join")){const e=localStorage.getItem("bnb-local"),t=e?JSON.parse(e):Ga();t.settings.teamId=io.get("join"),t.settings.online=!0,localStorage.setItem("bnb-local",JSON.stringify(t)),window.location.href=window.location.href.replace(window.location.search,"")}Tc(eh).mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js").catch(e=>console.error("SW registration failed:",e))});
