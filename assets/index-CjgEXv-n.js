(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function hs(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const oe={},Qt=[],ut=()=>{},Za=()=>!1,hr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ms=e=>e.startsWith("onUpdate:"),xe=Object.assign,gs=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Xa=Object.prototype.hasOwnProperty,te=(e,t)=>Xa.call(e,t),j=Array.isArray,en=e=>mr(e)==="[object Map]",no=e=>mr(e)==="[object Set]",G=e=>typeof e=="function",we=e=>typeof e=="string",_t=e=>typeof e=="symbol",pe=e=>e!==null&&typeof e=="object",ro=e=>(pe(e)||G(e))&&G(e.then)&&G(e.catch),so=Object.prototype.toString,mr=e=>so.call(e),Qa=e=>mr(e).slice(8,-1),io=e=>mr(e)==="[object Object]",bs=e=>we(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,yn=hs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},el=/-(\w)/g,It=gr(e=>e.replace(el,(t,n)=>n?n.toUpperCase():"")),tl=/\B([A-Z])/g,Vt=gr(e=>e.replace(tl,"-$1").toLowerCase()),oo=gr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Lr=gr(e=>e?`on${oo(e)}`:""),Lt=(e,t)=>!Object.is(e,t),Ir=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Fr=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},nl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},rl=e=>{const t=we(e)?Number(e):NaN;return isNaN(t)?e:t};let Fs;const br=()=>Fs||(Fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ct(e){if(j(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=we(r)?al(r):ct(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(we(e)||pe(e))return e}const sl=/;(?![^(]*\))/g,il=/:([^]+)/,ol=/\/\*[^]*?\*\//g;function al(e){const t={};return e.replace(ol,"").split(sl).forEach(n=>{if(n){const r=n.split(il);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function fe(e){let t="";if(we(e))t=e;else if(j(e))for(let n=0;n<e.length;n++){const r=fe(e[n]);r&&(t+=r+" ")}else if(pe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ll="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ul=hs(ll);function ao(e){return!!e||e===""}const lo=e=>!!(e&&e.__v_isRef===!0),ae=e=>we(e)?e:e==null?"":j(e)||pe(e)&&(e.toString===so||!G(e.toString))?lo(e)?ae(e.value):JSON.stringify(e,uo,2):String(e),uo=(e,t)=>lo(t)?uo(e,t.value):en(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Dr(r,i)+" =>"]=s,n),{})}:no(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Dr(n))}:_t(t)?Dr(t):pe(t)&&!j(t)&&!io(t)?String(t):t,Dr=(e,t="")=>{var n;return _t(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Oe;class cl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Oe,!t&&Oe&&(this.index=(Oe.scopes||(Oe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Oe;try{return Oe=this,t()}finally{Oe=n}}}on(){++this._on===1&&(this.prevScope=Oe,Oe=this)}off(){this._on>0&&--this._on===0&&(Oe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function dl(){return Oe}let de;const Pr=new WeakSet;class co{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Oe&&Oe.active&&Oe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pr.has(this)&&(Pr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||po(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ys(this),ho(this);const t=de,n=Fe;de=this,Fe=!0;try{return this.fn()}finally{mo(this),de=t,Fe=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)vs(t);this.deps=this.depsTail=void 0,Ys(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yr(this)&&this.run()}get dirty(){return Yr(this)}}let fo=0,wn,vn;function po(e,t=!1){if(e.flags|=8,t){e.next=vn,vn=e;return}e.next=wn,wn=e}function ys(){fo++}function ws(){if(--fo>0)return;if(vn){let t=vn;for(vn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;wn;){let t=wn;for(wn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function ho(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function mo(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),vs(r),fl(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function Yr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(go(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function go(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Tn)||(e.globalVersion=Tn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Yr(e))))return;e.flags|=2;const t=e.dep,n=de,r=Fe;de=e,Fe=!0;try{ho(e);const s=e.fn(e._value);(t.version===0||Lt(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{de=n,Fe=r,mo(e),e.flags&=-3}}function vs(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)vs(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function fl(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Fe=!0;const bo=[];function kt(){bo.push(Fe),Fe=!1}function xt(){const e=bo.pop();Fe=e===void 0?!0:e}function Ys(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=de;de=void 0;try{t()}finally{de=n}}}let Tn=0;class pl{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ks{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!de||!Fe||de===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==de)n=this.activeLink=new pl(de,this),de.deps?(n.prevDep=de.depsTail,de.depsTail.nextDep=n,de.depsTail=n):de.deps=de.depsTail=n,yo(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=de.depsTail,n.nextDep=void 0,de.depsTail.nextDep=n,de.depsTail=n,de.deps===n&&(de.deps=r)}return n}trigger(t){this.version++,Tn++,this.notify(t)}notify(t){ys();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ws()}}}function yo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)yo(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Jr=new WeakMap,qt=Symbol(""),Zr=Symbol(""),Cn=Symbol("");function Ce(e,t,n){if(Fe&&de){let r=Jr.get(e);r||Jr.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new ks),s.map=r,s.key=n),s.track()}}function gt(e,t,n,r,s,i){const o=Jr.get(e);if(!o){Tn++;return}const a=l=>{l&&l.trigger()};if(ys(),t==="clear")o.forEach(a);else{const l=j(e),c=l&&bs(n);if(l&&n==="length"){const u=Number(r);o.forEach((f,b)=>{(b==="length"||b===Cn||!_t(b)&&b>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Cn)),t){case"add":l?c&&a(o.get("length")):(a(o.get(qt)),en(e)&&a(o.get(Zr)));break;case"delete":l||(a(o.get(qt)),en(e)&&a(o.get(Zr)));break;case"set":en(e)&&a(o.get(qt));break}}ws()}function Yt(e){const t=Q(e);return t===e?t:(Ce(t,"iterate",Cn),Ve(e)?t:t.map(Se))}function yr(e){return Ce(e=Q(e),"iterate",Cn),e}const hl={__proto__:null,[Symbol.iterator](){return Br(this,Symbol.iterator,Se)},concat(...e){return Yt(this).concat(...e.map(t=>j(t)?Yt(t):t))},entries(){return Br(this,"entries",e=>(e[1]=Se(e[1]),e))},every(e,t){return ft(this,"every",e,t,void 0,arguments)},filter(e,t){return ft(this,"filter",e,t,n=>n.map(Se),arguments)},find(e,t){return ft(this,"find",e,t,Se,arguments)},findIndex(e,t){return ft(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ft(this,"findLast",e,t,Se,arguments)},findLastIndex(e,t){return ft(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ft(this,"forEach",e,t,void 0,arguments)},includes(...e){return Nr(this,"includes",e)},indexOf(...e){return Nr(this,"indexOf",e)},join(e){return Yt(this).join(e)},lastIndexOf(...e){return Nr(this,"lastIndexOf",e)},map(e,t){return ft(this,"map",e,t,void 0,arguments)},pop(){return cn(this,"pop")},push(...e){return cn(this,"push",e)},reduce(e,...t){return Js(this,"reduce",e,t)},reduceRight(e,...t){return Js(this,"reduceRight",e,t)},shift(){return cn(this,"shift")},some(e,t){return ft(this,"some",e,t,void 0,arguments)},splice(...e){return cn(this,"splice",e)},toReversed(){return Yt(this).toReversed()},toSorted(e){return Yt(this).toSorted(e)},toSpliced(...e){return Yt(this).toSpliced(...e)},unshift(...e){return cn(this,"unshift",e)},values(){return Br(this,"values",Se)}};function Br(e,t,n){const r=yr(e),s=r[t]();return r!==e&&!Ve(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const ml=Array.prototype;function ft(e,t,n,r,s,i){const o=yr(e),a=o!==e&&!Ve(e),l=o[t];if(l!==ml[t]){const f=l.apply(e,i);return a?Se(f):f}let c=n;o!==e&&(a?c=function(f,b){return n.call(this,Se(f),b,e)}:n.length>2&&(c=function(f,b){return n.call(this,f,b,e)}));const u=l.call(o,c,r);return a&&s?s(u):u}function Js(e,t,n,r){const s=yr(e);let i=n;return s!==e&&(Ve(e)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,e)}):i=function(o,a,l){return n.call(this,o,Se(a),l,e)}),s[t](i,...r)}function Nr(e,t,n){const r=Q(e);Ce(r,"iterate",Cn);const s=r[t](...n);return(s===-1||s===!1)&&_s(n[0])?(n[0]=Q(n[0]),r[t](...n)):s}function cn(e,t,n=[]){kt(),ys();const r=Q(e)[t].apply(e,n);return ws(),xt(),r}const gl=hs("__proto__,__v_isRef,__isVue"),wo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(_t));function bl(e){_t(e)||(e=String(e));const t=Q(this);return Ce(t,"has",e),t.hasOwnProperty(e)}class vo{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?$l:_o:i?So:xo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=j(t);if(!s){let l;if(o&&(l=hl[n]))return l;if(n==="hasOwnProperty")return bl}const a=Reflect.get(t,n,Re(t)?t:r);return(_t(n)?wo.has(n):gl(n))||(s||Ce(t,"get",n),i)?a:Re(a)?o&&bs(n)?a:a.value:pe(a)?s?To(a):on(a):a}}class ko extends vo{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const l=Dt(i);if(!Ve(r)&&!Dt(r)&&(i=Q(i),r=Q(r)),!j(t)&&Re(i)&&!Re(r))return l?!1:(i.value=r,!0)}const o=j(t)&&bs(n)?Number(n)<t.length:te(t,n),a=Reflect.set(t,n,r,Re(t)?t:s);return t===Q(s)&&(o?Lt(r,i)&&gt(t,"set",n,r):gt(t,"add",n,r)),a}deleteProperty(t,n){const r=te(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&gt(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!_t(n)||!wo.has(n))&&Ce(t,"has",n),r}ownKeys(t){return Ce(t,"iterate",j(t)?"length":qt),Reflect.ownKeys(t)}}class yl extends vo{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const wl=new ko,vl=new yl,kl=new ko(!0);const Xr=e=>e,Gn=e=>Reflect.getPrototypeOf(e);function xl(e,t,n){return function(...r){const s=this.__v_raw,i=Q(s),o=en(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?Xr:t?er:Se;return!t&&Ce(i,"iterate",l?Zr:qt),{next(){const{value:f,done:b}=c.next();return b?{value:f,done:b}:{value:a?[u(f[0]),u(f[1])]:u(f),done:b}},[Symbol.iterator](){return this}}}}function qn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Sl(e,t){const n={get(s){const i=this.__v_raw,o=Q(i),a=Q(s);e||(Lt(s,a)&&Ce(o,"get",s),Ce(o,"get",a));const{has:l}=Gn(o),c=t?Xr:e?er:Se;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!e&&Ce(Q(s),"iterate",qt),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Q(i),a=Q(s);return e||(Lt(s,a)&&Ce(o,"has",s),Ce(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Q(a),c=t?Xr:e?er:Se;return!e&&Ce(l,"iterate",qt),a.forEach((u,f)=>s.call(i,c(u),c(f),o))}};return xe(n,e?{add:qn("add"),set:qn("set"),delete:qn("delete"),clear:qn("clear")}:{add(s){!t&&!Ve(s)&&!Dt(s)&&(s=Q(s));const i=Q(this);return Gn(i).has.call(i,s)||(i.add(s),gt(i,"add",s,s)),this},set(s,i){!t&&!Ve(i)&&!Dt(i)&&(i=Q(i));const o=Q(this),{has:a,get:l}=Gn(o);let c=a.call(o,s);c||(s=Q(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?Lt(i,u)&&gt(o,"set",s,i):gt(o,"add",s,i),this},delete(s){const i=Q(this),{has:o,get:a}=Gn(i);let l=o.call(i,s);l||(s=Q(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&gt(i,"delete",s,void 0),c},clear(){const s=Q(this),i=s.size!==0,o=s.clear();return i&&gt(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=xl(s,e,t)}),n}function xs(e,t){const n=Sl(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(te(n,s)&&s in r?n:r,s,i)}const _l={get:xs(!1,!1)},Tl={get:xs(!1,!0)},Cl={get:xs(!0,!1)};const xo=new WeakMap,So=new WeakMap,_o=new WeakMap,$l=new WeakMap;function Ml(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Al(e){return e.__v_skip||!Object.isExtensible(e)?0:Ml(Qa(e))}function on(e){return Dt(e)?e:Ss(e,!1,wl,_l,xo)}function El(e){return Ss(e,!1,kl,Tl,So)}function To(e){return Ss(e,!0,vl,Cl,_o)}function Ss(e,t,n,r,s){if(!pe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Al(e);if(i===0)return e;const o=s.get(e);if(o)return o;const a=new Proxy(e,i===2?r:n);return s.set(e,a),a}function tn(e){return Dt(e)?tn(e.__v_raw):!!(e&&e.__v_isReactive)}function Dt(e){return!!(e&&e.__v_isReadonly)}function Ve(e){return!!(e&&e.__v_isShallow)}function _s(e){return e?!!e.__v_raw:!1}function Q(e){const t=e&&e.__v_raw;return t?Q(t):e}function Rl(e){return!te(e,"__v_skip")&&Object.isExtensible(e)&&Fr(e,"__v_skip",!0),e}const Se=e=>pe(e)?on(e):e,er=e=>pe(e)?To(e):e;function Re(e){return e?e.__v_isRef===!0:!1}function He(e){return Co(e,!1)}function Ll(e){return Co(e,!0)}function Co(e,t){return Re(e)?e:new Il(e,t)}class Il{constructor(t,n){this.dep=new ks,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Q(t),this._value=n?t:Se(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Ve(t)||Dt(t);t=r?t:Q(t),Lt(t,n)&&(this._rawValue=t,this._value=r?t:Se(t),this.dep.trigger())}}function T(e){return Re(e)?e.value:e}const Dl={get:(e,t,n)=>t==="__v_raw"?e:T(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Re(s)&&!Re(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function $o(e){return tn(e)?e:new Proxy(e,Dl)}class Pl{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ks(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Tn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&de!==this)return po(this,!0),!0}get value(){const t=this.dep.track();return go(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Bl(e,t,n=!1){let r,s;return G(e)?r=e:(r=e.get,s=e.set),new Pl(r,s,n)}const Un={},tr=new WeakMap;let Kt;function Nl(e,t=!1,n=Kt){if(n){let r=tr.get(n);r||tr.set(n,r=[]),r.push(e)}}function Ol(e,t,n=oe){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,c=L=>s?L:Ve(L)||s===!1||s===0?bt(L,1):bt(L);let u,f,b,v,h=!1,m=!1;if(Re(e)?(f=()=>e.value,h=Ve(e)):tn(e)?(f=()=>c(e),h=!0):j(e)?(m=!0,h=e.some(L=>tn(L)||Ve(L)),f=()=>e.map(L=>{if(Re(L))return L.value;if(tn(L))return c(L);if(G(L))return l?l(L,2):L()})):G(e)?t?f=l?()=>l(e,2):e:f=()=>{if(b){kt();try{b()}finally{xt()}}const L=Kt;Kt=u;try{return l?l(e,3,[v]):e(v)}finally{Kt=L}}:f=ut,t&&s){const L=f,z=s===!0?1/0:s;f=()=>bt(L(),z)}const y=dl(),x=()=>{u.stop(),y&&y.active&&gs(y.effects,u)};if(i&&t){const L=t;t=(...z)=>{L(...z),x()}}let N=m?new Array(e.length).fill(Un):Un;const P=L=>{if(!(!(u.flags&1)||!u.dirty&&!L))if(t){const z=u.run();if(s||h||(m?z.some((Y,se)=>Lt(Y,N[se])):Lt(z,N))){b&&b();const Y=Kt;Kt=u;try{const se=[z,N===Un?void 0:m&&N[0]===Un?[]:N,v];N=z,l?l(t,3,se):t(...se)}finally{Kt=Y}}}else u.run()};return a&&a(P),u=new co(f),u.scheduler=o?()=>o(P,!1):P,v=L=>Nl(L,!1,u),b=u.onStop=()=>{const L=tr.get(u);if(L){if(l)l(L,4);else for(const z of L)z();tr.delete(u)}},t?r?P(!0):N=u.run():o?o(P.bind(null,!0),!0):u.run(),x.pause=u.pause.bind(u),x.resume=u.resume.bind(u),x.stop=x,x}function bt(e,t=1/0,n){if(t<=0||!pe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Re(e))bt(e.value,t,n);else if(j(e))for(let r=0;r<e.length;r++)bt(e[r],t,n);else if(no(e)||en(e))e.forEach(r=>{bt(r,t,n)});else if(io(e)){for(const r in e)bt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&bt(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function On(e,t,n,r){try{return r?e(...r):e()}catch(s){wr(s,t,n)}}function Ze(e,t,n,r){if(G(e)){const s=On(e,t,n,r);return s&&ro(s)&&s.catch(i=>{wr(i,t,n)}),s}if(j(e)){const s=[];for(let i=0;i<e.length;i++)s.push(Ze(e[i],t,n,r));return s}}function wr(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||oe;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(i){kt(),On(i,null,10,[e,l,c]),xt();return}}Hl(e,n,s,r,o)}function Hl(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const Ie=[];let it=-1;const nn=[];let $t=null,Jt=0;const Mo=Promise.resolve();let nr=null;function zl(e){const t=nr||Mo;return e?t.then(this?e.bind(this):e):t}function Wl(e){let t=it+1,n=Ie.length;for(;t<n;){const r=t+n>>>1,s=Ie[r],i=$n(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Ts(e){if(!(e.flags&1)){const t=$n(e),n=Ie[Ie.length-1];!n||!(e.flags&2)&&t>=$n(n)?Ie.push(e):Ie.splice(Wl(t),0,e),e.flags|=1,Ao()}}function Ao(){nr||(nr=Mo.then(Ro))}function jl(e){j(e)?nn.push(...e):$t&&e.id===-1?$t.splice(Jt+1,0,e):e.flags&1||(nn.push(e),e.flags|=1),Ao()}function Zs(e,t,n=it+1){for(;n<Ie.length;n++){const r=Ie[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Ie.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Eo(e){if(nn.length){const t=[...new Set(nn)].sort((n,r)=>$n(n)-$n(r));if(nn.length=0,$t){$t.push(...t);return}for($t=t,Jt=0;Jt<$t.length;Jt++){const n=$t[Jt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}$t=null,Jt=0}}const $n=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ro(e){try{for(it=0;it<Ie.length;it++){const t=Ie[it];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),On(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;it<Ie.length;it++){const t=Ie[it];t&&(t.flags&=-2)}it=-1,Ie.length=0,Eo(),nr=null,(Ie.length||nn.length)&&Ro()}}let _e=null,Lo=null;function rr(e){const t=_e;return _e=e,Lo=e&&e.type.__scopeId||null,t}function St(e,t=_e,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&ai(-1);const i=rr(t);let o;try{o=e(...s)}finally{rr(i),r._d&&ai(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Et(e,t){if(_e===null)return e;const n=Tr(_e),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,l=oe]=t[s];i&&(G(i)&&(i={mounted:i,updated:i}),i.deep&&bt(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Ht(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(kt(),Ze(l,n,8,[e.el,a,e,t]),xt())}}const Kl=Symbol("_vte"),Io=e=>e.__isTeleport,Mt=Symbol("_leaveCb"),Vn=Symbol("_enterCb");function Gl(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xr(()=>{e.isMounted=!0}),Wo(()=>{e.isUnmounting=!0}),e}const Ge=[Function,Array],Do={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ge,onEnter:Ge,onAfterEnter:Ge,onEnterCancelled:Ge,onBeforeLeave:Ge,onLeave:Ge,onAfterLeave:Ge,onLeaveCancelled:Ge,onBeforeAppear:Ge,onAppear:Ge,onAfterAppear:Ge,onAppearCancelled:Ge},Po=e=>{const t=e.subTree;return t.component?Po(t.component):t},ql={name:"BaseTransition",props:Do,setup(e,{slots:t}){const n=la(),r=Gl();return()=>{const s=t.default&&Oo(t.default(),!0);if(!s||!s.length)return;const i=Bo(s),o=Q(e),{mode:a}=o;if(r.isLeaving)return Or(i);const l=Xs(i);if(!l)return Or(i);let c=Qr(l,o,r,n,f=>c=f);l.type!==$e&&Mn(l,c);let u=n.subTree&&Xs(n.subTree);if(u&&u.type!==$e&&!Gt(l,u)&&Po(n).type!==$e){let f=Qr(u,o,r,n);if(Mn(u,f),a==="out-in"&&l.type!==$e)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},Or(i);a==="in-out"&&l.type!==$e?f.delayLeave=(b,v,h)=>{const m=No(r,u);m[String(u.key)]=u,b[Mt]=()=>{v(),b[Mt]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{h(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function Bo(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==$e){t=n;break}}return t}const Ul=ql;function No(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Qr(e,t,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:b,onLeave:v,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:y,onAppear:x,onAfterAppear:N,onAppearCancelled:P}=t,L=String(e.key),z=No(n,e),Y=(V,ie)=>{V&&Ze(V,r,9,ie)},se=(V,ie)=>{const me=ie[1];Y(V,ie),j(V)?V.every(B=>B.length<=1)&&me():V.length<=1&&me()},Pe={mode:o,persisted:a,beforeEnter(V){let ie=l;if(!n.isMounted)if(i)ie=y||l;else return;V[Mt]&&V[Mt](!0);const me=z[L];me&&Gt(e,me)&&me.el[Mt]&&me.el[Mt](),Y(ie,[V])},enter(V){let ie=c,me=u,B=f;if(!n.isMounted)if(i)ie=x||c,me=N||u,B=P||f;else return;let he=!1;const Te=V[Vn]=dt=>{he||(he=!0,dt?Y(B,[V]):Y(me,[V]),Pe.delayedLeave&&Pe.delayedLeave(),V[Vn]=void 0)};ie?se(ie,[V,Te]):Te()},leave(V,ie){const me=String(e.key);if(V[Vn]&&V[Vn](!0),n.isUnmounting)return ie();Y(b,[V]);let B=!1;const he=V[Mt]=Te=>{B||(B=!0,ie(),Te?Y(m,[V]):Y(h,[V]),V[Mt]=void 0,z[me]===e&&delete z[me])};z[me]=e,v?se(v,[V,he]):he()},clone(V){const ie=Qr(V,t,n,r,s);return s&&s(ie),ie}};return Pe}function Or(e){if(vr(e))return e=Pt(e),e.children=null,e}function Xs(e){if(!vr(e))return Io(e.type)&&e.children?Bo(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&G(n.default))return n.default()}}function Mn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Mn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Oo(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===W?(o.patchFlag&128&&s++,r=r.concat(Oo(o.children,t,a))):(t||o.type!==$e)&&r.push(a!=null?Pt(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ze(e,t){return G(e)?xe({name:e.name},t,{setup:e}):e}function Ho(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Vl(e){const t=la(),n=Ll(null);if(t){const s=t.refs===oe?t.refs={}:t.refs;Object.defineProperty(s,e,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}function kn(e,t,n,r,s=!1){if(j(e)){e.forEach((h,m)=>kn(h,t&&(j(t)?t[m]:t),n,r,s));return}if(rn(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&kn(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Tr(r.component):r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===oe?a.refs={}:a.refs,f=a.setupState,b=Q(f),v=f===oe?()=>!1:h=>te(b,h);if(c!=null&&c!==l&&(we(c)?(u[c]=null,v(c)&&(f[c]=null)):Re(c)&&(c.value=null)),G(l))On(l,a,12,[o,u]);else{const h=we(l),m=Re(l);if(h||m){const y=()=>{if(e.f){const x=h?v(l)?f[l]:u[l]:l.value;s?j(x)&&gs(x,i):j(x)?x.includes(i)||x.push(i):h?(u[l]=[i],v(l)&&(f[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else h?(u[l]=o,v(l)&&(f[l]=o)):m&&(l.value=o,e.k&&(u[e.k]=o))};o?(y.id=-1,je(y,n)):y()}}}br().requestIdleCallback;br().cancelIdleCallback;const rn=e=>!!e.type.__asyncLoader,vr=e=>e.type.__isKeepAlive;function Fl(e,t){zo(e,"a",t)}function Yl(e,t){zo(e,"da",t)}function zo(e,t,n=Ae){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(kr(t,r,n),n){let s=n.parent;for(;s&&s.parent;)vr(s.parent.vnode)&&Jl(r,t,n,s),s=s.parent}}function Jl(e,t,n,r){const s=kr(t,e,r,!0);Hn(()=>{gs(r[t],s)},n)}function kr(e,t,n=Ae,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{kt();const a=zn(n),l=Ze(t,n,e,o);return a(),xt(),l});return r?s.unshift(i):s.push(i),i}}const Tt=e=>(t,n=Ae)=>{(!Rn||e==="sp")&&kr(e,(...r)=>t(...r),n)},Zl=Tt("bm"),xr=Tt("m"),Xl=Tt("bu"),Ql=Tt("u"),Wo=Tt("bum"),Hn=Tt("um"),eu=Tt("sp"),tu=Tt("rtg"),nu=Tt("rtc");function ru(e,t=Ae){kr("ec",e,t)}const su=Symbol.for("v-ndc");function Ue(e,t,n,r){let s;const i=n,o=j(e);if(o||we(e)){const a=o&&tn(e);let l=!1,c=!1;a&&(l=!Ve(e),c=Dt(e),e=yr(e)),s=new Array(e.length);for(let u=0,f=e.length;u<f;u++)s[u]=t(l?c?er(Se(e[u])):Se(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,i)}else if(pe(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=t(e[u],u,l,i)}}else s=[];return s}function iu(e,t,n={},r,s){if(_e.ce||_e.parent&&rn(_e.parent)&&_e.parent.ce)return S(),Me(W,null,[U("slot",n,r)],64);let i=e[t];i&&i._c&&(i._d=!1),S();const o=i&&jo(i(n)),a=n.key||o&&o.key,l=Me(W,{key:(a&&!_t(a)?a:`_${t}`)+""},o||[],o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function jo(e){return e.some(t=>En(t)?!(t.type===$e||t.type===W&&!jo(t.children)):!0)?e:null}const es=e=>e?ua(e)?Tr(e):es(e.parent):null,xn=xe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>es(e.parent),$root:e=>es(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Go(e),$forceUpdate:e=>e.f||(e.f=()=>{Ts(e.update)}),$nextTick:e=>e.n||(e.n=zl.bind(e.proxy)),$watch:e=>$u.bind(e)}),Hr=(e,t)=>e!==oe&&!e.__isScriptSetup&&te(e,t),ou={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const v=o[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Hr(r,t))return o[t]=1,r[t];if(s!==oe&&te(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&te(c,t))return o[t]=3,i[t];if(n!==oe&&te(n,t))return o[t]=4,n[t];ts&&(o[t]=0)}}const u=xn[t];let f,b;if(u)return t==="$attrs"&&Ce(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==oe&&te(n,t))return o[t]=4,n[t];if(b=l.config.globalProperties,te(b,t))return b[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Hr(s,t)?(s[t]=n,!0):r!==oe&&te(r,t)?(r[t]=n,!0):te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==oe&&te(e,o)||Hr(t,o)||(a=i[0])&&te(a,o)||te(r,o)||te(xn,o)||te(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:te(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Qs(e){return j(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ts=!0;function au(e){const t=Go(e),n=e.proxy,r=e.ctx;ts=!1,t.beforeCreate&&ei(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:b,beforeUpdate:v,updated:h,activated:m,deactivated:y,beforeDestroy:x,beforeUnmount:N,destroyed:P,unmounted:L,render:z,renderTracked:Y,renderTriggered:se,errorCaptured:Pe,serverPrefetch:V,expose:ie,inheritAttrs:me,components:B,directives:he,filters:Te}=t;if(c&&lu(c,r,null),o)for(const ge in o){const ue=o[ge];G(ue)&&(r[ge]=ue.bind(n))}if(s){const ge=s.call(n,n);pe(ge)&&(e.data=on(ge))}if(ts=!0,i)for(const ge in i){const ue=i[ge],Nt=G(ue)?ue.bind(n,n):G(ue.get)?ue.get.bind(n,n):ut,jn=!G(ue)&&G(ue.set)?ue.set.bind(n):ut,Ot=le({get:Nt,set:jn});Object.defineProperty(r,ge,{enumerable:!0,configurable:!0,get:()=>Ot.value,set:Xe=>Ot.value=Xe})}if(a)for(const ge in a)Ko(a[ge],r,n,ge);if(l){const ge=G(l)?l.call(n):l;Reflect.ownKeys(ge).forEach(ue=>{hu(ue,ge[ue])})}u&&ei(u,e,"c");function ve(ge,ue){j(ue)?ue.forEach(Nt=>ge(Nt.bind(n))):ue&&ge(ue.bind(n))}if(ve(Zl,f),ve(xr,b),ve(Xl,v),ve(Ql,h),ve(Fl,m),ve(Yl,y),ve(ru,Pe),ve(nu,Y),ve(tu,se),ve(Wo,N),ve(Hn,L),ve(eu,V),j(ie))if(ie.length){const ge=e.exposed||(e.exposed={});ie.forEach(ue=>{Object.defineProperty(ge,ue,{get:()=>n[ue],set:Nt=>n[ue]=Nt})})}else e.exposed||(e.exposed={});z&&e.render===ut&&(e.render=z),me!=null&&(e.inheritAttrs=me),B&&(e.components=B),he&&(e.directives=he),V&&Ho(e)}function lu(e,t,n=ut){j(e)&&(e=ns(e));for(const r in e){const s=e[r];let i;pe(s)?"default"in s?i=Yn(s.from||r,s.default,!0):i=Yn(s.from||r):i=Yn(s),Re(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function ei(e,t,n){Ze(j(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ko(e,t,n,r){let s=r.includes(".")?ra(n,r):()=>n[r];if(we(e)){const i=t[e];G(i)&&Ye(s,i)}else if(G(e))Ye(s,e.bind(n));else if(pe(e))if(j(e))e.forEach(i=>Ko(i,t,n,r));else{const i=G(e.handler)?e.handler.bind(n):t[e.handler];G(i)&&Ye(s,i,e)}}function Go(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>sr(l,c,o,!0)),sr(l,t,o)),pe(t)&&i.set(t,l),l}function sr(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&sr(e,i,n,!0),s&&s.forEach(o=>sr(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=uu[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const uu={data:ti,props:ni,emits:ni,methods:mn,computed:mn,beforeCreate:Le,created:Le,beforeMount:Le,mounted:Le,beforeUpdate:Le,updated:Le,beforeDestroy:Le,beforeUnmount:Le,destroyed:Le,unmounted:Le,activated:Le,deactivated:Le,errorCaptured:Le,serverPrefetch:Le,components:mn,directives:mn,watch:du,provide:ti,inject:cu};function ti(e,t){return t?e?function(){return xe(G(e)?e.call(this,this):e,G(t)?t.call(this,this):t)}:t:e}function cu(e,t){return mn(ns(e),ns(t))}function ns(e){if(j(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Le(e,t){return e?[...new Set([].concat(e,t))]:t}function mn(e,t){return e?xe(Object.create(null),e,t):t}function ni(e,t){return e?j(e)&&j(t)?[...new Set([...e,...t])]:xe(Object.create(null),Qs(e),Qs(t??{})):t}function du(e,t){if(!e)return t;if(!t)return e;const n=xe(Object.create(null),e);for(const r in t)n[r]=Le(e[r],t[r]);return n}function qo(){return{app:null,config:{isNativeTag:Za,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fu=0;function pu(e,t){return function(r,s=null){G(r)||(r=xe({},r)),s!=null&&!pe(s)&&(s=null);const i=qo(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:fu++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Fu,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&G(u.install)?(o.add(u),u.install(c,...f)):G(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,b){if(!l){const v=c._ceVNode||U(r,s);return v.appContext=i,b===!0?b="svg":b===!1&&(b=void 0),e(v,u,b),l=!0,c._container=u,u.__vue_app__=c,Tr(v.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Ze(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=sn;sn=c;try{return u()}finally{sn=f}}};return c}}let sn=null;function hu(e,t){if(Ae){let n=Ae.provides;const r=Ae.parent&&Ae.parent.provides;r===n&&(n=Ae.provides=Object.create(r)),n[e]=t}}function Yn(e,t,n=!1){const r=Ae||_e;if(r||sn){let s=sn?sn._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&G(t)?t.call(r&&r.proxy):t}}const Uo={},Vo=()=>Object.create(Uo),Fo=e=>Object.getPrototypeOf(e)===Uo;function mu(e,t,n,r=!1){const s={},i=Vo();e.propsDefaults=Object.create(null),Yo(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:El(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function gu(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=Q(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let b=u[f];if(Sr(e.emitsOptions,b))continue;const v=t[b];if(l)if(te(i,b))v!==i[b]&&(i[b]=v,c=!0);else{const h=It(b);s[h]=rs(l,a,h,v,e,!1)}else v!==i[b]&&(i[b]=v,c=!0)}}}else{Yo(e,t,s,i)&&(c=!0);let u;for(const f in a)(!t||!te(t,f)&&((u=Vt(f))===f||!te(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(s[f]=rs(l,a,f,void 0,e,!0)):delete s[f]);if(i!==a)for(const f in i)(!t||!te(t,f))&&(delete i[f],c=!0)}c&&gt(e.attrs,"set","")}function Yo(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(yn(l))continue;const c=t[l];let u;s&&te(s,u=It(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Sr(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=Q(n),c=a||oe;for(let u=0;u<i.length;u++){const f=i[u];n[f]=rs(s,l,f,c[f],e,!te(c,f))}}return o}function rs(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=te(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&G(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=zn(s);r=c[n]=l.call(null,t),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Vt(n))&&(r=!0))}return r}const bu=new WeakMap;function Jo(e,t,n=!1){const r=n?bu:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!G(e)){const u=f=>{l=!0;const[b,v]=Jo(f,t,!0);xe(o,b),v&&a.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return pe(e)&&r.set(e,Qt),Qt;if(j(i))for(let u=0;u<i.length;u++){const f=It(i[u]);ri(f)&&(o[f]=oe)}else if(i)for(const u in i){const f=It(u);if(ri(f)){const b=i[u],v=o[f]=j(b)||G(b)?{type:b}:xe({},b),h=v.type;let m=!1,y=!0;if(j(h))for(let x=0;x<h.length;++x){const N=h[x],P=G(N)&&N.name;if(P==="Boolean"){m=!0;break}else P==="String"&&(y=!1)}else m=G(h)&&h.name==="Boolean";v[0]=m,v[1]=y,(m||te(v,"default"))&&a.push(f)}}const c=[o,a];return pe(e)&&r.set(e,c),c}function ri(e){return e[0]!=="$"&&!yn(e)}const Cs=e=>e[0]==="_"||e==="$stable",$s=e=>j(e)?e.map(ot):[ot(e)],yu=(e,t,n)=>{if(t._n)return t;const r=St((...s)=>$s(t(...s)),n);return r._c=!1,r},Zo=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Cs(s))continue;const i=e[s];if(G(i))t[s]=yu(s,i,r);else if(i!=null){const o=$s(i);t[s]=()=>o}}},Xo=(e,t)=>{const n=$s(t);e.slots.default=()=>n},Qo=(e,t,n)=>{for(const r in t)(n||!Cs(r))&&(e[r]=t[r])},wu=(e,t,n)=>{const r=e.slots=Vo();if(e.vnode.shapeFlag&32){const s=t.__;s&&Fr(r,"__",s,!0);const i=t._;i?(Qo(r,t,n),n&&Fr(r,"_",i,!0)):Zo(t,r)}else t&&Xo(e,t)},vu=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=oe;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:Qo(s,t,n):(i=!t.$stable,Zo(t,s)),o=t}else t&&(Xo(e,t),o={default:1});if(i)for(const a in s)!Cs(a)&&o[a]==null&&delete s[a]},je=Du;function ku(e){return xu(e)}function xu(e,t){const n=br();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:b,setScopeId:v=ut,insertStaticContent:h}=e,m=(p,g,k,M=null,_=null,C=null,I=void 0,R=null,E=!!g.dynamicChildren)=>{if(p===g)return;p&&!Gt(p,g)&&(M=Kn(p),Xe(p,_,C,!0),p=null),g.patchFlag===-2&&(E=!1,g.dynamicChildren=null);const{type:A,ref:H,shapeFlag:D}=g;switch(A){case _r:y(p,g,k,M);break;case $e:x(p,g,k,M);break;case Jn:p==null&&N(g,k,M,I);break;case W:B(p,g,k,M,_,C,I,R,E);break;default:D&1?z(p,g,k,M,_,C,I,R,E):D&6?he(p,g,k,M,_,C,I,R,E):(D&64||D&128)&&A.process(p,g,k,M,_,C,I,R,E,ln)}H!=null&&_?kn(H,p&&p.ref,C,g||p,!g):H==null&&p&&p.ref!=null&&kn(p.ref,null,C,p,!0)},y=(p,g,k,M)=>{if(p==null)r(g.el=a(g.children),k,M);else{const _=g.el=p.el;g.children!==p.children&&c(_,g.children)}},x=(p,g,k,M)=>{p==null?r(g.el=l(g.children||""),k,M):g.el=p.el},N=(p,g,k,M)=>{[p.el,p.anchor]=h(p.children,g,k,M,p.el,p.anchor)},P=({el:p,anchor:g},k,M)=>{let _;for(;p&&p!==g;)_=b(p),r(p,k,M),p=_;r(g,k,M)},L=({el:p,anchor:g})=>{let k;for(;p&&p!==g;)k=b(p),s(p),p=k;s(g)},z=(p,g,k,M,_,C,I,R,E)=>{g.type==="svg"?I="svg":g.type==="math"&&(I="mathml"),p==null?Y(g,k,M,_,C,I,R,E):V(p,g,_,C,I,R,E)},Y=(p,g,k,M,_,C,I,R)=>{let E,A;const{props:H,shapeFlag:D,transition:O,dirs:K}=p;if(E=p.el=o(p.type,C,H&&H.is,H),D&8?u(E,p.children):D&16&&Pe(p.children,E,null,M,_,zr(p,C),I,R),K&&Ht(p,null,M,"created"),se(E,p,p.scopeId,I,M),H){for(const ce in H)ce!=="value"&&!yn(ce)&&i(E,ce,null,H[ce],C,M);"value"in H&&i(E,"value",null,H.value,C),(A=H.onVnodeBeforeMount)&&nt(A,M,p)}K&&Ht(p,null,M,"beforeMount");const Z=Su(_,O);Z&&O.beforeEnter(E),r(E,g,k),((A=H&&H.onVnodeMounted)||Z||K)&&je(()=>{A&&nt(A,M,p),Z&&O.enter(E),K&&Ht(p,null,M,"mounted")},_)},se=(p,g,k,M,_)=>{if(k&&v(p,k),M)for(let C=0;C<M.length;C++)v(p,M[C]);if(_){let C=_.subTree;if(g===C||ia(C.type)&&(C.ssContent===g||C.ssFallback===g)){const I=_.vnode;se(p,I,I.scopeId,I.slotScopeIds,_.parent)}}},Pe=(p,g,k,M,_,C,I,R,E=0)=>{for(let A=E;A<p.length;A++){const H=p[A]=R?At(p[A]):ot(p[A]);m(null,H,g,k,M,_,C,I,R)}},V=(p,g,k,M,_,C,I)=>{const R=g.el=p.el;let{patchFlag:E,dynamicChildren:A,dirs:H}=g;E|=p.patchFlag&16;const D=p.props||oe,O=g.props||oe;let K;if(k&&zt(k,!1),(K=O.onVnodeBeforeUpdate)&&nt(K,k,g,p),H&&Ht(g,p,k,"beforeUpdate"),k&&zt(k,!0),(D.innerHTML&&O.innerHTML==null||D.textContent&&O.textContent==null)&&u(R,""),A?ie(p.dynamicChildren,A,R,k,M,zr(g,_),C):I||ue(p,g,R,null,k,M,zr(g,_),C,!1),E>0){if(E&16)me(R,D,O,k,_);else if(E&2&&D.class!==O.class&&i(R,"class",null,O.class,_),E&4&&i(R,"style",D.style,O.style,_),E&8){const Z=g.dynamicProps;for(let ce=0;ce<Z.length;ce++){const re=Z[ce],Be=D[re],Ne=O[re];(Ne!==Be||re==="value")&&i(R,re,Be,Ne,_,k)}}E&1&&p.children!==g.children&&u(R,g.children)}else!I&&A==null&&me(R,D,O,k,_);((K=O.onVnodeUpdated)||H)&&je(()=>{K&&nt(K,k,g,p),H&&Ht(g,p,k,"updated")},M)},ie=(p,g,k,M,_,C,I)=>{for(let R=0;R<g.length;R++){const E=p[R],A=g[R],H=E.el&&(E.type===W||!Gt(E,A)||E.shapeFlag&198)?f(E.el):k;m(E,A,H,null,M,_,C,I,!0)}},me=(p,g,k,M,_)=>{if(g!==k){if(g!==oe)for(const C in g)!yn(C)&&!(C in k)&&i(p,C,g[C],null,_,M);for(const C in k){if(yn(C))continue;const I=k[C],R=g[C];I!==R&&C!=="value"&&i(p,C,R,I,_,M)}"value"in k&&i(p,"value",g.value,k.value,_)}},B=(p,g,k,M,_,C,I,R,E)=>{const A=g.el=p?p.el:a(""),H=g.anchor=p?p.anchor:a("");let{patchFlag:D,dynamicChildren:O,slotScopeIds:K}=g;K&&(R=R?R.concat(K):K),p==null?(r(A,k,M),r(H,k,M),Pe(g.children||[],k,H,_,C,I,R,E)):D>0&&D&64&&O&&p.dynamicChildren?(ie(p.dynamicChildren,O,k,_,C,I,R),(g.key!=null||_&&g===_.subTree)&&ea(p,g,!0)):ue(p,g,k,H,_,C,I,R,E)},he=(p,g,k,M,_,C,I,R,E)=>{g.slotScopeIds=R,p==null?g.shapeFlag&512?_.ctx.activate(g,k,M,I,E):Te(g,k,M,_,C,I,E):dt(p,g,E)},Te=(p,g,k,M,_,C,I)=>{const R=p.component=Wu(p,M,_);if(vr(p)&&(R.ctx.renderer=ln),ju(R,!1,I),R.asyncDep){if(_&&_.registerDep(R,ve,I),!p.el){const E=R.subTree=U($e);x(null,E,g,k)}}else ve(R,p,g,k,_,C,I)},dt=(p,g,k)=>{const M=g.component=p.component;if(Lu(p,g,k))if(M.asyncDep&&!M.asyncResolved){ge(M,g,k);return}else M.next=g,M.update();else g.el=p.el,M.vnode=g},ve=(p,g,k,M,_,C,I)=>{const R=()=>{if(p.isMounted){let{next:D,bu:O,u:K,parent:Z,vnode:ce}=p;{const et=ta(p);if(et){D&&(D.el=ce.el,ge(p,D,I)),et.asyncDep.then(()=>{p.isUnmounted||R()});return}}let re=D,Be;zt(p,!1),D?(D.el=ce.el,ge(p,D,I)):D=ce,O&&Ir(O),(Be=D.props&&D.props.onVnodeBeforeUpdate)&&nt(Be,Z,D,ce),zt(p,!0);const Ne=ii(p),Qe=p.subTree;p.subTree=Ne,m(Qe,Ne,f(Qe.el),Kn(Qe),p,_,C),D.el=Ne.el,re===null&&Iu(p,Ne.el),K&&je(K,_),(Be=D.props&&D.props.onVnodeUpdated)&&je(()=>nt(Be,Z,D,ce),_)}else{let D;const{el:O,props:K}=g,{bm:Z,m:ce,parent:re,root:Be,type:Ne}=p,Qe=rn(g);zt(p,!1),Z&&Ir(Z),!Qe&&(D=K&&K.onVnodeBeforeMount)&&nt(D,re,g),zt(p,!0);{Be.ce&&Be.ce._def.shadowRoot!==!1&&Be.ce._injectChildStyle(Ne);const et=p.subTree=ii(p);m(null,et,k,M,p,_,C),g.el=et.el}if(ce&&je(ce,_),!Qe&&(D=K&&K.onVnodeMounted)){const et=g;je(()=>nt(D,re,et),_)}(g.shapeFlag&256||re&&rn(re.vnode)&&re.vnode.shapeFlag&256)&&p.a&&je(p.a,_),p.isMounted=!0,g=k=M=null}};p.scope.on();const E=p.effect=new co(R);p.scope.off();const A=p.update=E.run.bind(E),H=p.job=E.runIfDirty.bind(E);H.i=p,H.id=p.uid,E.scheduler=()=>Ts(H),zt(p,!0),A()},ge=(p,g,k)=>{g.component=p;const M=p.vnode.props;p.vnode=g,p.next=null,gu(p,g.props,M,k),vu(p,g.children,k),kt(),Zs(p),xt()},ue=(p,g,k,M,_,C,I,R,E=!1)=>{const A=p&&p.children,H=p?p.shapeFlag:0,D=g.children,{patchFlag:O,shapeFlag:K}=g;if(O>0){if(O&128){jn(A,D,k,M,_,C,I,R,E);return}else if(O&256){Nt(A,D,k,M,_,C,I,R,E);return}}K&8?(H&16&&an(A,_,C),D!==A&&u(k,D)):H&16?K&16?jn(A,D,k,M,_,C,I,R,E):an(A,_,C,!0):(H&8&&u(k,""),K&16&&Pe(D,k,M,_,C,I,R,E))},Nt=(p,g,k,M,_,C,I,R,E)=>{p=p||Qt,g=g||Qt;const A=p.length,H=g.length,D=Math.min(A,H);let O;for(O=0;O<D;O++){const K=g[O]=E?At(g[O]):ot(g[O]);m(p[O],K,k,null,_,C,I,R,E)}A>H?an(p,_,C,!0,!1,D):Pe(g,k,M,_,C,I,R,E,D)},jn=(p,g,k,M,_,C,I,R,E)=>{let A=0;const H=g.length;let D=p.length-1,O=H-1;for(;A<=D&&A<=O;){const K=p[A],Z=g[A]=E?At(g[A]):ot(g[A]);if(Gt(K,Z))m(K,Z,k,null,_,C,I,R,E);else break;A++}for(;A<=D&&A<=O;){const K=p[D],Z=g[O]=E?At(g[O]):ot(g[O]);if(Gt(K,Z))m(K,Z,k,null,_,C,I,R,E);else break;D--,O--}if(A>D){if(A<=O){const K=O+1,Z=K<H?g[K].el:M;for(;A<=O;)m(null,g[A]=E?At(g[A]):ot(g[A]),k,Z,_,C,I,R,E),A++}}else if(A>O)for(;A<=D;)Xe(p[A],_,C,!0),A++;else{const K=A,Z=A,ce=new Map;for(A=Z;A<=O;A++){const We=g[A]=E?At(g[A]):ot(g[A]);We.key!=null&&ce.set(We.key,A)}let re,Be=0;const Ne=O-Z+1;let Qe=!1,et=0;const un=new Array(Ne);for(A=0;A<Ne;A++)un[A]=0;for(A=K;A<=D;A++){const We=p[A];if(Be>=Ne){Xe(We,_,C,!0);continue}let tt;if(We.key!=null)tt=ce.get(We.key);else for(re=Z;re<=O;re++)if(un[re-Z]===0&&Gt(We,g[re])){tt=re;break}tt===void 0?Xe(We,_,C,!0):(un[tt-Z]=A+1,tt>=et?et=tt:Qe=!0,m(We,g[tt],k,null,_,C,I,R,E),Be++)}const Us=Qe?_u(un):Qt;for(re=Us.length-1,A=Ne-1;A>=0;A--){const We=Z+A,tt=g[We],Vs=We+1<H?g[We+1].el:M;un[A]===0?m(null,tt,k,Vs,_,C,I,R,E):Qe&&(re<0||A!==Us[re]?Ot(tt,k,Vs,2):re--)}}},Ot=(p,g,k,M,_=null)=>{const{el:C,type:I,transition:R,children:E,shapeFlag:A}=p;if(A&6){Ot(p.component.subTree,g,k,M);return}if(A&128){p.suspense.move(g,k,M);return}if(A&64){I.move(p,g,k,ln);return}if(I===W){r(C,g,k);for(let D=0;D<E.length;D++)Ot(E[D],g,k,M);r(p.anchor,g,k);return}if(I===Jn){P(p,g,k);return}if(M!==2&&A&1&&R)if(M===0)R.beforeEnter(C),r(C,g,k),je(()=>R.enter(C),_);else{const{leave:D,delayLeave:O,afterLeave:K}=R,Z=()=>{p.ctx.isUnmounted?s(C):r(C,g,k)},ce=()=>{D(C,()=>{Z(),K&&K()})};O?O(C,Z,ce):ce()}else r(C,g,k)},Xe=(p,g,k,M=!1,_=!1)=>{const{type:C,props:I,ref:R,children:E,dynamicChildren:A,shapeFlag:H,patchFlag:D,dirs:O,cacheIndex:K}=p;if(D===-2&&(_=!1),R!=null&&(kt(),kn(R,null,k,p,!0),xt()),K!=null&&(g.renderCache[K]=void 0),H&256){g.ctx.deactivate(p);return}const Z=H&1&&O,ce=!rn(p);let re;if(ce&&(re=I&&I.onVnodeBeforeUnmount)&&nt(re,g,p),H&6)Ja(p.component,k,M);else{if(H&128){p.suspense.unmount(k,M);return}Z&&Ht(p,null,g,"beforeUnmount"),H&64?p.type.remove(p,g,k,ln,M):A&&!A.hasOnce&&(C!==W||D>0&&D&64)?an(A,g,k,!1,!0):(C===W&&D&384||!_&&H&16)&&an(E,g,k),M&&Gs(p)}(ce&&(re=I&&I.onVnodeUnmounted)||Z)&&je(()=>{re&&nt(re,g,p),Z&&Ht(p,null,g,"unmounted")},k)},Gs=p=>{const{type:g,el:k,anchor:M,transition:_}=p;if(g===W){Ya(k,M);return}if(g===Jn){L(p);return}const C=()=>{s(k),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(p.shapeFlag&1&&_&&!_.persisted){const{leave:I,delayLeave:R}=_,E=()=>I(k,C);R?R(p.el,C,E):E()}else C()},Ya=(p,g)=>{let k;for(;p!==g;)k=b(p),s(p),p=k;s(g)},Ja=(p,g,k)=>{const{bum:M,scope:_,job:C,subTree:I,um:R,m:E,a:A,parent:H,slots:{__:D}}=p;si(E),si(A),M&&Ir(M),H&&j(D)&&D.forEach(O=>{H.renderCache[O]=void 0}),_.stop(),C&&(C.flags|=8,Xe(I,p,g,k)),R&&je(R,g),je(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},an=(p,g,k,M=!1,_=!1,C=0)=>{for(let I=C;I<p.length;I++)Xe(p[I],g,k,M,_)},Kn=p=>{if(p.shapeFlag&6)return Kn(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=b(p.anchor||p.el),k=g&&g[Kl];return k?b(k):g};let Rr=!1;const qs=(p,g,k)=>{p==null?g._vnode&&Xe(g._vnode,null,null,!0):m(g._vnode||null,p,g,null,null,null,k),g._vnode=p,Rr||(Rr=!0,Zs(),Eo(),Rr=!1)},ln={p:m,um:Xe,m:Ot,r:Gs,mt:Te,mc:Pe,pc:ue,pbc:ie,n:Kn,o:e};return{render:qs,hydrate:void 0,createApp:pu(qs)}}function zr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function zt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Su(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ea(e,t,n=!1){const r=e.children,s=t.children;if(j(r)&&j(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=At(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&ea(o,a)),a.type===_r&&(a.el=o.el),a.type===$e&&!a.el&&(a.el=o.el)}}function _u(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function ta(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ta(t)}function si(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Tu=Symbol.for("v-scx"),Cu=()=>Yn(Tu);function Ye(e,t,n){return na(e,t,n)}function na(e,t,n=oe){const{immediate:r,deep:s,flush:i,once:o}=n,a=xe({},n),l=t&&r||!t&&i!=="post";let c;if(Rn){if(i==="sync"){const v=Cu();c=v.__watcherHandles||(v.__watcherHandles=[])}else if(!l){const v=()=>{};return v.stop=ut,v.resume=ut,v.pause=ut,v}}const u=Ae;a.call=(v,h,m)=>Ze(v,u,h,m);let f=!1;i==="post"?a.scheduler=v=>{je(v,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(v,h)=>{h?v():Ts(v)}),a.augmentJob=v=>{t&&(v.flags|=4),f&&(v.flags|=2,u&&(v.id=u.uid,v.i=u))};const b=Ol(e,t,a);return Rn&&(c?c.push(b):l&&b()),b}function $u(e,t,n){const r=this.proxy,s=we(e)?e.includes(".")?ra(r,e):()=>r[e]:e.bind(r,r);let i;G(t)?i=t:(i=t.handler,n=t);const o=zn(this),a=na(s,i.bind(r),n);return o(),a}function ra(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Mu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${It(t)}Modifiers`]||e[`${Vt(t)}Modifiers`];function Au(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||oe;let s=n;const i=t.startsWith("update:"),o=i&&Mu(r,t.slice(7));o&&(o.trim&&(s=n.map(u=>we(u)?u.trim():u)),o.number&&(s=n.map(nl)));let a,l=r[a=Lr(t)]||r[a=Lr(It(t))];!l&&i&&(l=r[a=Lr(Vt(t))]),l&&Ze(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ze(c,e,6,s)}}function sa(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!G(e)){const l=c=>{const u=sa(c,t,!0);u&&(a=!0,xe(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(pe(e)&&r.set(e,null),null):(j(i)?i.forEach(l=>o[l]=null):xe(o,i),pe(e)&&r.set(e,o),o)}function Sr(e,t){return!e||!hr(t)?!1:(t=t.slice(2).replace(/Once$/,""),te(e,t[0].toLowerCase()+t.slice(1))||te(e,Vt(t))||te(e,t))}function ii(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:b,setupState:v,ctx:h,inheritAttrs:m}=e,y=rr(e);let x,N;try{if(n.shapeFlag&4){const L=s||r,z=L;x=ot(c.call(z,L,u,f,v,b,h)),N=a}else{const L=t;x=ot(L.length>1?L(f,{attrs:a,slots:o,emit:l}):L(f,null)),N=t.props?a:Eu(a)}}catch(L){Sn.length=0,wr(L,e,1),x=U($e)}let P=x;if(N&&m!==!1){const L=Object.keys(N),{shapeFlag:z}=P;L.length&&z&7&&(i&&L.some(ms)&&(N=Ru(N,i)),P=Pt(P,N,!1,!0))}return n.dirs&&(P=Pt(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&Mn(P,n.transition),x=P,rr(y),x}const Eu=e=>{let t;for(const n in e)(n==="class"||n==="style"||hr(n))&&((t||(t={}))[n]=e[n]);return t},Ru=(e,t)=>{const n={};for(const r in e)(!ms(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Lu(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?oi(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const b=u[f];if(o[b]!==r[b]&&!Sr(c,b))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?oi(r,o,c):!0:!!o;return!1}function oi(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Sr(n,i))return!0}return!1}function Iu({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const ia=e=>e.__isSuspense;function Du(e,t){t&&t.pendingBranch?j(e)?t.effects.push(...e):t.effects.push(e):jl(e)}const W=Symbol.for("v-fgt"),_r=Symbol.for("v-txt"),$e=Symbol.for("v-cmt"),Jn=Symbol.for("v-stc"),Sn=[];let Ke=null;function S(e=!1){Sn.push(Ke=e?null:[])}function Pu(){Sn.pop(),Ke=Sn[Sn.length-1]||null}let An=1;function ai(e,t=!1){An+=e,e<0&&Ke&&t&&(Ke.hasOnce=!0)}function oa(e){return e.dynamicChildren=An>0?Ke||Qt:null,Pu(),An>0&&Ke&&Ke.push(e),e}function $(e,t,n,r,s,i){return oa(w(e,t,n,r,s,i,!0))}function Me(e,t,n,r,s){return oa(U(e,t,n,r,s,!0))}function En(e){return e?e.__v_isVNode===!0:!1}function Gt(e,t){return e.type===t.type&&e.key===t.key}const aa=({key:e})=>e??null,Zn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?we(e)||Re(e)||G(e)?{i:_e,r:e,k:t,f:!!n}:e:null);function w(e,t=null,n=null,r=0,s=null,i=e===W?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&aa(t),ref:t&&Zn(t),scopeId:Lo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:_e};return a?(Ms(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=we(n)?8:16),An>0&&!o&&Ke&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ke.push(l),l}const U=Bu;function Bu(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===su)&&(e=$e),En(e)){const a=Pt(e,t,!0);return n&&Ms(a,n),An>0&&!i&&Ke&&(a.shapeFlag&6?Ke[Ke.indexOf(e)]=a:Ke.push(a)),a.patchFlag=-2,a}if(Uu(e)&&(e=e.__vccOpts),t){t=Nu(t);let{class:a,style:l}=t;a&&!we(a)&&(t.class=fe(a)),pe(l)&&(_s(l)&&!j(l)&&(l=xe({},l)),t.style=ct(l))}const o=we(e)?1:ia(e)?128:Io(e)?64:pe(e)?4:G(e)?2:0;return w(e,t,n,r,s,o,i,!0)}function Nu(e){return e?_s(e)||Fo(e)?xe({},e):e:null}function Pt(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?ss(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&aa(c),ref:t&&t.ref?n&&i?j(i)?i.concat(Zn(t)):[i,Zn(t)]:Zn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==W?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pt(e.ssContent),ssFallback:e.ssFallback&&Pt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Mn(u,l.clone(u)),u}function F(e=" ",t=0){return U(_r,null,e,t)}function Ou(e,t){const n=U(Jn,null,e);return n.staticCount=t,n}function q(e="",t=!1){return t?(S(),Me($e,null,e)):U($e,null,e)}function ot(e){return e==null||typeof e=="boolean"?U($e):j(e)?U(W,null,e.slice()):En(e)?At(e):U(_r,null,String(e))}function At(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Pt(e)}function Ms(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(j(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Ms(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Fo(t)?t._ctx=_e:s===3&&_e&&(_e.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else G(t)?(t={default:t,_ctx:_e},n=32):(t=String(t),r&64?(n=16,t=[F(t)]):n=8);e.children=t,e.shapeFlag|=n}function ss(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=fe([t.class,r.class]));else if(s==="style")t.style=ct([t.style,r.style]);else if(hr(s)){const i=t[s],o=r[s];o&&i!==o&&!(j(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function nt(e,t,n,r=null){Ze(e,t,7,[n,r])}const Hu=qo();let zu=0;function Wu(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Hu,i={uid:zu++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new cl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jo(r,s),emitsOptions:sa(r,s),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:r.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Au.bind(null,i),e.ce&&e.ce(i),i}let Ae=null;const la=()=>Ae||_e;let ir,is;{const e=br(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};ir=t("__VUE_INSTANCE_SETTERS__",n=>Ae=n),is=t("__VUE_SSR_SETTERS__",n=>Rn=n)}const zn=e=>{const t=Ae;return ir(e),e.scope.on(),()=>{e.scope.off(),ir(t)}},li=()=>{Ae&&Ae.scope.off(),ir(null)};function ua(e){return e.vnode.shapeFlag&4}let Rn=!1;function ju(e,t=!1,n=!1){t&&is(t);const{props:r,children:s}=e.vnode,i=ua(e);mu(e,r,i,t),wu(e,s,n||t);const o=i?Ku(e,t):void 0;return t&&is(!1),o}function Ku(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ou);const{setup:r}=n;if(r){kt();const s=e.setupContext=r.length>1?qu(e):null,i=zn(e),o=On(r,e,0,[e.props,s]),a=ro(o);if(xt(),i(),(a||e.sp)&&!rn(e)&&Ho(e),a){if(o.then(li,li),t)return o.then(l=>{ui(e,l)}).catch(l=>{wr(l,e,0)});e.asyncDep=o}else ui(e,o)}else ca(e)}function ui(e,t,n){G(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pe(t)&&(e.setupState=$o(t)),ca(e)}function ca(e,t,n){const r=e.type;e.render||(e.render=r.render||ut);{const s=zn(e);kt();try{au(e)}finally{xt(),s()}}}const Gu={get(e,t){return Ce(e,"get",""),e[t]}};function qu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Gu),slots:e.slots,emit:e.emit,expose:t}}function Tr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy($o(Rl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in xn)return xn[n](e)},has(t,n){return n in t||n in xn}})):e.proxy}function Uu(e){return G(e)&&"__vccOpts"in e}const le=(e,t)=>Bl(e,t,Rn);function Vu(e,t,n){const r=arguments.length;return r===2?pe(t)&&!j(t)?En(t)?U(e,null,[t]):U(e,t):U(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&En(n)&&(n=[n]),U(e,t,n))}const Fu="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let os;const ci=typeof window<"u"&&window.trustedTypes;if(ci)try{os=ci.createPolicy("vue",{createHTML:e=>e})}catch{}const da=os?e=>os.createHTML(e):e=>e,Yu="http://www.w3.org/2000/svg",Ju="http://www.w3.org/1998/Math/MathML",ht=typeof document<"u"?document:null,di=ht&&ht.createElement("template"),Zu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?ht.createElementNS(Yu,e):t==="mathml"?ht.createElementNS(Ju,e):n?ht.createElement(e,{is:n}):ht.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>ht.createTextNode(e),createComment:e=>ht.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ht.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{di.innerHTML=da(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=di.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ct="transition",dn="animation",Ln=Symbol("_vtc"),fa={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Xu=xe({},Do,fa),Qu=e=>(e.displayName="Transition",e.props=Xu,e),as=Qu((e,{slots:t})=>Vu(Ul,ec(e),t)),Wt=(e,t=[])=>{j(e)?e.forEach(n=>n(...t)):e&&e(...t)},fi=e=>e?j(e)?e.some(t=>t.length>1):e.length>1:!1;function ec(e){const t={};for(const B in e)B in fa||(t[B]=e[B]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:b=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,h=tc(s),m=h&&h[0],y=h&&h[1],{onBeforeEnter:x,onEnter:N,onEnterCancelled:P,onLeave:L,onLeaveCancelled:z,onBeforeAppear:Y=x,onAppear:se=N,onAppearCancelled:Pe=P}=t,V=(B,he,Te,dt)=>{B._enterCancelled=dt,jt(B,he?u:a),jt(B,he?c:o),Te&&Te()},ie=(B,he)=>{B._isLeaving=!1,jt(B,f),jt(B,v),jt(B,b),he&&he()},me=B=>(he,Te)=>{const dt=B?se:N,ve=()=>V(he,B,Te);Wt(dt,[he,ve]),pi(()=>{jt(he,B?l:i),pt(he,B?u:a),fi(dt)||hi(he,r,m,ve)})};return xe(t,{onBeforeEnter(B){Wt(x,[B]),pt(B,i),pt(B,o)},onBeforeAppear(B){Wt(Y,[B]),pt(B,l),pt(B,c)},onEnter:me(!1),onAppear:me(!0),onLeave(B,he){B._isLeaving=!0;const Te=()=>ie(B,he);pt(B,f),B._enterCancelled?(pt(B,b),bi()):(bi(),pt(B,b)),pi(()=>{B._isLeaving&&(jt(B,f),pt(B,v),fi(L)||hi(B,r,y,Te))}),Wt(L,[B,Te])},onEnterCancelled(B){V(B,!1,void 0,!0),Wt(P,[B])},onAppearCancelled(B){V(B,!0,void 0,!0),Wt(Pe,[B])},onLeaveCancelled(B){ie(B),Wt(z,[B])}})}function tc(e){if(e==null)return null;if(pe(e))return[Wr(e.enter),Wr(e.leave)];{const t=Wr(e);return[t,t]}}function Wr(e){return rl(e)}function pt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ln]||(e[Ln]=new Set)).add(t)}function jt(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Ln];n&&(n.delete(t),n.size||(e[Ln]=void 0))}function pi(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let nc=0;function hi(e,t,n,r){const s=e._endId=++nc,i=()=>{s===e._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=rc(e,t);if(!o)return r();const c=o+"end";let u=0;const f=()=>{e.removeEventListener(c,b),i()},b=v=>{v.target===e&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),e.addEventListener(c,b)}function rc(e,t){const n=window.getComputedStyle(e),r=h=>(n[h]||"").split(", "),s=r(`${Ct}Delay`),i=r(`${Ct}Duration`),o=mi(s,i),a=r(`${dn}Delay`),l=r(`${dn}Duration`),c=mi(a,l);let u=null,f=0,b=0;t===Ct?o>0&&(u=Ct,f=o,b=i.length):t===dn?c>0&&(u=dn,f=c,b=l.length):(f=Math.max(o,c),u=f>0?o>c?Ct:dn:null,b=u?u===Ct?i.length:l.length:0);const v=u===Ct&&/\b(transform|all)(,|$)/.test(r(`${Ct}Property`).toString());return{type:u,timeout:f,propCount:b,hasTransform:v}}function mi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>gi(n)+gi(e[r])))}function gi(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function bi(){return document.body.offsetHeight}function sc(e,t,n){const r=e[Ln];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const or=Symbol("_vod"),pa=Symbol("_vsh"),Rt={beforeMount(e,{value:t},{transition:n}){e[or]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):fn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),fn(e,!0),r.enter(e)):r.leave(e,()=>{fn(e,!1)}):fn(e,t))},beforeUnmount(e,{value:t}){fn(e,t)}};function fn(e,t){e.style.display=t?e[or]:"none",e[pa]=!t}const ic=Symbol(""),oc=/(^|;)\s*display\s*:/;function ac(e,t,n){const r=e.style,s=we(n);let i=!1;if(n&&!s){if(t)if(we(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Xn(r,a,"")}else for(const o in t)n[o]==null&&Xn(r,o,"");for(const o in n)o==="display"&&(i=!0),Xn(r,o,n[o])}else if(s){if(t!==n){const o=r[ic];o&&(n+=";"+o),r.cssText=n,i=oc.test(n)}}else t&&e.removeAttribute("style");or in e&&(e[or]=i?r.display:"",e[pa]&&(r.display="none"))}const yi=/\s*!important$/;function Xn(e,t,n){if(j(n))n.forEach(r=>Xn(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=lc(e,t);yi.test(n)?e.setProperty(Vt(r),n.replace(yi,""),"important"):e[r]=n}}const wi=["Webkit","Moz","ms"],jr={};function lc(e,t){const n=jr[t];if(n)return n;let r=It(t);if(r!=="filter"&&r in e)return jr[t]=r;r=oo(r);for(let s=0;s<wi.length;s++){const i=wi[s]+r;if(i in e)return jr[t]=i}return t}const vi="http://www.w3.org/1999/xlink";function ki(e,t,n,r,s,i=ul(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(vi,t.slice(6,t.length)):e.setAttributeNS(vi,t,n):n==null||i&&!ao(n)?e.removeAttribute(t):e.setAttribute(t,i?"":_t(n)?String(n):n)}function xi(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?da(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=ao(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function uc(e,t,n,r){e.addEventListener(t,n,r)}function cc(e,t,n,r){e.removeEventListener(t,n,r)}const Si=Symbol("_vei");function dc(e,t,n,r,s=null){const i=e[Si]||(e[Si]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=fc(t);if(r){const c=i[t]=mc(r,s);uc(e,a,c,l)}else o&&(cc(e,a,o,l),i[t]=void 0)}}const _i=/(?:Once|Passive|Capture)$/;function fc(e){let t;if(_i.test(e)){t={};let r;for(;r=e.match(_i);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Vt(e.slice(2)),t]}let Kr=0;const pc=Promise.resolve(),hc=()=>Kr||(pc.then(()=>Kr=0),Kr=Date.now());function mc(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ze(gc(r,n.value),t,5,[r])};return n.value=e,n.attached=hc(),n}function gc(e,t){if(j(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Ti=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,bc=(e,t,n,r,s,i)=>{const o=s==="svg";t==="class"?sc(e,r,o):t==="style"?ac(e,n,r):hr(t)?ms(t)||dc(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yc(e,t,r,o))?(xi(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ki(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!we(r))?xi(e,It(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),ki(e,t,r,o))};function yc(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ti(t)&&G(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ti(t)&&we(n)?!1:t in e}const wc=xe({patchProp:bc},Zu);let Ci;function vc(){return Ci||(Ci=ku(wc))}const kc=(...e)=>{const t=vc().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Sc(r);if(!s)return;const i=t._component;!G(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,xc(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function xc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Sc(e){return we(e)?document.querySelector(e):e}const ha=""+new URL("../images/generated/gold.webp",import.meta.url).href,ma=""+new URL("../images/generated/sapling.webp",import.meta.url).href,$i=""+new URL("../images/generated/logo.webp",import.meta.url).href,ga=""+new URL("../images/generated/fruit.webp",import.meta.url).href,In=""+new URL("../images/generated/pack.webp",import.meta.url).href,ba=""+new URL("../images/generated/rescue-locked.webp",import.meta.url).href,_c=""+new URL("../images/generated/camp.webp",import.meta.url).href,Tc=""+new URL("../images/generated/Retreat.webp",import.meta.url).href,ke=[{x:407,y:527,type:"none",next:{"Enter the Dungeon":{label:"enter",description:"Treasures and adventure await inside."}}},{x:407,y:484,type:"combat",name:"Wild Slime",label:"enter"},{x:407,y:419,type:"rescue",name:"Lamplighter",next:{"Turn left":{label:"left1",description:"You see a door to the left. It hangs ajar, and you can hear the sound of movement from beyond it."},"Go straight":{label:"straight1",description:"A heavy door stands in front of you. It is barred from this side. You can open it if you dare."},"Turn right":{label:"right1",description:"A quiet corridor leads into an ill-maintained part of the dungeon."}}},{x:455,y:419,type:"combat",name:"Poison Crow",label:"right1"},{x:501,y:419,type:"combat",name:"Animated Skeleton"},{x:501,y:477,type:"combat",name:"Thick Door"},{x:454,y:477,type:"rescue",name:"Friend of Metal",end:!0},{x:345,y:419,type:"combat",name:"Bandlings",label:"left1"},{x:304,y:419,type:"none"},{x:304,y:493,type:"none"},{x:350,y:493,type:"none"},{x:350,y:461,type:"rescue",name:"The Silent Song",end:!0},{x:407,y:359,type:"boss",label:"straight1",name:"Dead Gladiator",next:{"Turn left":{label:"main-left",description:"Exit the arena to the left. Wails of prisoners echo from the corridor."},"Turn right":{label:"main-right",description:"Exit the arena to the right. The air from the corridor carries the aroma of growth and decay."}}},{x:342,y:359,type:"rescue",name:"Dark Chef",label:"main-left"},{x:288,y:359,type:"none"},{x:288,y:343,type:"combat",name:"Lobster Daddy"},{x:288,y:293,type:"rescue",name:"Royal Fruitbearer"},{x:288,y:236,type:"combat",name:"Will-o-Wasp",next:{"Turn left":{label:"left2",description:"Leave this twisting corridor through the alcove to the left."},"Turn right":{label:"right2",description:"Continue down the corridor."}}},{x:288,y:219,type:"none",label:"right2"},{x:351,y:219,type:"combat",name:"The Shroud"},{x:351,y:244,type:"none"},{x:332,y:244,type:"none"},{x:332,y:279,type:"combat",name:"Dark Lord"},{x:332,y:318,type:"rescue",name:"Lord of Gears"},{x:358,y:318,type:"none"},{x:358,y:289,type:"none"},{x:407,y:289,type:"boss",name:"Clockomancer",end:!0},{x:288,y:243,type:"none",label:"left2"},{x:248,y:243,type:"combat",name:"Glass Dragon"},{x:243,y:243,type:"none"},{x:243,y:341,type:"combat",name:"Xaranthian Construct"},{x:243,y:379,type:"none"},{x:277,y:379,type:"none"},{x:277,y:413,type:"none",next:{"Open door":{label:"door3",description:"A heavy door to the west. You smell damp earth."},"Go straight":{label:"straight3",description:"Continue down the corridor."}}},{x:243,y:413,type:"combat",name:"Potato Golem",label:"door3",end:!0},{x:277,y:459,type:"none",label:"straight3",next:{"Open door":{label:"door4",description:"A heavy door to the west. You smell iron."},"Go straight":{label:"straight4",description:"Continue down the corridor."}}},{x:243,y:459,type:"rescue",name:"Pecquer",label:"door4",end:!0},{x:277,y:498,type:"none",label:"straight4"},{x:196,y:498,type:"none",next:{"Open door":{label:"door5",description:"A heavy door to the north. You listen and sniff the air, but hear and smell nothing other than the door itself."},"Go straight":{label:"straight5",description:"Continue down the corridor."}}},{x:196,y:460,type:"combat",name:"Fortified Door",label:"door5"},{x:196,y:410,type:"rescue",name:"Knight of Claws"},{x:196,y:350,type:"combat",name:"Master of Doors"},{x:196,y:300,type:"rescue",name:"Kit Flash",end:!0},{x:126,y:498,type:"none",label:"straight5",next:{"Open door":{label:"door6",description:"A heavy door to the north. You hear nothing from the other side."},"Go straight":{label:"straight6",description:"Continue down the corridor."}}},{x:126,y:466,type:"combat",name:"Corrupted Bounty Hunter",label:"door6"},{x:126,y:390,type:"rescue",name:"Mongreler",end:!0},{x:68,y:498,type:"none",label:"straight6"},{x:68,y:323,type:"none"},{x:124,y:323,type:"boss",name:"Lior the Weaver"},{x:124,y:264,type:"rescue",name:"Azrekta"},{x:124,y:206,type:"combat",name:"Skeletron"},{x:124,y:160,type:"none",next:{"Turn left":{label:"left7",description:"Turn left into an opulent corridor."},"Turn right":{label:"right7",description:"Turn right into a loathsome corridor."}}},{x:84,y:160,type:"none",label:"left7"},{x:84,y:193,type:"none"},{x:69,y:193,type:"combat",name:"Chago's Chamber"},{x:59,y:193,type:"none"},{x:59,y:240,type:"none"},{x:69,y:240,type:"combat",name:"Chago"},{x:84,y:240,type:"none"},{x:84,y:288,type:"none"},{x:69,y:288,type:"rescue",name:"Kevin",end:!0},{x:173,y:160,type:"none",label:"right7"},{x:173,y:252,type:"none"},{x:219,y:252,type:"none"},{x:219,y:219,type:"none"},{x:254,y:219,type:"none"},{x:254,y:205,type:"none"},{x:278,y:205,type:"none"},{x:278,y:185,type:"none"},{x:291,y:185,type:"combat",name:"Door of Loathing"},{x:291,y:175,type:"none"},{x:232,y:175,type:"none"},{x:232,y:193,type:"none"},{x:198,y:193,type:"none"},{x:198,y:122,type:"none"},{x:210,y:122,type:"combat",name:"Zakatrixos"},{x:246,y:122,type:"combat",name:"Wands from the Depths",next:{"Turn left":{label:"left8",description:"You found a small opening leading north."},"Go straight":{label:"straight8",description:"Continue down the series of rooms."}}},{x:282,y:122,type:"combat",name:"Crystal Man",label:"straight8"},{x:318,y:122,type:"combat",name:"Power Crystal"},{x:325,y:122,type:"none"},{x:325,y:185,type:"none"},{x:330,y:185,type:"rescue",name:"Pur Lion",end:!0},{x:246,y:79,type:"combat",name:"Skyrmions",label:"left8",next:{"Turn left":{label:"left9",description:"The haunted tunnel forks here. Continue left."},"Turn right":{label:"right9",description:"The haunted tunnel forks here. Continue right."}}},{x:162,y:79,type:"combat",name:"Tenebra",label:"left9"},{x:162,y:123,type:"combat",name:"Landas Wizard"},{x:95,y:123,type:"none"},{x:95,y:98,type:"rescue",name:"Eighth Swimmer",end:!0},{x:246,y:70,type:"none",label:"right9"},{x:282,y:70,type:"combat",name:"Defensive Installation"},{x:314,y:70,type:"rescue",name:"Xaranthian Constructor",end:!0},{x:474,y:359,type:"combat",name:"Frozen Centurion",label:"main-right"},{x:501,y:359,type:"none"},{x:501,y:322,type:"rescue",name:"Anvilomancer",next:{"Turn left":{label:"left10",description:"Continue left, where the air is cooler."},"Turn right":{label:"right10",description:"Continue right, where the air is warmer."}}},{x:459,y:322,type:"combat",name:"Trollish Maiden",label:"left10"},{x:459,y:277,type:"combat",name:"Dryfin Carp"},{x:501,y:277,type:"rescue",name:"Kin of Pump"},{x:501,y:230,type:"combat",name:"Scaffold Sorcery"},{x:459,y:230,type:"combat",name:"Lost Swimmer"},{x:407,y:230,type:"rescue",name:"Coldblade",end:!0},{x:547,y:322,type:"combat",name:"Geckalog",label:"right10"},{x:547,y:277,type:"combat",name:"Jaw Maw Maw"},{x:547,y:230,type:"combat",name:"Gnollish Ambassador"},{x:601,y:230,type:"rescue",name:"Wayfinder"},{x:601,y:245,type:"none"},{x:584,y:245,type:"none"},{x:584,y:274,type:"none"},{x:614,y:274,type:"none"},{x:614,y:299,type:"none"},{x:584,y:299,type:"none"},{x:584,y:323,type:"none"},{x:601,y:323,type:"none"},{x:601,y:339,type:"combat",name:"Striped Horror"},{x:601,y:356,type:"none"},{x:547,y:356,type:"none"},{x:547,y:367,type:"rescue",name:"Desert Rabbit"},{x:547,y:378,type:"none"},{x:617,y:378,type:"none"},{x:617,y:420,type:"boss",name:"Dragonfly Agaric"},{x:554,y:420,type:"rescue",name:"Bayla"},{x:554,y:477,type:"combat",name:"Artifact Seeker"},{x:642,y:477,type:"combat",name:"Golden Chest"},{x:697,y:477,type:"combat",name:"King of Tadpoles"},{x:721,y:477,type:"none"},{x:721,y:426,type:"combat",name:"Hopanoids"},{x:676,y:426,type:"combat",name:"Tosyl Rose"},{x:676,y:380,type:"combat",name:"Sullen Bearer"},{x:721,y:380,type:"combat",name:"Unwelcoming Glade"},{x:721,y:343,type:"none"},{x:666,y:343,type:"none"},{x:666,y:309,type:"combat",name:"Food Mimic"},{x:666,y:252,type:"combat",name:"Frog Assassin"},{x:698,y:252,type:"combat",name:"Enantiomers"},{x:698,y:309,type:"none"},{x:733,y:309,type:"rescue",name:"Smiling Pilot"},{x:733,y:252,type:"combat",name:"Decay Manifest"},{x:733,y:205,type:"none"},{x:687,y:205,type:"rescue",name:"Hedge Lost"},{x:697,y:205,type:"none"},{x:697,y:149,type:"none"},{x:709,y:149,type:"combat",name:"Web of Power"},{x:709,y:137,type:"none"},{x:744,y:137,type:"none"},{x:744,y:76,type:"none"},{x:733,y:76,type:"combat",name:"Tombstone of the Forgotten"},{x:733,y:65,type:"none"},{x:607,y:65,type:"none"},{x:607,y:76,type:"combat",name:"Hippogryph"},{x:607,y:112,type:"none"},{x:628,y:112,type:"none"},{x:628,y:121,type:"combat",name:"The King's Armor"},{x:639,y:121,type:"none"},{x:639,y:167,type:"none"},{x:628,y:167,type:"combat",name:"Corridor of Illusions"},{x:628,y:177,type:"none"},{x:526,y:177,type:"rescue",name:"Zaktar Kadoque"},{x:526,y:142,type:"none"},{x:540,y:142,type:"combat",name:"Hiber Conduit"},{x:540,y:69,type:"combat",name:"Core Diver"},{x:503,y:69,type:"combat",name:"Smother Mother"},{x:503,y:127,type:"combat",name:"The Final Warden"},{x:407,y:127,type:"finalboss",name:"Skelemasterion",end:!0}];function Dn(e,t){const n=[],r=[...t],s=[];let i;for(const o of ke)if(i&&o.label===i&&(i=void 0),!i){if(n.push(o),o.end||n.length===e+1)return{path:n,turns:s};if(o.next){const a=r.shift()??"";s.push(a);const l=o.next[a];l||console.error(`"${a}" not  a valid step: ${JSON.stringify(o.next)}`),i=l?.label}}return{path:n,turns:s}}function Je(e){return e.name??e.label??`${e.x},${e.y}`}function ya(e){const t=[];let n=ke.findIndex(r=>Je(r)===e);for(;n>0;){t.unshift(ke[n]);const r=ke[n].label;if(r)for(;;){n-=1;const s=ke[n].next;if(s&&Object.values(s).some(i=>i.label===r))break}else n-=1}return t.unshift(ke[0]),t}const wa={},va={};for(let e=0;e<ke.length;e++){const t=ke[e],n=Je(t);va[n]=t,t.label&&(wa[t.label]=e)}const ar={};for(let e=0;e<ke.length-1;e++){const t=ke[e];if(t.next)for(const n of Object.keys(t.next)){const r=t.next[n];if(!r.label)continue;const s=wa[r.label];s!==void 0&&(ar[s]={room:e,turn:n})}else ke[e+1].label||(ar[e+1]={room:e})}for(let e=0;e<ke.length-1;e++){const t=ke[e];if(t.type==="none"||t.type==="rescue")continue;const n=Je(t);for(let r=ar[e];r!==void 0&&r.room>0;r=ar[r.room]){const s=ke[r.room];if(r.turn&&s.next){const i=s.next[r.turn];i.leadsTo=i.leadsTo?"multiple":n}else s.leadsTo=s.leadsTo?"multiple":n;if(s.type!=="none"&&s.type!=="rescue")break}}const ka=[{name:"Wild Slime",health:10,rewards:{gold:1,fruit:1},weaknesses:["fire","ice","left","right"]},{name:"Poison Crow",health:20,rewards:{gold:2,fruit:1},weaknesses:["fire","ice","left"]},{name:"Animated Skeleton",health:50,rewards:{gold:5,fruit:3},weaknesses:["front","blunt"]},{name:"Thick Door",health:10,rewards:{gold:0,fruit:0},armor:3,weaknesses:["fire","blunt","back"]},{name:"Bandlings",health:5,rewards:{gold:5,fruit:2},count:5},{name:"Dead Gladiator",health:100,armor:10,rewards:{gold:5,fruit:10}},{name:"Lobster Daddy",health:100,armor:100,rewards:{gold:10,fruit:5},weaknesses:["fire"]},{name:"Will-o-Wasp",health:100,dodge:3,rewards:{gold:15,fruit:1},weaknesses:["front"]},{name:"The Shroud",health:1e3,ethereal:!0,rewards:{gold:10,fruit:7}},{name:"Dark Lord",health:1e4,armor:800,rewards:{gold:10,fruit:10}},{name:"Clockomancer",health:1e5,rewards:{fruit:1e3},slowTime:100,passiveEffects:["The Clockomancer slows down time."]},{name:"Glass Dragon",health:1e5,rewards:{gold:100,fruit:10},weaknesses:["blunt","back"]},{name:"Xaranthian Construct",health:65e4,rewards:{gold:250},weaknesses:["left"]},{name:"Potato Golem",health:1e3,armor:1e3,rewards:{fruit:70,saplings:1},weaknesses:["sharp","fire"]},{name:"Fortified Door",health:100,armor:1e3,rewards:{}},{name:"Master of Doors",health:125e4,armor:1e4,rewards:{fruit:30}},{name:"Corrupted Bounty Hunter",health:99e4,armor:1e3,dodge:.25,rewards:{gold:200},weaknesses:["front"]},{name:"Lior the Weaver",health:16e4,armor:1,dodge:.1,rewards:{gold:200,fruit:80},weaknesses:["sharp","fire"]},{name:"Skeletron",health:1e5,armor:200,rewards:{gold:100},weaknesses:["blunt","back"]},{name:"Chago's Chamber",health:6e5,armor:1e3,rewards:{gold:200},weaknesses:["blunt","water"]},{name:"Chago",health:14e4,armor:25e3,rewards:{fruit:60},dodge:.01,weaknesses:["blunt","water"]},{name:"Door of Loathing",health:1e6,armor:1e4,immune:["sharp","blunt"],rewards:{gold:200},weaknesses:["ice","light"]},{name:"Zakatrixos",health:12e4,ethereal:!0,rewards:{}},{name:"Wands from the Depths",health:6e5,armor:24e3,rewards:{gold:200,fruit:40},immune:["water"],weaknesses:["ice"]},{name:"Skyrmions",health:107,ethereal:!0,count:107,rewards:{fruit:107},weaknesses:["back"]},{name:"Defensive Installation",health:1e6,armor:1e3,rewards:{gold:800},weaknesses:["blunt","front"]},{name:"Tenebra",health:3e5,ethereal:!0,rewards:{fruit:77},weaknesses:["fire","front"]},{name:"Landas Wizard",health:32e4,dodge:.001,rewards:{gold:200,fruit:100},weaknesses:["water","back"]},{name:"Crystal Man",health:600,dodge:1e-5,rewards:{gold:1e3,fruit:500},weaknesses:["blunt","ice"]},{name:"Power Crystal",health:1,armor:1e5,rewards:{fruit:1e4},weaknesses:["blunt"]},{name:"Frozen Centurion",health:200,dodge:10,rewards:{gold:3,fruit:5},immune:["ice"],weaknesses:["fire","front"]},{name:"Trollish Maiden",health:1e3,regen:100,rewards:{gold:8,fruit:6},passiveEffects:["The Trollish Maiden heals quickly."]},{name:"Dryfin Carp",health:1e4,rewards:{gold:12,fruit:10},weaknesses:["water","back"]},{name:"Scaffold Sorcery",health:2e4,armor:1e3,rewards:{gold:25,fruit:6},weaknesses:["fire","sharp"]},{name:"Lost Swimmer",health:3e4,armor:2e3,rewards:{fruit:20},immune:["water"],weaknesses:["ice"]},{name:"Geckalog",health:8e4,rewards:{gold:80,fruit:15},weaknesses:["ice","left"]},{name:"Jaw Maw Maw",health:6e4,regen:60,rewards:{gold:60,fruit:16},passiveEffects:["Jaw Maw Maw heals quickly."]},{name:"Gnollish Ambassador",health:12e4,armor:10,rewards:{gold:20,fruit:19},weaknesses:["fire","right"]},{name:"Striped Horror",health:2e5,dodge:10,rewards:{gold:10,fruit:20}},{name:"Dragonfly Agaric",health:6e5,rewards:{gold:20,fruit:30},immune:["poison"],regen:3e3,weaknesses:["fire","left"],passiveEffects:["The spores of the Dragonfly Agaric are toxic to everything but itself."]},{name:"Artifact Seeker",health:7e4,dodge:2,rewards:{gold:1e3,fruit:20},weaknesses:["ice","fire","water"]},{name:"Golden Chest",health:1,armor:1e4,rewards:{gold:7500},weaknesses:["blunt"]},{name:"King of Tadpoles",health:125e4,rewards:{gold:100,fruit:60},immune:["water"]},{name:"Hopanoids",count:12,health:5e4,armor:1e3,dodge:1,rewards:{fruit:100},weaknesses:["fire"]},{name:"Tosyl Rose",health:86e4,armor:4e3,rewards:{gold:100,fruit:100},weaknesses:["fire","right"]},{name:"Sullen Bearer",health:99e4,armor:1e4,rewards:{gold:200},weaknesses:["back"]},{name:"Unwelcoming Glade",health:24e5,rewards:{gold:100,fruit:100,saplings:1},weaknesses:["fire","sharp"]},{name:"Food Mimic",health:31e5,armor:10,rewards:{gold:100,fruit:120},weaknesses:["blunt","bite"]},{name:"Frog Assassin",health:105e4,dodge:.1,rewards:{gold:1,fruit:1}},{name:"Enantiomers",count:2,health:1e6,armor:9100,dodge:.1,rewards:{fruit:150},weaknesses:["fire"]},{name:"Decay Manifest",health:2e6,regen:5e3,rewards:{gold:200,fruit:75},weaknesses:["fire","right"],passiveEffects:["The fruiting bodies of the Decay Manifest regrow as soon as you destroy them."]},{name:"Web of Power",health:1e7,rewards:{gold:2e3,fruit:50},weaknesses:["water","left"]},{name:"Tombstone of the Forgotten",health:29e6,armor:1e4,rewards:{gold:2e3,fruit:125},weaknesses:["front","light"]},{name:"Hippogryph",health:8e7,regen:1e4,rewards:{gold:12e3,fruit:200},weaknesses:["fire","left"],passiveEffects:["The Hippogryph heals quickly."]},{name:"The King's Armor",health:6e7,armor:1e5,rewards:{gold:8e3},immune:["sharp"],weaknesses:[]},{name:"Corridor of Illusions",health:6e6,dodge:.01,rewards:{gold:6e3,fruit:300},weaknesses:["light"]},{name:"Hiber Conduit",health:1e8,regen:8e3,rewards:{gold:800,fruit:400},immune:["ice"],weaknesses:["fire"],passiveEffects:["The molten parts of Hiber Conduit freeze to a solid form with little delay."]},{name:"Core Diver",health:51e7,regen:8e4,rewards:{gold:200,fruit:500},immune:["fire"],weaknesses:["water"],passiveEffects:["A lumbering shape of magma stands before you. The Core Diver's surface is continuously shed and renewed by a fiery flow."]},{name:"Smother Mother",health:25e7,armor:8e5,rewards:{gold:200,fruit:750},immune:["fire","light"],weaknesses:["left","water"],passiveEffects:["The Smother Mother is encased in an armor that must have a melting point beyond anything in our world."]},{name:"The Final Warden",dodge:.001,health:999e6,regen:6e5,rewards:{gold:15e3,fruit:2500},immune:["fire"],weaknesses:["light","ice"],passiveEffects:["The air itself is strained and torn as the colossal form of the Final Warden moves, too fast to track."]},{name:"Skelemasterion",health:1e15,armor:1e12,regen:1e12,ethereal:!0,rewards:{gold:1e6,fruit:1e6},immune:["fire","ice","water","light","dark","poison","sharp","blunt","ranged"],passiveEffects:["This dungeon is barely strong enough to contain the invincible Skelemasterion."],eulogy:e=>`
    <img src="images/generated/Skelemasterion-dead.webp" class="friend">
    <h1 style="margin-top: 0">Skelemasterion is ${e.run.capturedMonsters.includes("Skelemasterion")?"captured":"defeated"}!</h1>
    <div class="description">
    ${e.run.capturedMonsters.includes("Skelemasterion")?"<p>Your victory is complete. Your band organizes a feast. <p> You search Skelemasterion's lair and collect its treasures. You can force the beast to reveal its secrets now. Finally you have what you came for.":"<p>Victory is yours. A great evil has been vanquished. Time to celebrate! <p> You search its lair and collect its treasures. Yet you miss something that only Skelemasterion could reveal..."}
    </div>`}],Cc={"Wild Slime":[{name:"Slobber",duration:5,damage:1,description:"Cover the enemy in slime."}],"Poison Crow":[{name:"Crow Blast",duration:5,description:"An explosion of feathers and poison.",tags:["poison"],onCompleted(e,t,n){const r=e.abilityEffects(n),s=r.rndHits(t);e.addPoison(10*r.damageMultiplier,s)}}],"Animated Skeleton":[{name:"Femurs Clashing",duration:5,damage:30,description:"Bones to bones. Ashes to ashes.",tags:["blunt"]}],"Thick Door":[{name:"Creaking",duration:10,damage:0,description:"The door creaks ominously.",tags:["sound"]}],Bandlings:[{name:"Swarm of Bandlings",duration:5,damage:1,description:"A swarm of fierce little warriors.",tags:["blunt"]}],"Dead Gladiator":[{name:"Blades of Revenge",duration:1,damage:100,description:"A vengeful gladiator attacks.",tags:["sharp"]}],"Lobster Daddy":[{name:"Claw Smash",duration:100,damage:1e3,description:"A powerful claw attack.",tags:["sharp"]}],"Will-o-Wasp":[{name:"Sting",duration:.05,damage:1,description:"The quick and painful sting of a wasp.",tags:["poison"]}],"The Shroud":[{name:"Shroud of Darkness",duration:1,damage:1e3,description:"Envelops the enemy in darkness.",tags:["dark"]}],"Dark Lord":[{name:"Shadow Strike",duration:1,damage:10,description:"The Dark Lord never misses.",tags:["dark","undodgeable"]}],Clockomancer:[{name:"Time Wrap",duration:1,description:"Slows down time.",onCompleted(e){e.run.speedLevel=1}},{name:"Time Burp",duration:1,description:"Pushes time forward.",onCompleted(e){e.run.skipTime+=2e3}}],"Glass Dragon":[{name:"Shatter",duration:1,damage:1e5,description:"The repairs are expensive.",consumes:{gold:100},tags:["sharp"]}],"Xaranthian Construct":[{name:"Fire Xaranthian Cannons",duration:10,damage:65e4,description:"Sounds like thunder, looks like lightning bolts flying straight at the target."}],"Potato Golem":[{name:"Fertilize Saplings",duration:1,description:"The number of saplings you have is effectively doubled. Potato magic.",peaceful:!0,consumes:e=>({gold:e.run.saplings}),onCompleted(e){e.run.saplings*=2}}],"Fortified Door":[{name:"Fortified Slam",duration:1,damage:1,description:"Slams shut with a sound so loud, it is felt by everyone.",tags:["blunt","sound","undodgeable"]}],"Master of Doors":[{name:"Master Key",duration:1,description:"Immediately defeats door-type enemies.",onCompleted(e){e.currentEnemy()?.name?.includes("Door")&&e.addDamage(1/0,1)}}],"Corrupted Bounty Hunter":[{name:"Hyper Beam",duration:100,damage:125e4,description:"Imagine a rainbow turning to violence."}],"Lior the Weaver":[{name:"Fabric of Reality",duration:5,damage:12e4,tags:["left","right","front","back"],description:"An attack that comes from all directions at once."}],Skeletron:[{name:"Bonetron",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Chago's Chamber":[{name:"Spring Trap",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],Chago:[{name:"Create Cheese Demon",duration:300,description:"Chago releases a demon to chew on the enemy.",tags:["bite"],onCompleted(e,t){e.addPoison(16e4,t)}}],"Door of Loathing":[{name:"Look of Loathing",duration:60,damage:1,tags:["dark"],description:"The Door of Loathing taunts the enemy and draws its attacks onto itself."}],Zakatrixos:[{name:"Pierce the Veil",duration:100,description:`
For the duration of the spell, Zakatrixos shifts the band into the ethereal plane.
This negates the defenses of ethereal enemies.`}],"Wands from the Depths":[{name:"Sapphire Wand",duration:10,damage:12e4,description:"One of the Wands from the Depths.",tags:["water"]},{name:"Emerald Wand",duration:10,damage:12e4,description:"One of the Wands from the Depths.",tags:["poison"]},{name:"Ruby Wand",duration:10,damage:12e4,description:"One of the Wands from the Depths.",tags:["fire"]}],Skyrmions:[{name:"Release Excitation Energy",duration:107,damage:107,tags:["light"],description:"Skyrmion pairing of opposite charges from opposite valleys is favored by both Coulomb and effective Zeeman terms."}],"Defensive Installation":[{name:"Set Up Defenses",duration:1200,damage:8e8,tags:["ranged"],description:"The best defense is a slow but devastating attack."}],Tenebra:[{name:"Ebony Stripe",tags:["dark"],duration:100,damage:11e5,description:"The black stripes connect to the darkness of the underworld."},{name:"Ivory Stripe",tags:["light"],duration:100,damage:11e5,description:"The white stripes connect to the light of the heavens."}],"Landas Wizard":[{name:"Send Sand",tags:["sand"],duration:100,damage:2e5,description:"A sandstorm passes through the battlefield."}],"Crystal Man":[{name:"Resonate Crystals",tags:["sound"],duration:8,damage:8e4,description:"The Crystal Man emits a mighty vibration when wet."}],"Power Crystal":[],"Frozen Centurion":[{name:"Frozen Century",duration:100*365*24*60*60,damage:5e12,tags:["ice"],description:"An attack of patience and determination."}],"Trollish Maiden":[{name:"Maiden's Smash",duration:1,damage:1e3,tags:["blunt"],description:"The narrow corridors of the dungeon limit the athleticism of trolls, but they are still a force to fear."}],"Dryfin Carp":[{name:"Sand Bubbles",duration:20,damage:1e3,tags:["sand"],description:"Dryfin Carps are feared across the Landas Desert for their ferocious bubble attacks."}],"Scaffold Sorcery":[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Lost Swimmer":[{name:"Flood",duration:100,damage:1e6,tags:["water","undodgeable"],description:"A deceptively slow attack that fills up the battlefield. No attacks can be dodged while the flood is in progress."}],Geckalog:[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Jaw Maw Maw":[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Decay Manifest":[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Striped Horror":[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Dragonfly Agaric":[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Artifact Seeker":[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Golden Chest":[],"King of Tadpoles":[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],Hopanoids:[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Tosyl Rose":[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Sullen Bearer":[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Unwelcoming Glade":[],"Food Mimic":[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Frog Assassin":[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],Enantiomers:[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Gnollish Ambassador":[{name:"",duration:1,damage:1,description:"NOT IMPLEMENTED YET"}],"Web of Power":[{name:"Spider Power",tags:["poison"],duration:.2,damage:100,description:"A quick, sharp stab is all that is felt."}],"Tombstone of the Forgotten":[{name:"The Forgotten Siege",duration:1e4,damage:8e8,tags:["dark"],description:"Knights from beyond the tomb lay waste to your enemies."}],Hippogryph:[{name:"Hippograb",tags:["blunt"],duration:25,damage:2e5,description:"The beast lifts its prey into the air, then smashes them to the ground."}],"The King's Armor":[],"Corridor of Illusions":[],"Hiber Conduit":[{name:"Hibernate",tags:["ice"],duration:240,damage:24e5,description:"Pipes filled with sub-zero liquid coil around the target."}],"Core Diver":[{name:"Magma Vortex",duration:60,damage:12e5,tags:["fire"],description:"The Core Diver floods the area with magma that pulls down your enemies."}],"Smother Mother":[{name:"Smother",tags:["poison","fire","dark","undodgeable"],duration:15,damage:3e5,description:"Fumes from the underworld cover the battlefield. All life and light is extinguished."}],"The Final Warden":[{name:"The Final Warning",duration:120,damage:24e5,tags:["ranged","sound"],description:"A deadly weapon rings out immediately after the duration of the warning."}],Skelemasterion:[{name:"Cancelion",duration:10,description:"Skelemasterion defeats the opponent. Skelemasterion is lost in the process.",preventRepeat:!0,onCompleted(e){e.addDamage(1/0,1),e.run.capturedMonsters=e.run.capturedMonsters.filter(t=>t!=="Skelemasterion")}},{name:"Reveal Skelemasterion's Stairway",duration:20,description:`
Hidden in Skelemasterion's lair is a stairway leading to the second level of the dungeon.

NOT IMPLEMENTED YET

This is the end of the current content. Congratulations and thanks for playing!`,hidden:e=>e.currentRoom()?.name!=="Skelemasterion",onCompleted(){}}]},Pn={};for(const e of ka){Pn[e.name]=e,e.abilities=Cc[e.name]??[];for(const t of e.abilities)t.image=e.name}function As(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ft=As();function xa(e){Ft=e}var _n={exec:()=>null};function ne(e,t=""){let n=typeof e=="string"?e:e.source,r={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(De.caret,"$1"),n=n.replace(s,o),r},getRegex:()=>new RegExp(n,t)};return r}var De={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},$c=/^(?:[ \t]*(?:\n|$))+/,Mc=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Ac=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Wn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ec=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Es=/(?:[*+-]|\d{1,9}[.)])/,Sa=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_a=ne(Sa).replace(/bull/g,Es).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Rc=ne(Sa).replace(/bull/g,Es).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Rs=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Lc=/^[^\n]+/,Ls=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ic=ne(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ls).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Dc=ne(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Es).getRegex(),Cr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Is=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Pc=ne("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Is).replace("tag",Cr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ta=ne(Rs).replace("hr",Wn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cr).getRegex(),Bc=ne(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ta).getRegex(),Ds={blockquote:Bc,code:Mc,def:Ic,fences:Ac,heading:Ec,hr:Wn,html:Pc,lheading:_a,list:Dc,newline:$c,paragraph:Ta,table:_n,text:Lc},Mi=ne("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Wn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cr).getRegex(),Nc={...Ds,lheading:Rc,table:Mi,paragraph:ne(Rs).replace("hr",Wn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Mi).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cr).getRegex()},Oc={...Ds,html:ne(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Is).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:_n,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ne(Rs).replace("hr",Wn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_a).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Hc=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,zc=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ca=/^( {2,}|\\)\n(?!\s*$)/,Wc=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,$r=/[\p{P}\p{S}]/u,Ps=/[\s\p{P}\p{S}]/u,$a=/[^\s\p{P}\p{S}]/u,jc=ne(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ps).getRegex(),Ma=/(?!~)[\p{P}\p{S}]/u,Kc=/(?!~)[\s\p{P}\p{S}]/u,Gc=/(?:[^\s\p{P}\p{S}]|~)/u,qc=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Aa=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Uc=ne(Aa,"u").replace(/punct/g,$r).getRegex(),Vc=ne(Aa,"u").replace(/punct/g,Ma).getRegex(),Ea="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Fc=ne(Ea,"gu").replace(/notPunctSpace/g,$a).replace(/punctSpace/g,Ps).replace(/punct/g,$r).getRegex(),Yc=ne(Ea,"gu").replace(/notPunctSpace/g,Gc).replace(/punctSpace/g,Kc).replace(/punct/g,Ma).getRegex(),Jc=ne("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,$a).replace(/punctSpace/g,Ps).replace(/punct/g,$r).getRegex(),Zc=ne(/\\(punct)/,"gu").replace(/punct/g,$r).getRegex(),Xc=ne(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qc=ne(Is).replace("(?:-->|$)","-->").getRegex(),ed=ne("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Qc).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),lr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,td=ne(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",lr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ra=ne(/^!?\[(label)\]\[(ref)\]/).replace("label",lr).replace("ref",Ls).getRegex(),La=ne(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ls).getRegex(),nd=ne("reflink|nolink(?!\\()","g").replace("reflink",Ra).replace("nolink",La).getRegex(),Bs={_backpedal:_n,anyPunctuation:Zc,autolink:Xc,blockSkip:qc,br:Ca,code:zc,del:_n,emStrongLDelim:Uc,emStrongRDelimAst:Fc,emStrongRDelimUnd:Jc,escape:Hc,link:td,nolink:La,punctuation:jc,reflink:Ra,reflinkSearch:nd,tag:ed,text:Wc,url:_n},rd={...Bs,link:ne(/^!?\[(label)\]\((.*?)\)/).replace("label",lr).getRegex(),reflink:ne(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",lr).getRegex()},ls={...Bs,emStrongRDelimAst:Yc,emStrongLDelim:Vc,url:ne(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},sd={...ls,br:ne(Ca).replace("{2,}","*").getRegex(),text:ne(ls.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Fn={normal:Ds,gfm:Nc,pedantic:Oc},pn={normal:Bs,gfm:ls,breaks:sd,pedantic:rd},id={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ai=e=>id[e];function st(e,t){if(t){if(De.escapeTest.test(e))return e.replace(De.escapeReplace,Ai)}else if(De.escapeTestNoEncode.test(e))return e.replace(De.escapeReplaceNoEncode,Ai);return e}function Ei(e){try{e=encodeURI(e).replace(De.percentDecode,"%")}catch{return null}return e}function Ri(e,t){let n=e.replace(De.findPipe,(i,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=n.split(De.splitPipe),s=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(De.slashPipe,"|");return r}function hn(e,t,n){let r=e.length;if(r===0)return"";let s=0;for(;s<r&&e.charAt(r-s-1)===t;)s++;return e.slice(0,r-s)}function od(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function Li(e,t,n,r,s){let i=t.href,o=t.title||null,a=e[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function ad(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(r===null)return t;let s=r[1];return t.split(`
`).map(i=>{let o=i.match(n.other.beginningSpace);if(o===null)return i;let[a]=o;return a.length>=s.length?i.slice(s.length):i}).join(`
`)}var ur=class{options;rules;lexer;constructor(e){this.options=e||Ft}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:hn(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=ad(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=hn(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:hn(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=hn(t[0],`
`).split(`
`),r="",s="",i=[];for(;n.length>0;){let o=!1,a=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),o=!0;else if(!o)a.push(n[l]);else break;n=n.slice(l);let c=a.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,s=s?`${s}
${u}`:u;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,i,!0),this.lexer.state.top=f,n.length===0)break;let b=i.at(-1);if(b?.type==="code")break;if(b?.type==="blockquote"){let v=b,h=v.raw+`
`+n.join(`
`),m=this.blockquote(h);i[i.length-1]=m,r=r.substring(0,r.length-v.raw.length)+m.raw,s=s.substring(0,s.length-v.text.length)+m.text;break}else if(b?.type==="list"){let v=b,h=v.raw+`
`+n.join(`
`),m=this.list(h);i[i.length-1]=m,r=r.substring(0,r.length-b.raw.length)+m.raw,s=s.substring(0,s.length-v.raw.length)+m.raw,n=h.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),o=!1;for(;e;){let l=!1,c="",u="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let f=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,x=>" ".repeat(3*x.length)),b=e.split(`
`,1)[0],v=!f.trim(),h=0;if(this.options.pedantic?(h=2,u=f.trimStart()):v?h=t[1].length+1:(h=t[2].search(this.rules.other.nonSpaceChar),h=h>4?1:h,u=f.slice(h),h+=t[1].length),v&&this.rules.other.blankLine.test(b)&&(c+=b+`
`,e=e.substring(b.length+1),l=!0),!l){let x=this.rules.other.nextBulletRegex(h),N=this.rules.other.hrRegex(h),P=this.rules.other.fencesBeginRegex(h),L=this.rules.other.headingBeginRegex(h),z=this.rules.other.htmlBeginRegex(h);for(;e;){let Y=e.split(`
`,1)[0],se;if(b=Y,this.options.pedantic?(b=b.replace(this.rules.other.listReplaceNesting,"  "),se=b):se=b.replace(this.rules.other.tabCharGlobal,"    "),P.test(b)||L.test(b)||z.test(b)||x.test(b)||N.test(b))break;if(se.search(this.rules.other.nonSpaceChar)>=h||!b.trim())u+=`
`+se.slice(h);else{if(v||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||P.test(f)||L.test(f)||N.test(f))break;u+=`
`+b}!v&&!b.trim()&&(v=!0),c+=Y+`
`,e=e.substring(Y.length+1),f=se.slice(h)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let m=null,y;this.options.gfm&&(m=this.rules.other.listIsTask.exec(u),m&&(y=m[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:c,task:!!m,checked:y,loose:!1,text:u,tokens:[]}),s.raw+=c}let a=s.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let l=0;l<s.items.length;l++)if(this.lexer.state.top=!1,s.items[l].tokens=this.lexer.blockTokens(s.items[l].text,[]),!s.loose){let c=s.items[l].tokens.filter(f=>f.type==="space"),u=c.length>0&&c.some(f=>this.rules.other.anyLine.test(f.raw));s.loose=u}if(s.loose)for(let l=0;l<s.items.length;l++)s.items[l].loose=!0;return s}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:s}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=Ri(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let o of r)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<n.length;o++)i.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:i.align[o]});for(let o of s)i.rows.push(Ri(o,i.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:i.align[l]})));return i}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=hn(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{let i=od(t[2],"()");if(i===-2)return;if(i>-1){let o=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let r=t[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Li(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=t[r.toLowerCase()];if(!s){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Li(n,s,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...r[0]].length-1,i,o,a=s,l=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);(r=c.exec(t))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=[...i].length,r[3]||r[4]){a+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){l+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+l);let u=[...r[0]][0].length,f=e.slice(0,s+r.index+u+o);if(Math.min(s,o)%2){let v=f.slice(1,-1);return{type:"em",raw:f,text:v,tokens:this.lexer.inlineTokens(v)}}let b=f.slice(2,-2);return{type:"strong",raw:f,text:b,tokens:this.lexer.inlineTokens(b)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]==="@")n=t[0],r="mailto:"+n;else{let s;do s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(s!==t[0]);n=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},yt=class us{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ft,this.options.tokenizer=this.options.tokenizer||new ur,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:De,block:Fn.normal,inline:pn.normal};this.options.pedantic?(n.block=Fn.pedantic,n.inline=pn.pedantic):this.options.gfm&&(n.block=Fn.gfm,this.options.breaks?n.inline=pn.breaks:n.inline=pn.gfm),this.tokenizer.rules=n}static get rules(){return{block:Fn,inline:pn}}static lex(t,n){return new us(n).lex(t)}static lexInline(t,n){return new us(n).inlineTokens(t)}lex(t){t=t.replace(De.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){for(this.options.pedantic&&(t=t.replace(De.tabCharGlobal,"    ").replace(De.spaceLine,""));t;){let s;if(this.options.extensions?.block?.some(o=>(s=o.call({lexer:this},t,n))?(t=t.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(t)){t=t.substring(s.raw.length);let o=n.at(-1);s.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(t)){t=t.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(s=this.tokenizer.fences(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(t)){t=t.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(t)){t=t.substring(s.raw.length),n.push(s);continue}let i=t;if(this.options.extensions?.startBlock){let o=1/0,a=t.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(i=t.substring(0,o+1))}if(this.state.top&&(s=this.tokenizer.paragraph(i))){let o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s),r=i.length!==t.length,t=t.substring(s.raw.length);continue}if(s=this.tokenizer.text(t)){t=t.substring(s.raw.length);let o=n.at(-1);o?.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(t){let o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r=t,s=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)a.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,o="";for(;t;){i||(o=""),i=!1;let a;if(this.options.extensions?.inline?.some(c=>(a=c.call({lexer:this},t,n))?(t=t.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.escape(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(a.raw.length);let c=n.at(-1);a.type==="text"&&c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(t,r,o)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(t)){t=t.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(t))){t=t.substring(a.raw.length),n.push(a);continue}let l=t;if(this.options.extensions?.startInline){let c=1/0,u=t.slice(1),f;this.options.extensions.startInline.forEach(b=>{f=b.call({lexer:this},u),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){t=t.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),i=!0;let c=n.at(-1);c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}},cr=class{options;parser;constructor(e){this.options=e||Ft}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(De.notSpaceStart)?.[0],s=e.replace(De.endingNewline,"")+`
`;return r?'<pre><code class="language-'+st(r)+'">'+(n?s:st(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:st(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,r="";for(let o=0;o<e.items.length;o++){let a=e.items[o];r+=this.listitem(a)}let s=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+st(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let s=0;s<e.header.length;s++)n+=this.tablecell(e.header[s]);t+=this.tablerow({text:n});let r="";for(let s=0;s<e.rows.length;s++){let i=e.rows[s];n="";for(let o=0;o<i.length;o++)n+=this.tablecell(i[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${st(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),s=Ei(e);if(s===null)return r;e=s;let i='<a href="'+e+'"';return t&&(i+=' title="'+st(t)+'"'),i+=">"+r+"</a>",i}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let s=Ei(e);if(s===null)return st(n);e=s;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${st(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:st(e.text)}},Ns=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},wt=class cs{options;renderer;textRenderer;constructor(t){this.options=t||Ft,this.options.renderer=this.options.renderer||new cr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ns}static parse(t,n){return new cs(n).parse(t)}static parseInline(t,n){return new cs(n).parseInline(t)}parse(t,n=!0){let r="";for(let s=0;s<t.length;s++){let i=t[s];if(this.options.extensions?.renderers?.[i.type]){let a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=l||"";continue}}let o=i;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;s+1<t.length&&t[s+1].type==="text";)a=t[++s],l+=`
`+this.renderer.text(a);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(t,n=this.renderer){let r="";for(let s=0;s<t.length;s++){let i=t[s];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=a||"";continue}}let o=i;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},Qn=class{options;block;constructor(e){this.options=e||Ft}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?yt.lex:yt.lexInline}provideParser(){return this.block?wt.parse:wt.parseInline}},ld=class{defaults=As();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=wt;Renderer=cr;TextRenderer=Ns;Lexer=yt;Tokenizer=ur;Hooks=Qn;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let s=r;for(let i of s.header)n=n.concat(this.walkTokens(i.tokens,t));for(let i of s.rows)for(let o of i)n=n.concat(this.walkTokens(o.tokens,t));break}case"list":{let s=r;n=n.concat(this.walkTokens(s.items,t));break}default:{let s=r;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(i=>{let o=s[i].flat(1/0);n=n.concat(this.walkTokens(o,t))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=t.renderers[s.name];i?t.renderers[s.name]=function(...o){let a=s.renderer.apply(this,o);return a===!1&&(a=i.apply(this,o)),a}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=t[s.level];i?i.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),r.extensions=t),n.renderer){let s=this.defaults.renderer||new cr(this.defaults);for(let i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let o=i,a=n.renderer[o],l=s[o];s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=l.apply(s,c)),u||""}}r.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new ur(this.defaults);for(let i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let o=i,a=n.tokenizer[o],l=s[o];s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=l.apply(s,c)),u}}r.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new Qn;for(let i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let o=i,a=n.hooks[o],l=s[o];Qn.passThroughHooks.has(i)?s[o]=c=>{if(this.defaults.async)return Promise.resolve(a.call(s,c)).then(f=>l.call(s,f));let u=a.call(s,c);return l.call(s,u)}:s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=l.apply(s,c)),u}}r.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(o){let a=[];return a.push(i.call(this,o)),s&&(a=a.concat(s.call(this,o))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return yt.lex(e,t??this.defaults)}parser(e,t){return wt.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},s={...this.defaults,...r},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=e);let o=s.hooks?s.hooks.provideLexer():e?yt.lex:yt.lexInline,a=s.hooks?s.hooks.provideParser():e?wt.parse:wt.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(t):t).then(l=>o(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>a(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(i);try{s.hooks&&(t=s.hooks.preprocess(t));let l=o(t,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=a(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(l){return i(l)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+st(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},Ut=new ld;function ee(e,t){return Ut.parse(e,t)}ee.options=ee.setOptions=function(e){return Ut.setOptions(e),ee.defaults=Ut.defaults,xa(ee.defaults),ee};ee.getDefaults=As;ee.defaults=Ft;ee.use=function(...e){return Ut.use(...e),ee.defaults=Ut.defaults,xa(ee.defaults),ee};ee.walkTokens=function(e,t){return Ut.walkTokens(e,t)};ee.parseInline=Ut.parseInline;ee.Parser=wt;ee.parser=wt.parse;ee.Renderer=cr;ee.TextRenderer=Ns;ee.Lexer=yt;ee.lexer=yt.lex;ee.Tokenizer=ur;ee.Hooks=Qn;ee.parse=ee;ee.options;ee.setOptions;ee.use;ee.walkTokens;ee.parseInline;wt.parse;yt.lex;function Ia(){return{fruit:1,packs:1,bestWeaponLevel:1,unlocked:["Stick Master"],discovered:[],name:"Unnamed Guild"}}const ud=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),cd=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0});function Ee(e){return e>9999999999?`${Ee(e/1e9)} B`:e<10?ud.format(e):cd.format(e)}function Zt(e){return Math.floor(1e-8*e**7+e)}function dr(e){if(!e)return"0 seconds";let t=e;const n=["year","day","hour","minute","second","ms","µs","ns"],r=[365,24,60,60,1e3,1e3,1e3];let s=n.indexOf("ms");for(;s>0&&t>=r[s-1];)t/=r[s-1],s--;for(;s<r.length-1&&t<1;)t*=r[s],s++;if(t<2&&s<r.length-1){const o=Math.round((t-1)*r[s]);if(o===0)return`1 ${n[s]}`;if(o===1)return`1 ${n[s]} 1 ${n[s+1]}`;const a=n[s+1].endsWith("s")?"":"s";return`1 ${n[s]} ${Ee(o)} ${n[s+1]}${a}`}const i=n[s].endsWith("s")?"":"s";return`${Ee(Math.round(t))} ${n[s]}${i}`}function J(e,t){const n=t??"";return`<span class="numbers">${Ee(e)}${n}</span>`}const Ii=Math.log(3)/Math.log(2),Da=[{name:"Anvilomancer",cost:0,description:`
An expert Anvilomancer can upgrade your weapons in the midst of battle.
Upgrades are mostly lost when leaving the dungeon.
The starting weapon level is the square root of the highest level achieved.
    `,abilities:[{name:"Forge",duration:5,consumes:{gold:1},description:e=>`Increases the level of all weapons. (Currently ${J(e.weaponLevel())}.)`,onCompleted(e,t){e.run.weaponLevelAdded+=t},peaceful:!0}],super:{name:"Anvilominator",description:`
An expert Anvilominator can upgrade your weapons in the midst of battle.
The Anvilominator retains upgrades from earlier runs.
The starting weapon level is the highest level achieved.
    `,abilities:[{name:"Forge",duration:10,consumes:{gold:5},description:e=>`Increases the level of all weapons by ${J(10)}. (Currently ${J(e.weaponLevel())}.)`,onCompleted(e,t){e.run.weaponLevelAdded+=10*t},peaceful:!0},{name:"Unforge",hidden:e=>e.run.room.armorDamage===(e.currentEnemy()?.armor??0),duration:5,description:(e,t)=>`Damages the armor of the enemy.

${J(e.abilityEffects(t).damageMultiplier*10)} damage`,onCompleted(e,t,n){const r=e.abilityEffects(n),s=r.rndHits(t);e.run.room.armorDamage=Math.min(e.currentEnemy()?.armor??0,e.run.room.armorDamage+r.damageMultiplier*s*10)}}]}},{name:"Azrekta",cost:0,description:`
Azrekta bedevils her friends and foes. Her friends become more powerful versions of themselves.
Her enemies become ethereal, making them challenging to hit.
    `,abilities:[]},{name:"Coldblade",cost:0,description:"A frozen warrior. Legends say his attacks will kill any foe, but each swing takes a thousand years.",abilities:[{name:"Glacial Strike",description:"A very cold blade with a very sharp edge.",duration:3600*24*365*1e3,damage:1e12,tags:["ice"]}],super:{name:"Hotblade",description:"A frozen warrior, now with a hot blade. Legends say his attacks will kill any foe, but each swing takes a thousand years.",abilities:[{name:"Glacial Flame Strike",description:"A very hot blade with a very sharp edge.",duration:3600*24*365*1e3,damage:1e12,tags:["fire"]}]}},{name:"Dark Chef",cost:0,description:`
A master of the culinary arts, Dark Chef fights by poisoning the enemies.
The only way to defend against his attacks is to dodge them or wear layers of heavy armor.`,abilities:[{name:"Poison Strike",duration:5,tags:["poison"],description:e=>e.run.room.poison?`Damage over time. (Currently ${J(e.run.room.poison)} damage per second.)`:"Damage over time.",onCompleted(e,t,n){const r=e.abilityEffects(n),s=r.rndHits(t);e.addPoison(r.damageMultiplier,s)}}],super:{name:"Dark Sommelier",description:`
A master of the culinary arts, Dark Sommelier fights by poisoning the enemies.
The only way to defend against his attacks is to wear layers of heavy armor.`,abilities:[{name:"Poison Strike",duration:5,tags:["poison","undodgeable"],description:e=>e.run.room.poison?`Poison the air. (Currently ${J(e.run.room.poison)} damage per second.)`:"Poison the air.",onCompleted(e,t,n){const r=e.abilityEffects(n),s=r.rndHits(t);e.addPoison(r.damageMultiplier*10,s)}}]}},{name:"Desert Rabbit",cost:0,description:`
The Desert Rabbit grew up fighting gigantic enemies. He has developed a keen sense for their weaknesses.

With the Desert Rabbit in your band, you will see the weaknesses of enemies and the right attacks will deal double damage.
    `,super:{name:"Desert Armadillo",description:`
The Desert Armadillo grew up fighting gigantic enemies. He has developed a keen sense for their weaknesses.

With the Desert Armadillo in your band, you will see the weaknesses of enemies and the right attacks will deal double damage.
The damage bonus can be further increased with the Blessing of the Desert ability.
    `,abilities:[{name:"Blessing of the Desert",duration:5,consumes:{gold:1},description:e=>`Increases the damage multiplier for weaknesses. (Currently ${J(e.run.desertBlessingMultiplier,"×")}.)`,onCompleted(e,t){e.run.desertBlessingMultiplier+=t},peaceful:!0}]}},{name:"Friend of Metal",description:"A warrior equipped with metal armor and weapons expertly crafted in the forges of the Friendship Mountain.",cost:0,abilities:[{name:"Steel Jab",duration:3,damage:10,description:"A finely crafted sword in the hands of a Friend of Metal.",tags:["sharp"]}],super:{name:"Friend of Metal and Fire",abilities:[{name:"Steel Jab+",duration:3,damage:100,description:"A finely crafted sword in the hands of a Friend of Metal and Fire.",tags:["sharp"]},{name:"Flame Jab+",duration:3,damage:100,description:"A flaming sword in the hands of a Friend of Metal and Fire.",tags:["fire"]}]}},{name:"Knight of Claws",cost:0,description:`
Trained as an assassin, the Knight of Claws works best on his own. His power doubles for every empty space next to him.
    `,abilities:[{name:"Claws & Thorns",duration:100,damage(e){const t=e.onboard("Knight of Claws");return 100*2**(t?e.emptySpacesAround(t.row,t.col).length:0)},description:"A whirlwind of sharp blades ravages the battlefield.",tags:["sharp"]}]},{name:"Lamplighter",cost:0,description:"Lamplighter lights up the tiles around it, letting you expand your band.",abilities:[{name:"Illuminate",duration:1,damage:2,description:"Shines a light on the battlefield, hurting the eyes accustomed to darkness.",tags:["light"]}],super:{name:"Lamperlighter"}},{name:"Royal Fruitbearer",cost:0,description:`
With the Royal Fruitbearer in your band, whenever you find fruit in the dungeon, every member of the band gives a piece to every other member.
    `,passiveEffects:["When you find fruit, every member of the band gives a piece to every other member. (Thanks to the Royal Fruitbearer.)"],super:{name:"Royal Fruitwearer",description:`
With the Royal Fruitwearer in your band, whenever you find fruit in the dungeon, every member of the band gives a piece to every other member.
In addition, any gold found is converted to fruit as well.
      `,passiveEffects:["When you find fruit, every member of the band gives a piece to every other member. (Thanks to the Royal Fruitwearer.)","Any gold found is converted to fruit. (Thanks to the Royal Fruitwearer.)"]}},{name:"Stick Master",cost:0,description:`
Stick Master is a humble explorer. While wandering the forest, they came upon the ruins of a long-lost castle.
At the lowest level, they discovered the entrance to the dungeon.
    `,abilities:[{name:"Wooden Stick",duration:.5,damage:1,description:"Whack it with a stick.",tags:["blunt"]}],super:{name:"Stick Grandmaster",abilities:[{name:"Wooden Stick",duration:.5,damage:2,description:"Whack it with a stick quite hard.",tags:["blunt"]}]}},{name:"The Silent Song",cost:0,description:"Her sweet melody doubles the damage dealt by friends standing next to her.",super:{name:"The Silent Quartet",description:"Their sweet melody doubles the damage dealt by all friends."}},{name:"Lord of Gears",cost:0,description:`
The Lord of Gears is a master of automation. The band members next to him need not do anything.
Their abilities will be activated automatically.
    `,super:{name:"Gear of Lords",description:`
The Gear of Lords is the ultimate master of automation. All abilities will be activated automatically.
    `}},{name:"Pur Lion",cost:0,description:"A thief, wanted in all the thirty kingdoms. Yet nobody is able to give an accurate description of him.",abilities:[{name:"Snatch",duration:2.5,description:"Steals a piece of gold.",onCompleted(e,t){e.run.gold+=t}}],super:{name:"Sir Pur Lion",abilities:[{name:"Snatch",duration:e=>2.5*e.weaponLevel(),preventRepeat:!0,description:e=>e.weaponLevel()>1?`Steals ${J(e.weaponLevel())} pieces of gold.

Larger amounts take longer to steal.`:"Steals a piece of gold.",onCompleted(e,t){e.run.gold+=e.weaponLevel()*t}}]}},{name:"Kit Flash",cost:0,description:"A wizard of speed, Kit Flash can speed up the abilities of every member of the band.",abilities:[{name:"Running Start",duration:10,consumes:{gold:1},description:e=>`Speed up all combat abilities. (Currently ${J(e.run.speedLevel,"×")}.)`,onCompleted(e,t){e.run.speedLevel+=t},peaceful:!0}],super:{name:"Kit Storming",description:"A wizard of speed, Kit Storming can speed up the abilities of every member of the band.",abilities:[{name:"Running Start",duration:10,consumes:e=>({gold:Math.round(e.run.speedLevel**Ii)}),description:e=>`Speed up all combat abilities. (Currently ${J(e.run.speedLevel,"×")}.)`,onCompleted(e){e.run.speedLevel*=2},preventRepeat:!0,peaceful:!0}]}},{name:"Wayfinder",cost:0,description:`
A master of navigation, Wayfinder will guide your band through the dark corridors of the dungeon.
Just point to your destination on the map to get started.
To repeat the run after reaching the destination, place Wayfinder at the front of your band.

With Wayfinder in your band, you can replace members of your band at campfires.
Now that Wayfinder is free, you can see more details on the map.
    `,passiveEffects:e=>e.onboard("Wayfinder").row<2?["Wayfinder is placed in the front. Your band will retreat and start over after reaching the destination."]:["Wayfinder is placed in the back. Your band will not start over after reaching the destination."],super:{name:"Campfinder",description:`
A master of navigation, Campfinder will guide your band through the dark corridors of the dungeon.
Just point to your destination on the map to get started.
To repeat the run after reaching the destination, place Campfinder at the front of your band.

With Campfinder in your band, you can replace members of your band at campfires.
Now that Campfinder is free, you can see more details on the map.

Campfinder sets the weapons of nearby explorers on fire.
      `,passiveEffects:e=>e.onboard("Campfinder").row<2?["Campfinder is placed in the front. Your band will retreat and start over after reaching the destination."]:["Campfinder is placed in the back. Your band will not start over after reaching the destination."],abilities:[{name:"Fall Back to Camp",duration:20,description:"Retreats to the last visited campfire.",onCompleted(e){const t=e.currentPath();let n=e.run.steps;for(;n>0&&t[n].type!=="rescue";)n-=1;e.run.steps=n,e.run.turns=Dn(n,e.run.turns).turns,e.local.destination=void 0},preventRepeat:!0,preventAutomation:!0,affectedBySpeedLevel:!1,peaceful:!0}]}},{name:"Bayla",cost:0,description:`
Bayla is a master of movement. She can change her position in the middle of a fight to best target the weak spots
of her enemies. She's great friends with the Desert Rabbit.
    `,abilities:[{name:"Battle Rhythm",duration:1,damage:10,tags:["sharp","fire","ice"],description:"A flight of small magical blades timed perfectly to find the weak spots of the enemy."}],super:{name:"Baylanda",description:`
Baylanda is a master choreographer. She can rearrange the band in the middle of a fight to best target the weak spots
of her enemies. She's great friends with the Desert Rabbit and likes to stick close to Azrekta.
`}},{name:"Kin of Pump",cost:0,description:`
People who shed all their fears and worries can become Kins of Pump. They still love others,
but never worry or care about their wellbeing. They are free to pursue their desires without shame.

The Kin you found in the dungeon came here to search for treasure. They do not help out with fighting
or taking care of the band. They are great at finding gold, though. All gold finds are doubled.
    `,passiveEffects:["Kin of Pump doubles the gold found after battles."],super:{name:"King of Pump",description:`
People who shed all their fears and worries can become Kins of Pump. They still love others,
but never worry or care about their wellbeing. They are free to pursue their desires without shame.

The Kin you found in the dungeon came here to search for treasure. They have now found a crown, and
started to act like a king. They still do not help, but all gold finds are now multiplied a hundredfold.
    `,passiveEffects:["King of Pump multiplies the gold found after battles a hundredfold."]}},{name:"Kevin",cost:0,description:`
Kevin is not so much a person as a phenomenon. When Kevin is present, all enemies are vulnerable to fire.
    `,super:{name:"Kevout",description:`
Kevout has cooled off a little. He has become focused and curious, drawing in everyone to exist in the moment.
When Kevout is present, even ethereal creatures are drawn into the material world.
    `}},{name:"Smiling Pilot",cost:0,description:`
Shapeshifters live in the shadows and avoid any chance of being exposed. Except for the Smiling Pilot,
who took on the shape of Carl the Twelfth, king of the Froglands. Nobody is sure how long this
ruse lasted, and which of the decrees were written by the Smiling Pilot.

Chased by assassins from the Froglands, the Smiling Pilot eventually took refuge in this treacherous dungeon.

As a member of your band, he copies the attacks of the two friends to his left and right.
    `,super:{name:"Smiling Wizard",description:`
Shapeshifters live in the shadows and avoid any chance of being exposed. Except for the Smiling Wizard,
who took on the shape of Carl the Twelfth, king of the Froglands. Nobody is sure how long this
ruse lasted, and which of the decrees were written by the Smiling Wizard.

Chased by assassins from the Froglands, the Smiling Wizard eventually took refuge in this treacherous dungeon.

Standing next to Azrekta, the Smiling Wizard takes her shape and copies her ability.
    `}},{name:"Mongreler",cost:0,description:"A collector of unusual pets. Mongreler can capture weakened enemies and deploy them on the battlefield.",passiveEffects:["Mongreler wants to capture enemies. Damage is reduced by 99% to avoid killing them."],super:{name:"Monster Juggler",description:`
A collector of unusual pets. Monster Juggler can capture weakened enemies and deploy them on the battlefield.
The captured enemies are kept even when the band retreats.
      `,passiveEffects:["Monster Juggler wants to capture enemies. Damage is reduced by 99% to avoid killing them."]}},{name:"Eighth Swimmer",cost:0,description:`
In the Landas Deserts the mages punish loud people by turning their bodies into water.
The Eighth Swimmer was one of these unlucky people. Imagine walking among thirsty people
everyday with a body made of water.

They found refuge in this dungeon and now in your band.
    `,abilities:[{name:"Flood",duration:10,damage:10,description:"A deceptively slow attack that cannot be dodged.",tags:["water","undodgeable"]}],super:{name:"Seventh Swimmer",abilities:[{name:"Flood",duration:10,damage:10,description:"A deceptively slow attack that fills up the battlefield. No attacks can be dodged while the flood is in progress.",tags:["water","undodgeable"]}]}},{name:"Pecquer",cost:0,description:`
Pecquer is a veteran mercenary from the thirty kingdoms. The warriors he fought besides sing songs of his bravery.
    `,abilities:[{name:"Sneak Past",duration:6,hidden:e=>e.run.skips>=1||!!e.currentRoom().end,description:e=>`
Pecquer leads the band fearlessly past the enemy.

Uses left: ${J(1-e.run.skips)}`,onCompleted(e){e.run.skips+=1;const t=e.currentRoom().next,n=t?Object.keys(t):["Keep going"],r=n[Math.floor(Math.random()*n.length)];e.takeTurn(r)},preventRepeat:!0,preventAutomation:!0,affectedBySpeedLevel:!1}],super:{name:"Le Pecquer",abilities:[{name:"Sneak Past",duration:6,hidden:e=>e.run.skips>=2||!!e.currentRoom().end,description:e=>`
Le Pecquer leads the band fearlessly past the enemy.

Uses left: ${J(2-e.run.skips)}`,onCompleted(e){e.run.skips+=1;const t=e.currentRoom().next,n=t?Object.keys(t):["Keep going"],r=n[Math.floor(Math.random()*n.length)];e.takeTurn(r)},preventRepeat:!0,preventAutomation:!0,affectedBySpeedLevel:!1}]}},{name:"Hedge Lost",cost:0,description:"Hedge Lost is the only trader in the Hedge Market who is not originally a shrew.",abilities:[{name:"Buy Fruit",duration:1,consumes:{gold:10},description:"Buy a piece of fruit at the Hedge Market.",onCompleted(e,t){e.run.fruit+=e.fruitMultiplier()*t},peaceful:!0},{name:"Buy Sapling",duration:10,consumes:{gold:1e3},description:e=>`
Buy a fruit sapling at the Hedge Market.${e.run.saplings?`
(Currently ${J(e.run.saplings)} saplings producing
${J(e.run.saplings*e.fruitMultiplier(),' <img src="images/generated/fruit.webp" class="resource-icon" />')} per second.)`:""}`,onCompleted(e,t){e.run.saplings+=t},peaceful:!0}],super:{name:"Hedge Found",description:"Hedge Found is the only trader admitted to the Inner Hedge Market who is not originally a shrew.",abilities:[{name:"Buy Fruit",duration:1,consumes:{gold:10},description:"Buy a piece of fruit at the Hedge Market.",onCompleted(e,t){e.run.fruit+=e.fruitMultiplier()*t},peaceful:!0},{name:"Buy Sapling",duration:10,consumes:{gold:1e3},description:e=>`
Buy a fruit sapling at the Hedge Market.${e.run.saplings?`
(Currently ${J(e.run.saplings)} saplings producing
${J(e.run.saplings*e.fruitMultiplier(),' <img src="images/generated/fruit.webp" class="resource-icon" />')} per second.)`:""}`,onCompleted(e,t){e.run.saplings+=t},peaceful:!0},{name:"Crash the Market",duration:.1,consumes:e=>({saplings:Math.max(1,e.run.saplings)}),preventRepeat:!0,preventAutomation:!0,damage:e=>1e3*Math.max(1,e.run.saplings),description:"Destroy all saplings to set the Hedge Market on fire.",tags:["fire"]}]}},{name:"Zaktar Kadoque",cost:0,description:`
Zaktar Kadoque is an explorer from another world. He was not trapped in his cage at all,
rather he was examining it. He loves this dungeon and is very happy to have met your band.
He is particularly interested in the fruit you're holding.
    `,abilities:[{name:"Eat Fruit",duration:1,consumes:{fruit:1},description:`Do you have too much fruit? Zaktar Kadoque can eat the leftovers.

Only works with fruit acquired on this run.`,onCompleted(e,t){e.run.weaponLevelAdded+=t},peaceful:!0}],super:{name:"Zaktar Kadoque Karr",description:"Zaktar finds great joy in exposure to Azrekta's magic. His appetite for new experiences knows no bounds.",abilities:[{name:"Eat Fruit",duration:1,consumes:e=>({fruit:Math.round(e.weaponLevel()**Ii)}),description:`Do you have too much fruit? Zaktar Kadoque Karr can eat the leftovers.

Only works with fruit acquired on this run.`,onCompleted(e){e.run.weaponLevelAdded+=e.weaponLevel()},preventRepeat:!0,peaceful:!0}]}},{name:"Xaranthian Constructor",cost:0,description:`
The Xaranthian Empire is said to be ruled by wise engineers who built powerful machines to ease their work.
But building such machines is hard work too, so the Xarantians built factories to produce mechanical turtles
that can build machines that can deploy other machines that can grow further machines.

The Xaranthian factories in turn are built by Xaranthian Constructors. This one has never seen
a Xaranthian person, and neither has anyone else in your band.
    `,abilities:[{name:"Construct Grower",consumes:{gold:1e3},duration:16,description:e=>`Construct a mechanical grower.${e.run.room.xaranthian.growers?` (Currently ${J(e.run.room.xaranthian.growers)} growers.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.growers+=t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Grow Gun",consumes:{gold:100},hidden:e=>e.run.room.xaranthian.growers!==1,duration:16,description:e=>`Grow a mechanical gun.${e.run.room.xaranthian.guns?` (Currently ${J(e.run.room.xaranthian.guns)} guns.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.guns+=e.run.room.xaranthian.growers*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Grow Guns",consumes:{gold:100},hidden:e=>e.run.room.xaranthian.growers<2,duration:16,description:e=>`Grow ${J(e.run.room.xaranthian.growers)} mechanical guns.${e.run.room.xaranthian.guns?` (Currently ${J(e.run.room.xaranthian.guns)} guns.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.guns+=e.run.room.xaranthian.growers*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Fire Xaranthian Gun",hidden:e=>e.run.room.xaranthian.guns!==1,duration:16,description:"Fire the mechanical gun.",tags:["ranged"],damage:1},{name:"Fire Xaranthian Guns",hidden:e=>e.run.room.xaranthian.guns<2,duration:16,description:e=>`Fire ${J(e.run.room.xaranthian.guns)} mechanical guns.`,tags:["ranged"],damage:e=>e.run.room.xaranthian.guns}],super:{name:"Xaranthian Power Constructor",abilities:[{name:"Construct Factory",consumes:{gold:1e6},duration:16,description:e=>`Build a factory for producing mechanical turtles.${e.run.room.xaranthian.factories?` (Currently ${J(e.run.room.xaranthian.factories)} factories.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.factories+=t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Produce Turtle",consumes:{gold:1e5},hidden:e=>e.run.room.xaranthian.factories!==1,duration:16,description:e=>`Build a mechanical turtle in the factory.${e.run.room.xaranthian.turtles?` (Currently ${J(e.run.room.xaranthian.turtles)} turtles.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.turtles+=e.run.room.xaranthian.factories*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Produce Turtles",consumes:{gold:1e5},hidden:e=>e.run.room.xaranthian.factories<2,duration:16,description:e=>`Build ${J(e.run.room.xaranthian.factories)} mechanical turtles in the factories.${e.run.room.xaranthian.turtles?` (Currently ${J(e.run.room.xaranthian.turtles)} turtles.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.turtles+=e.run.room.xaranthian.factories*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Build Deployer",consumes:{gold:1e4},hidden:e=>e.run.room.xaranthian.turtles!==1,duration:16,description:e=>`Build a deployer from the mechanical turtle.${e.run.room.xaranthian.deployers?` (Currently ${J(e.run.room.xaranthian.deployers)} deployers.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.deployers+=e.run.room.xaranthian.turtles*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Build Deployers",consumes:{gold:1e4},hidden:e=>e.run.room.xaranthian.turtles<2,duration:16,description:e=>`Build ${J(e.run.room.xaranthian.turtles)} deployers from the mechanical turtles.${e.run.room.xaranthian.deployers?` (Currently ${J(e.run.room.xaranthian.deployers)} deployers.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.deployers+=e.run.room.xaranthian.turtles*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Deploy Grower",consumes:{gold:1e3},hidden:e=>e.run.room.xaranthian.deployers!==1,duration:16,description:e=>`Deploy a mechanical grower.${e.run.room.xaranthian.growers?` (Currently ${J(e.run.room.xaranthian.growers)} growers.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.growers+=e.run.room.xaranthian.deployers*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Deploy Growers",consumes:{gold:1e3},hidden:e=>e.run.room.xaranthian.deployers<2,duration:16,description:e=>`Deploy ${J(e.run.room.xaranthian.deployers)} mechanical growers.${e.run.room.xaranthian.growers?` (Currently ${J(e.run.room.xaranthian.growers)} growers.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.growers+=e.run.room.xaranthian.deployers*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Grow Gun",consumes:{gold:100},hidden:e=>e.run.room.xaranthian.growers!==1,duration:16,description:e=>`Grow a mechanical gun.${e.run.room.xaranthian.guns?` (Currently ${J(e.run.room.xaranthian.guns)} guns.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.guns+=e.run.room.xaranthian.growers*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Grow Guns",consumes:{gold:100},hidden:e=>e.run.room.xaranthian.growers<2,duration:16,description:e=>`Grow ${J(e.run.room.xaranthian.growers)} mechanical guns.${e.run.room.xaranthian.guns?` (Currently ${J(e.run.room.xaranthian.guns)} guns.)`:""}`,onCompleted(e,t){e.run.room.xaranthian.guns+=e.run.room.xaranthian.growers*t},preventAutomation:!0,affectedBySpeedLevel:!1},{name:"Fire Xaranthian Gun",hidden:e=>e.run.room.xaranthian.guns!==1,duration:16,description:"Fire the mechanical gun.",tags:["ranged"],damage:1},{name:"Fire Xaranthian Guns",hidden:e=>e.run.room.xaranthian.guns<2,duration:16,description:e=>`Fire ${J(e.run.room.xaranthian.guns)} mechanical guns.`,tags:["ranged"],damage:e=>e.run.room.xaranthian.guns}]}}],dd={"Stick Master":1,"The Silent Song":2,"Lord of Gears":3,Lamplighter:4,"Kin of Pump":5,"Dark Chef":6,Anvilomancer:7,Wayfinder:8,Pecquer:9,"Friend of Metal":10,"Desert Rabbit":11,"Royal Fruitbearer":12,"Smiling Pilot":13,"Knight of Claws":14,Kevin:15,"Hedge Lost":16,Bayla:17,"Eighth Swimmer":18,Mongreler:19,Coldblade:20,"Kit Flash":21,"Xaranthian Constructor":22,Azrekta:23,"Pur Lion":24,"Zaktar Kadoque":25},ye={},fr={},gn={};for(const e of Da){ye[e.name]=e,e.cost=dd[e.name],e.descriptionHtml=ee(e.description??""),e.super?.name&&(ye[e.super.name]={...e,...e.super},e.super.description&&(e.super.descriptionHtml=ee(e.super.description)));for(const t of e.abilities??[])gn[t.name]=e.name,fr[t.name]=t}function Di(e){if(e.name==="Claws & Thorns")return 100;if(e.name==="Poison Strike")return 1;if(typeof e.damage=="number")return e.damage;throw new Error(`Ability ${e.name} does not have a numeric damage value.`)}const Pi=["Battle Rhythm","Claws & Thorns","Flood","Glacial Strike","Illuminate","Poison Strike","Steel Jab","Wooden Stick"];ye["Smiling Pilot"].abilities=[];for(const e of Pi){const t=fr[e];if(typeof t.duration!="number")continue;const n=Di(t);for(const r of Pi){if(e>=r)continue;const s=fr[r];if(typeof s.duration!="number")continue;const i=Di(s),o={name:`Combined ${t.name} and ${s.name}`,tags:[...t.tags??[],...s.tags??[]],duration:Math.sqrt(t.duration*s.duration),damage:Math.sqrt(n*i),description:`Smiling Pilot has copied this from ${gn[e]} and ${gn[r]}.`,hidden(a){const l=a.onboard("Smiling Pilot"),c=a.onboard(gn[e]),u=a.onboard(gn[r]);return!l||!c||!u||c.row!==l.row||u.row!==l.row?!0:Math.abs(c.col-l.col)>1||Math.abs(u.col-l.col)>1}};o.tags?.includes("poison")&&(o.onCompleted=(a,l,c)=>{const u=a.abilityEffects(c),f=u.rndHits(l);a.addPoison(c.damage*u.damageMultiplier,f)}),ye["Smiling Pilot"].abilities.push(o)}}const fd={"Combined Glacial Strike and Wooden Stick":"Glacial Stick","Combined Glacial Strike and Steel Jab":"Glacial Jab","Combined Glacial Strike and Illuminate":"Illuminated Glacier","Combined Steel Jab and Wooden Stick":"Wooden Jab","Combined Illuminate and Wooden Stick":"Illuminated Stick","Combined Illuminate and Steel Jab":"Illuminated Jab","Combined Battle Rhythm and Wooden Stick":"Wooden Rhythm","Combined Battle Rhythm and Glacial Strike":"Glacial Rhythm","Combined Battle Rhythm and Steel Jab":"Steel Rhythm","Combined Battle Rhythm and Illuminate":"Illuminated Rhythm","Combined Battle Rhythm and Flood":"Flooded Rhythm","Combined Flood and Wooden Stick":"Flooded Stick","Combined Flood and Glacial Strike":"Glacial Flood","Combined Flood and Steel Jab":"Flooded Jab","Combined Flood and Illuminate":"Illuminated Flood","Combined Claws & Thorns and Wooden Stick":"Claws & Stick","Combined Claws & Thorns and Glacial Strike":"Glacial Claws","Combined Claws & Thorns and Steel Jab":"Claws & Jab","Combined Claws & Thorns and Illuminate":"Illuminated Claws & Thorns","Combined Claws & Thorns and Flood":"Claws & Flood","Combined Battle Rhythm and Claws & Thorns":"Claws & Rhythm","Combined Glacial Strike and Poison Strike":"Glacial Poison","Combined Illuminate and Poison Strike":"Illuminated Poison","Combined Battle Rhythm and Poison Strike":"Poison Rhythm","Combined Flood and Poison Strike":"Poison Flood","Combined Claws & Thorns and Poison Strike":"Claws & Poison","Combined Poison Strike and Wooden Stick":"Wooden Poison","Combined Poison Strike and Steel Jab":"Steel Poison"};for(const e of ye["Smiling Pilot"].abilities)e.image=e.name,e.name=fd[e.name],fr[e.name]=e;function Gr(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,[])).next())})}function pd(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}class be extends Error{constructor(t,n=0,r="",s=""){super(t),this.name="AppwriteException",this.message=t,this.code=n,this.type=r,this.response=s}}class mt{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:"",devkey:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"18.1.1","X-Appwrite-Response-Format":"1.7.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window?.setInterval(()=>{var t;(t=this.realtime.socket)===null||t===void 0||t.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var t,n,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(t=this.realtime.socket)===null||t===void 0||t.close();return}const s=new URLSearchParams;s.set("project",this.config.project),this.realtime.channels.forEach(o=>{s.append("channels[]",o)});const i=this.config.endpointRealtime+"/realtime?"+s.toString();(i!==this.realtime.url||!this.realtime.socket||((n=this.realtime.socket)===null||n===void 0?void 0:n.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=i,this.realtime.socket=new WebSocket(i),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",o=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",o=>{var a,l,c;if(!this.realtime.reconnect||((l=(a=this.realtime)===null||a===void 0?void 0:a.lastMessage)===null||l===void 0?void 0:l.type)==="error"&&((c=this.realtime)===null||c===void 0?void 0:c.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const u=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${u/1e3} seconds.`,o.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},u)}))},onMessage:t=>{var n,r;try{const s=JSON.parse(t.data);switch(this.realtime.lastMessage=s,s.type){case"connected":const i=JSON.parse((n=window.localStorage.getItem("cookieFallback"))!==null&&n!==void 0?n:"{}"),o=i?.[`a_session_${this.config.project}`],a=s.data;o&&!a.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:o}})));break;case"event":let l=s.data;if(l?.channels){if(!l.channels.some(u=>this.realtime.channels.has(u)))return;this.realtime.subscriptions.forEach(u=>{l.channels.some(f=>u.channels.includes(f))&&setTimeout(()=>u.callback(l))})}break;case"pong":break;case"error":throw s.data;default:break}}catch(s){console.error(s)}},cleanUp:t=>{this.realtime.channels.forEach(n=>{t.includes(n)&&(Array.from(this.realtime.subscriptions).some(([s,i])=>i.channels.includes(n))||this.realtime.channels.delete(n))})}}}setEndpoint(t){if(!t.startsWith("http://")&&!t.startsWith("https://"))throw new be("Invalid endpoint URL: "+t);return this.config.endpoint=t,this.config.endpointRealtime=t.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(t){if(!t.startsWith("ws://")&&!t.startsWith("wss://"))throw new be("Invalid realtime endpoint URL: "+t);return this.config.endpointRealtime=t,this}setProject(t){return this.headers["X-Appwrite-Project"]=t,this.config.project=t,this}setJWT(t){return this.headers["X-Appwrite-JWT"]=t,this.config.jwt=t,this}setLocale(t){return this.headers["X-Appwrite-Locale"]=t,this.config.locale=t,this}setSession(t){return this.headers["X-Appwrite-Session"]=t,this.config.session=t,this}setDevKey(t){return this.headers["X-Appwrite-Dev-Key"]=t,this.config.devkey=t,this}subscribe(t,n){let r=typeof t=="string"?[t]:t;r.forEach(i=>this.realtime.channels.add(i));const s=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(s,{channels:r,callback:n}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(s),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(t,n,r={},s={}){if(t=t.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const o=window.localStorage.getItem("cookieFallback");o&&(r["X-Fallback-Cookies"]=o)}let i={method:t,headers:r};if(r["X-Appwrite-Dev-Key"]===void 0&&(i.credentials="include"),t==="GET")for(const[o,a]of Object.entries(mt.flatten(s)))n.searchParams.append(o,a);else switch(r["content-type"]){case"application/json":i.body=JSON.stringify(s);break;case"multipart/form-data":const o=new FormData;for(const[a,l]of Object.entries(s))if(l instanceof File)o.append(a,l,l.name);else if(Array.isArray(l))for(const c of l)o.append(`${a}[]`,c);else o.append(a,l);i.body=o,delete r["content-type"];break}return{uri:n.toString(),options:i}}chunkedUpload(t,n,r={},s={},i){return Gr(this,void 0,void 0,function*(){const o=Object.values(s).find(c=>c instanceof File);if(!o)throw new Error("File not found in payload");if(o.size<=mt.CHUNK_SIZE)return yield this.call(t,n,r,s);let a=0,l=null;for(;a<o.size;){let c=a+mt.CHUNK_SIZE;c>=o.size&&(c=o.size),r["content-range"]=`bytes ${a}-${c-1}/${o.size}`;const u=o.slice(a,c);let f=Object.assign(Object.assign({},s),{file:new File([u],o.name)});l=yield this.call(t,n,r,f),i&&typeof i=="function"&&i({$id:l.$id,progress:Math.round(c/o.size*100),sizeUploaded:c,chunksTotal:Math.ceil(o.size/mt.CHUNK_SIZE),chunksUploaded:Math.ceil(c/mt.CHUNK_SIZE)}),l&&l.$id&&(r["x-appwrite-id"]=l.$id),a=c}return l})}ping(){return Gr(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(t,n,r={},s={},i="json"){var o,a;return Gr(this,void 0,void 0,function*(){const{uri:l,options:c}=this.prepareRequest(t,n,r,s);let u=null;const f=yield fetch(l,c);if(f.type==="opaque")throw new be(`Invalid Origin. Register your new client (${window.location.host}) as a new Web platform on your project console dashboard`,403,"forbidden","");const b=f.headers.get("x-appwrite-warning");if(b&&b.split(";").forEach(h=>console.warn("Warning: "+h)),!((o=f.headers.get("content-type"))===null||o===void 0)&&o.includes("application/json")?u=yield f.json():i==="arrayBuffer"?u=yield f.arrayBuffer():u={message:yield f.text()},400<=f.status){let h="";throw!((a=f.headers.get("content-type"))===null||a===void 0)&&a.includes("application/json")||i==="arrayBuffer"?h=JSON.stringify(u):h=u?.message,new be(u?.message,f.status,u?.type,h)}const v=f.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&v&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",v)),u})}static flatten(t,n=""){let r={};for(const[s,i]of Object.entries(t)){let o=n?n+"["+s+"]":s;Array.isArray(i)?r=Object.assign(Object.assign({},r),mt.flatten(i,o)):r[o]=i}return r}}mt.CHUNK_SIZE=1024*1024*5;class hd{constructor(t){this.client=t}listDocuments(t,n,r){if(typeof t>"u")throw new be('Missing required parameter: "databaseId"');if(typeof n>"u")throw new be('Missing required parameter: "collectionId"');const s="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",t).replace("{collectionId}",n),i={};typeof r<"u"&&(i.queries=r);const o=new URL(this.client.config.endpoint+s),a={};return this.client.call("get",o,a,i)}createDocument(t,n,r,s,i){if(typeof t>"u")throw new be('Missing required parameter: "databaseId"');if(typeof n>"u")throw new be('Missing required parameter: "collectionId"');if(typeof r>"u")throw new be('Missing required parameter: "documentId"');if(typeof s>"u")throw new be('Missing required parameter: "data"');const o="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",t).replace("{collectionId}",n),a={};typeof r<"u"&&(a.documentId=r),typeof s<"u"&&(a.data=s),typeof i<"u"&&(a.permissions=i);const l=new URL(this.client.config.endpoint+o),c={"content-type":"application/json"};return this.client.call("post",l,c,a)}getDocument(t,n,r,s){if(typeof t>"u")throw new be('Missing required parameter: "databaseId"');if(typeof n>"u")throw new be('Missing required parameter: "collectionId"');if(typeof r>"u")throw new be('Missing required parameter: "documentId"');const i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",n).replace("{documentId}",r),o={};typeof s<"u"&&(o.queries=s);const a=new URL(this.client.config.endpoint+i),l={};return this.client.call("get",a,l,o)}upsertDocument(t,n,r,s,i){if(typeof t>"u")throw new be('Missing required parameter: "databaseId"');if(typeof n>"u")throw new be('Missing required parameter: "collectionId"');if(typeof r>"u")throw new be('Missing required parameter: "documentId"');if(typeof s>"u")throw new be('Missing required parameter: "data"');const o="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",n).replace("{documentId}",r),a={};typeof s<"u"&&(a.data=s),typeof i<"u"&&(a.permissions=i);const l=new URL(this.client.config.endpoint+o),c={"content-type":"application/json"};return this.client.call("put",l,c,a)}updateDocument(t,n,r,s,i){if(typeof t>"u")throw new be('Missing required parameter: "databaseId"');if(typeof n>"u")throw new be('Missing required parameter: "collectionId"');if(typeof r>"u")throw new be('Missing required parameter: "documentId"');const o="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",n).replace("{documentId}",r),a={};typeof s<"u"&&(a.data=s),typeof i<"u"&&(a.permissions=i);const l=new URL(this.client.config.endpoint+o),c={"content-type":"application/json"};return this.client.call("patch",l,c,a)}deleteDocument(t,n,r){if(typeof t>"u")throw new be('Missing required parameter: "databaseId"');if(typeof n>"u")throw new be('Missing required parameter: "collectionId"');if(typeof r>"u")throw new be('Missing required parameter: "documentId"');const s="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",n).replace("{documentId}",r),i={},o=new URL(this.client.config.endpoint+s),a={"content-type":"application/json"};return this.client.call("delete",o,a,i)}}var Pa,Ba;class Bn{static custom(t){return t}static unique(t=7){const n=pd(Bn,Pa,"m",Ba).call(Bn);let r="";for(let s=0;s<t;s++){const i=Math.floor(Math.random()*16).toString(16);r+=i}return n+r}}Pa=Bn,Ba=function(){const t=new Date,n=Math.floor(t.getTime()/1e3),r=t.getMilliseconds();return n.toString(16)+r.toString(16).padStart(5,"0")};var Bi;(function(e){e.Totp="totp"})(Bi||(Bi={}));var Ni;(function(e){e.Email="email",e.Phone="phone",e.Totp="totp",e.Recoverycode="recoverycode"})(Ni||(Ni={}));var Oi;(function(e){e.Amazon="amazon",e.Apple="apple",e.Auth0="auth0",e.Authentik="authentik",e.Autodesk="autodesk",e.Bitbucket="bitbucket",e.Bitly="bitly",e.Box="box",e.Dailymotion="dailymotion",e.Discord="discord",e.Disqus="disqus",e.Dropbox="dropbox",e.Etsy="etsy",e.Facebook="facebook",e.Figma="figma",e.Github="github",e.Gitlab="gitlab",e.Google="google",e.Linkedin="linkedin",e.Microsoft="microsoft",e.Notion="notion",e.Oidc="oidc",e.Okta="okta",e.Paypal="paypal",e.PaypalSandbox="paypalSandbox",e.Podio="podio",e.Salesforce="salesforce",e.Slack="slack",e.Spotify="spotify",e.Stripe="stripe",e.Tradeshift="tradeshift",e.TradeshiftBox="tradeshiftBox",e.Twitch="twitch",e.Wordpress="wordpress",e.Yahoo="yahoo",e.Yammer="yammer",e.Yandex="yandex",e.Zoho="zoho",e.Zoom="zoom",e.Mock="mock"})(Oi||(Oi={}));var Hi;(function(e){e.AvantBrowser="aa",e.AndroidWebViewBeta="an",e.GoogleChrome="ch",e.GoogleChromeIOS="ci",e.GoogleChromeMobile="cm",e.Chromium="cr",e.MozillaFirefox="ff",e.Safari="sf",e.MobileSafari="mf",e.MicrosoftEdge="ps",e.MicrosoftEdgeIOS="oi",e.OperaMini="om",e.Opera="op",e.OperaNext="on"})(Hi||(Hi={}));var zi;(function(e){e.AmericanExpress="amex",e.Argencard="argencard",e.Cabal="cabal",e.Cencosud="cencosud",e.DinersClub="diners",e.Discover="discover",e.Elo="elo",e.Hipercard="hipercard",e.JCB="jcb",e.Mastercard="mastercard",e.Naranja="naranja",e.TarjetaShopping="targeta-shopping",e.UnionChinaPay="union-china-pay",e.Visa="visa",e.MIR="mir",e.Maestro="maestro",e.Rupay="rupay"})(zi||(zi={}));var Wi;(function(e){e.Afghanistan="af",e.Angola="ao",e.Albania="al",e.Andorra="ad",e.UnitedArabEmirates="ae",e.Argentina="ar",e.Armenia="am",e.AntiguaAndBarbuda="ag",e.Australia="au",e.Austria="at",e.Azerbaijan="az",e.Burundi="bi",e.Belgium="be",e.Benin="bj",e.BurkinaFaso="bf",e.Bangladesh="bd",e.Bulgaria="bg",e.Bahrain="bh",e.Bahamas="bs",e.BosniaAndHerzegovina="ba",e.Belarus="by",e.Belize="bz",e.Bolivia="bo",e.Brazil="br",e.Barbados="bb",e.BruneiDarussalam="bn",e.Bhutan="bt",e.Botswana="bw",e.CentralAfricanRepublic="cf",e.Canada="ca",e.Switzerland="ch",e.Chile="cl",e.China="cn",e.CoteDIvoire="ci",e.Cameroon="cm",e.DemocraticRepublicOfTheCongo="cd",e.RepublicOfTheCongo="cg",e.Colombia="co",e.Comoros="km",e.CapeVerde="cv",e.CostaRica="cr",e.Cuba="cu",e.Cyprus="cy",e.CzechRepublic="cz",e.Germany="de",e.Djibouti="dj",e.Dominica="dm",e.Denmark="dk",e.DominicanRepublic="do",e.Algeria="dz",e.Ecuador="ec",e.Egypt="eg",e.Eritrea="er",e.Spain="es",e.Estonia="ee",e.Ethiopia="et",e.Finland="fi",e.Fiji="fj",e.France="fr",e.MicronesiaFederatedStatesOf="fm",e.Gabon="ga",e.UnitedKingdom="gb",e.Georgia="ge",e.Ghana="gh",e.Guinea="gn",e.Gambia="gm",e.GuineaBissau="gw",e.EquatorialGuinea="gq",e.Greece="gr",e.Grenada="gd",e.Guatemala="gt",e.Guyana="gy",e.Honduras="hn",e.Croatia="hr",e.Haiti="ht",e.Hungary="hu",e.Indonesia="id",e.India="in",e.Ireland="ie",e.IranIslamicRepublicOf="ir",e.Iraq="iq",e.Iceland="is",e.Israel="il",e.Italy="it",e.Jamaica="jm",e.Jordan="jo",e.Japan="jp",e.Kazakhstan="kz",e.Kenya="ke",e.Kyrgyzstan="kg",e.Cambodia="kh",e.Kiribati="ki",e.SaintKittsAndNevis="kn",e.SouthKorea="kr",e.Kuwait="kw",e.LaoPeopleSDemocraticRepublic="la",e.Lebanon="lb",e.Liberia="lr",e.Libya="ly",e.SaintLucia="lc",e.Liechtenstein="li",e.SriLanka="lk",e.Lesotho="ls",e.Lithuania="lt",e.Luxembourg="lu",e.Latvia="lv",e.Morocco="ma",e.Monaco="mc",e.Moldova="md",e.Madagascar="mg",e.Maldives="mv",e.Mexico="mx",e.MarshallIslands="mh",e.NorthMacedonia="mk",e.Mali="ml",e.Malta="mt",e.Myanmar="mm",e.Montenegro="me",e.Mongolia="mn",e.Mozambique="mz",e.Mauritania="mr",e.Mauritius="mu",e.Malawi="mw",e.Malaysia="my",e.Namibia="na",e.Niger="ne",e.Nigeria="ng",e.Nicaragua="ni",e.Netherlands="nl",e.Norway="no",e.Nepal="np",e.Nauru="nr",e.NewZealand="nz",e.Oman="om",e.Pakistan="pk",e.Panama="pa",e.Peru="pe",e.Philippines="ph",e.Palau="pw",e.PapuaNewGuinea="pg",e.Poland="pl",e.FrenchPolynesia="pf",e.NorthKorea="kp",e.Portugal="pt",e.Paraguay="py",e.Qatar="qa",e.Romania="ro",e.Russia="ru",e.Rwanda="rw",e.SaudiArabia="sa",e.Sudan="sd",e.Senegal="sn",e.Singapore="sg",e.SolomonIslands="sb",e.SierraLeone="sl",e.ElSalvador="sv",e.SanMarino="sm",e.Somalia="so",e.Serbia="rs",e.SouthSudan="ss",e.SaoTomeAndPrincipe="st",e.Suriname="sr",e.Slovakia="sk",e.Slovenia="si",e.Sweden="se",e.Eswatini="sz",e.Seychelles="sc",e.Syria="sy",e.Chad="td",e.Togo="tg",e.Thailand="th",e.Tajikistan="tj",e.Turkmenistan="tm",e.TimorLeste="tl",e.Tonga="to",e.TrinidadAndTobago="tt",e.Tunisia="tn",e.Turkey="tr",e.Tuvalu="tv",e.Tanzania="tz",e.Uganda="ug",e.Ukraine="ua",e.Uruguay="uy",e.UnitedStates="us",e.Uzbekistan="uz",e.VaticanCity="va",e.SaintVincentAndTheGrenadines="vc",e.Venezuela="ve",e.Vietnam="vn",e.Vanuatu="vu",e.Samoa="ws",e.Yemen="ye",e.SouthAfrica="za",e.Zambia="zm",e.Zimbabwe="zw"})(Wi||(Wi={}));var ji;(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE",e.OPTIONS="OPTIONS"})(ji||(ji={}));var Ki;(function(e){e.Center="center",e.Topleft="top-left",e.Top="top",e.Topright="top-right",e.Left="left",e.Right="right",e.Bottomleft="bottom-left",e.Bottom="bottom",e.Bottomright="bottom-right"})(Ki||(Ki={}));var Gi;(function(e){e.Jpg="jpg",e.Jpeg="jpeg",e.Png="png",e.Webp="webp",e.Heic="heic",e.Avif="avif"})(Gi||(Gi={}));const md="6840583c0004412239f1",Mr="6861bd350007aa692f7c",Ar="6861bd6900131d72be3d",Na=new mt().setEndpoint("https://fra.cloud.appwrite.io/v1").setProject(md),Os=new hd(Na);let qi=()=>{},Ui=null;async function Oa(e,t){if(e===Ui)return;qi(),Ui=e;const n=await gd(e);Vi(n,t),Ha(e,t.team),qi=Na.subscribe(`databases.${Mr}.collections.${Ar}.documents.${e}`,r=>{Vi(r.payload,t)})}function Vi(e,t){e.fruit>t.team.fruit&&(t.team.fruit=e.fruit),e.packs>t.team.packs&&(t.team.packs=e.packs),e.bestWeaponLevel>t.team.bestWeaponLevel&&(t.team.bestWeaponLevel=e.bestWeaponLevel);for(const n of e.unlocked)t.team.unlocked.includes(n)||t.team.unlocked.push(n);for(const n of e.discovered)t.team.discovered.includes(n)||t.team.discovered.push(n);e.name!==t.team.name&&(t.team.name=e.name)}async function gd(e){return await Os.getDocument(Mr,Ar,e,[])}async function bd(){return(await Os.createDocument(Mr,Ar,Bn.unique(),Ia())).$id}async function Ha(e,t){await Os.updateDocument(Mr,Ar,e,t)}function za(){return{damage:0,armorDamage:0,poison:0,kills:0,xaranthian:{factories:0,turtles:0,deployers:0,growers:0,guns:0}}}function Wa(){return{weaponLevelAdded:0,desertBlessingMultiplier:2,speedLevel:1,steps:0,turns:[],gold:0,fruit:0,saplings:0,skips:0,capturedMonsters:[],room:za(),timers:{},skipTime:0}}function yd(){return{width:5,height:5,12:"Stick Master"}}function wd(){return{blurImages:!1,online:!1,sound:!0}}function ja(){return{band:yd(),settings:wd()}}const Fi="3",vd=localStorage.getItem("bnb-version");vd!==Fi&&(localStorage.clear(),localStorage.setItem("bnb-version",Fi),window.location.reload());const Yi=localStorage.getItem("bnb-run"),ds=on(Yi?JSON.parse(Yi):Wa());ds.capturedMonsters||(ds.capturedMonsters=[]);const Ji=localStorage.getItem("bnb-local"),kd=on(Ji?JSON.parse(Ji):ja()),Zi=localStorage.getItem("bnb-team"),xd=on(Zi?JSON.parse(Zi):Ia()),d={run:ds,local:kd,team:xd,startTimer(e,t){if(d.run.timers[e])return;const n=t.cost??{};n.gold??=0,n.fruit??=0,n.saplings??=0,!(d.run.gold<n.gold||d.run.fruit<n.fruit||d.run.saplings<n.saplings)&&(d.run.gold-=n.gold||0,d.run.fruit-=n.fruit||0,d.run.saplings-=n.saplings||0,d.run.timers[e]=t)},timerFinished(e,t,n){$d(e,t,n)},currentRoom(){return Ur.value.room??ke[0]},currentEnemy(){return Ur.value.enemy},currentPath(){return Ur.value.path??ke[0]},addDamage(e,t,n){return Sd(e,t,n)},addPoison(e,t){const n=(d.currentEnemy()?.armor??0)-d.run.room.armorDamage;d.run.room.poison+=Math.max(0,e-n)*t},bandByName(){return Nn.value},onboard(e){return X(e)},emptySpacesAround(e,t){const n=[];for(const[r,s]of[[e-1,t],[e+1,t],[e,t-1],[e,t+1]]){const i=s+r*d.local.band.width;d.available(r,s)&&!d.local.band[i]&&n.push({row:r,col:s})}return n},available(e,t){const n=Math.max(Math.abs(e-2),Math.abs(t-2));return qr()==="radius3"?n<=2:qr()==="radius2"?n<=1:n===0},lightRadius(){return qr()},getRewards(e){const t=e.rewards?.saplings??0;let n=e.rewards?.gold??0,r=(e.rewards?.fruit??0)*d.fruitMultiplier();return X("King of Pump")?n*=100:X("Kin of Pump")&&(n*=2),X("Royal Fruitwearer")&&(r+=n,n=0),{gold:n,fruit:r,saplings:t}},fruitMultiplier(){const e=Object.keys(Nn.value).length;let t=1;return X("Royal Fruitbearer")&&(t*=e*(e-1)),t},takeTurn(e){return _d(e)},abilityEffects(e){return js(e)},weaponLevel(){return X("Anvilominator")?d.team.bestWeaponLevel+d.run.weaponLevelAdded:Math.floor(Math.sqrt(d.team.bestWeaponLevel))+d.run.weaponLevelAdded}};function qr(){return qe(2,2)?.name==="Lamplighter"?vt("Azrekta",2,2)?"radius3":"radius2":"radius1"}Ye(d.run,e=>{localStorage.setItem("bnb-run",JSON.stringify(e))},{deep:!0});Ye(d.local,e=>{localStorage.setItem("bnb-local",JSON.stringify(e)),d.local.settings.online&&d.local.settings.teamId&&Oa(d.local.settings.teamId,d)},{deep:!0});d.local.settings.online&&d.local.settings.teamId&&Oa(d.local.settings.teamId,d);Ye(d.team,e=>{localStorage.setItem("bnb-team",JSON.stringify(e)),d.local.settings.online&&d.local.settings.teamId&&Ha(d.local.settings.teamId,e)},{deep:!0});const Ur=le(()=>{const e=Dn(d.run.steps,d.run.turns).path,t=e[e.length-1],n=["combat","boss","finalboss"].includes(t.type)?ka.find(r=>r.name===t.name):void 0;return{path:e,room:t,enemy:n}});function Sd(e,t,n){const r=d.currentEnemy();if(!r||d.run.room.damage>=r.health)return;let s=e;const i=X("Mongreler");if(i&&(s=Math.floor(s/100)),n?.ignoreArmor||(s-=(r.armor??0)-d.run.room.armorDamage),!(s<0)&&(d.run.room.damage+=s*t,d.run.room.damage>=r.health))if(d.run.room.kills+=1,(r.count??1)-d.run.room.kills>0)d.run.room.damage=0,d.run.room.armorDamage=0,d.run.room.poison=0;else{if(!window.location.search.includes("test")){const l=r.name==="Skelemasterion"?2e3:1e3;d.run.timers.celebrating={duration:l,cost:{gold:0,fruit:0,saplings:0}}}d.run.room.damage=r.health,d.run.room.poison=0;const a=d.getRewards(r);d.run.gold+=a.gold,d.run.fruit+=a.fruit,i&&(d.run.capturedMonsters.includes(r.name)||d.run.capturedMonsters.push(r.name))}}function _d(e){d.run.room=za(),d.run.steps+=1,e!==Ks.title&&d.run.turns.push(e);let t=Dn(d.run.steps,d.run.turns).path,n=t[t.length-1];for(;n.type==="none"&&!n.next;)d.run.steps+=1,t=Dn(d.run.steps,d.run.turns).path,n=t[t.length-1];d.team.discovered.includes(Je(n))||d.team.discovered.push(Je(n))}function Ka(e,t){let n=e.description;if(typeof n=="function"&&(n=n(d,e)),e.damage){const r=Math.floor(qa(e)*t.baseMultiplier),s=t.enemyMultiplier!==1?`${Ee(t.enemyMultiplier)} × ${Ee(r)}`:Ee(r);n+=`

<span class="numbers">${s}</span> damage`}return n}const fs=le(()=>X("Kevout")||d.run.timers["ability-Pierce the Veil"]?!1:X("Azrekta")||d.currentEnemy()?.ethereal);function Hs(e){return typeof e.duration=="function"?e.duration(d):e.duration}function zs(e){const t={gold:0,fruit:0,saplings:0};return e.consumes?typeof e.consumes=="function"?{...t,...e.consumes(d)}:{...t,...e.consumes}:t}function Ws(e){return e.tags?e.source&&vt("Campfinder",e.source.row,e.source.col)?["fire"]:e.tags:[]}function js(e){const t=Ws(e),n=X("Seventh Swimmer")&&d.run.timers["ability-Flood"],r=d.run.timers["monster-Lost Swimmer-ability-Flood"],s=t.includes("undodgeable")||n||r;let i=1;const o=d.currentEnemy();if(!s&&o?.dodge){const c=Hs(e)/d.run.speedLevel,u=Math.min(1,c/o.dodge);i*=1-u}!s&&fs.value&&(i*=.1);let a=1;a*=d.weaponLevel(),(X("The Silent Quartet")||e.source&&vt("The Silent Song",e.source.row,e.source.col))&&(a*=2);let l=1;if(o&&d.run.room.damage<o.health){const c=Ga(o);for(const u of o.immune??[])t.includes(u)&&!c.includes(u)&&(l*=0);if(X("Desert Rabbit"))for(const u of c){t.includes(u)&&(l*=d.run.desertBlessingMultiplier);const f=X("Lamplighter");!f||!e.source||(u==="left"&&e.source.col<f.col||u==="right"&&e.source.col>f.col||u==="front"&&e.source.row<f.row||u==="back"&&e.source.row>f.row)&&(l*=d.run.desertBlessingMultiplier)}}return{damageMultiplier:a*l,baseMultiplier:a,enemyMultiplier:l,hitChance:i,rndHits:c=>Td(c,i)}}function Td(e,t){if(t>=1)return e;if(e<10){let a=0;for(let l=0;l<e;l++)Math.random()<t&&(a+=1);return a}const n=e*t,r=Math.sqrt(e*t*(1-t)),s=Math.random(),i=Math.random(),o=Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*i);return Math.max(0,Math.min(e,Math.round(n+o*r)))}function Ga(e){if(!e)return[];const t=e.weaknesses??[];return X("Kevin")&&!X("Kevout")&&!t.includes("fire")?[...t,"fire"]:t}function qa(e){if(!e.damage)return 0;let t=e.damage;return typeof t=="function"&&(t=t(d)),t}function Cd(e){if(e.startsWith("ability-"))return Va.value.find(t=>`ability-${t.name}`===e);if(e.startsWith("monster-")){const t=/monster-(.*)-ability-(.*)/.exec(e);if(!t)return;const[,n,r]=t;return Pn[n]?.abilities?.find(s=>s.name===r)}}function $d(e,t,n){if(delete d.run.timers[e],e==="rescue-unlock")return Ed();if(e==="wayfinder-turn"&&Xt.value?.title){Md(Xt.value.title),d.startTimer(e,t);return}const r=Cd(e);if(!r)return;let s=n;r.preventRepeat?s=1:(t.cost?.gold&&(s=Math.min(s,1+Math.floor(d.run.gold/t.cost.gold))),t.cost?.fruit&&(s=Math.min(s,1+Math.floor(d.run.fruit/t.cost.fruit))),t.cost?.saplings&&(s=Math.min(s,1+Math.floor(d.run.saplings/t.cost.saplings))),t.cost?.gold&&(d.run.gold-=t.cost.gold*(s-1)),t.cost?.fruit&&(d.run.fruit-=t.cost.fruit*(s-1)),t.cost?.saplings&&(d.run.saplings-=t.cost.saplings*(s-1))),s&&r&&Ad(r,s),t.automatic&&(t.duration=Hs(r)*1e3,t.cost=zs(r),d.startTimer(e,t))}const Ks={title:"Keep going",description:"Continue exploring the dungeon."},Xt=le(()=>{const e=X("Wayfinder");if(d.run.steps===0||!e||!d.local.destination)return;const t=d.currentRoom();if(Je(t)===d.local.destination&&e.row<2)return{title:"Retreat",description:"The Wayfinder leads you back to the beginning."};if(t.end)return;const n=ya(d.local.destination);if(n.length<=d.run.steps+1)return;if(!t.next)return Je(t)===Je(n[d.run.steps])?Ks:void 0;const r=n[d.run.steps+1];for(const[s,i]of Object.entries(t.next))if(r.label===i.label)return{title:s,description:i.description}});function Md(e){e==="Retreat"?(Ua(),d.takeTurn("Enter the Dungeon")):d.takeTurn(e)}function Ua(){d.run.fruit&&(d.team.fruit+=d.run.fruit),d.weaponLevel()>d.team.bestWeaponLevel&&(d.team.bestWeaponLevel=d.weaponLevel());const e=d.run.capturedMonsters;Object.assign(d.run,Wa()),X("Monster Juggler")&&(d.run.capturedMonsters=e)}const Va=le(()=>{const e=[],t=!!X("Gear of Lords"),n=d.local.band;for(let r=0;r<n.height;r++)for(let s=0;s<n.width;s++){const i=s+r*n.width,o=ye[n[i]];if(!o)continue;const a=t||!!vt("Lord of Gears",r,s),c=vt("Azrekta",r,s)&&o.super?.abilities||o.abilities||[];for(const u of c)u.hidden?.(d)||e.push({...u,automatic:a&&!u.preventAutomation,source:{name:o.name,row:r,col:s}})}return e});function Ad(e,t){if(e.onCompleted)return e.onCompleted(d,t,e);if(e.damage){const n=js(e),r=n.rndHits(t),s=qa(e);d.addDamage(Math.floor(s*n.damageMultiplier),r,{ignoreArmor:e.tags?.includes("dark")})}}const Nn=le(()=>{const e={};for(let n=0;n<d.local.band.height;n++)for(let r=0;r<d.local.band.width;r++){const s=r+n*d.local.band.width,i=d.local.band[s];i&&(e[i]={name:i,row:n,col:r})}function t(n){if(n)for(const[r,s]of[[n.row-1,n.col],[n.row+1,n.col],[n.row,n.col-1],[n.row,n.col+1]]){const i=s+r*d.local.band.width,o=d.local.band[i];if(!o)continue;const a=ye[o];a?.super?.name&&(delete e[a.name],e[a.super.name]={name:a.super.name,row:r,col:s})}}return t(e.Azrekta),t(e["Smiling Wizard"]),e});function qe(e,t){return ye[d.local.band[t+e*d.local.band.width]]}function vt(e,t,n){const r=e==="Azrekta"&&vt("Smiling Wizard",t,n);if(r)return r;const s=Nn.value[e];return s&&Math.abs(s.row-t)+Math.abs(s.col-n)===1?[s.row,s.col]:null}function X(e){const t=ye[e].super?.name;return Nn.value[e]||t&&Nn.value[t]}const pr=le(()=>{const e=d.currentRoom();if(e?.type==="rescue"&&e.name)return ye[e.name]}),Xi=le(()=>{const e=pr.value;return e&&!d.team.unlocked.includes(e.name)}),at=He(null);function Ed(){const e=pr.value;e&&(d.team.unlocked.includes(e.name)||(d.team.unlocked.push(e.name),at.value=e))}Ye(()=>d.run.steps,()=>{at.value&&d.currentRoom().name!==at.value.name&&(at.value=null)});const Rd={class:"numbers"},lt=ze({__name:"Num",props:{amount:{}},setup(e){const t=e;return(n,r)=>(S(),$("span",Rd,[F(ae(T(Ee)(t.amount))+" ",1),iu(n.$slots,"default")]))}}),Er=ze({__name:"Fruit",props:{amount:{}},setup(e){const t=e;return(n,r)=>(S(),Me(lt,{amount:t.amount},{default:St(()=>r[0]||(r[0]=[w("img",{src:ga,class:"resource-icon"},null,-1)])),_:1,__:[0]},8,["amount"]))}}),Fa=ze({__name:"Gold",props:{amount:{}},setup(e){const t=e;return(n,r)=>(S(),Me(lt,{amount:t.amount},{default:St(()=>r[0]||(r[0]=[w("img",{src:ha,class:"resource-icon"},null,-1)])),_:1,__:[0]},8,["amount"]))}}),Ld=ze({__name:"Saplings",props:{amount:{}},setup(e){const t=e;return(n,r)=>(S(),Me(lt,{amount:t.amount},{default:St(()=>r[0]||(r[0]=[w("img",{src:ma,class:"resource-icon"},null,-1)])),_:1,__:[0]},8,["amount"]))}}),Id=["src"],Dd={class:"tags"},Pd={class:"text"},Bd={class:"title"},Nd=["innerHTML"],Od={key:3,class:"duration numbers"},Hd=ze({__name:"SlowButton",props:{timerKey:{type:String,required:!1},title:{type:String,required:!0},tags:{type:Array,required:!1},image:{type:String,required:!0},duration:{type:Number,required:!1},displayDuration:{type:Number,required:!1},description:{type:String,required:!1},autostart:{type:Boolean,default:!1},affectedBySpeedLevel:{type:Boolean,default:!1},cost:{type:Object,default:()=>({gold:0,fruit:0,saplings:0})}},setup(e){const t=e;function n(){!t.timerKey||!t.duration||d.startTimer(t.timerKey,{duration:t.duration,cost:t.cost,automatic:t.autostart||a.value,affectedBySpeedLevel:t.affectedBySpeedLevel})}function r(){if(!t.duration||!t.timerKey)return{};const c=d.run.timers[t.timerKey];if(!c)return{background:"#333"};const u=(c.time??0)/c.duration*100,f="#486",b="#333";return{border:`1px solid ${f} !important`,background:`
    linear-gradient(
      95deg,
      ${f}, ${u}%, ${f}, ${u}%, ${b}, ${b}
      ) no-repeat`}}const s=le(()=>t.description?ee(t.description):""),i=le(()=>d.run.gold>=t.cost.gold&&d.run.fruit>=t.cost.fruit&&d.run.saplings>=t.cost.saplings);Ye(i,c=>{c&&(t.autostart||a.value)&&n()}),t.autostart&&i.value&&n();const o=le(()=>t.timerKey&&!!d.run.timers[t.timerKey]),a=He(!1);Ye(a,c=>{!t.timerKey||t.autostart||!d.run.timers[t.timerKey]||(d.run.timers[t.timerKey].automatic=c)}),Hn(()=>{t.timerKey&&d.run.timers[t.timerKey]&&(delete d.run.timers[t.timerKey],d.run.gold+=t.cost.gold,d.run.fruit+=t.cost.fruit,d.run.saplings+=t.cost.saplings)});const l=le(()=>{if(!t.duration)return"";let c=t.affectedBySpeedLevel?t.duration/d.run.speedLevel:t.duration;const u=d.currentEnemy();return u&&d.run.room.damage<u.health&&(c*=u.slowTime??1),dr(c)});return(c,u)=>(S(),$("button",{onClick:u[0]||(u[0]=f=>n()),onPointerdown:u[1]||(u[1]=f=>{a.value=!0,n()}),onPointerup:u[2]||(u[2]=f=>a.value=!1),onPointercancel:u[3]||(u[3]=f=>a.value=!1),onPointerleave:u[4]||(u[4]=f=>a.value=!1),style:ct(r()),class:fe([{"can-hold":!0,disabled:!i.value||o.value},"slow"])},[w("div",null,[w("img",{src:t.image},null,8,Id),w("div",Dd,[(S(!0),$(W,null,Ue(t.tags,f=>(S(),$("span",{class:fe(["tag",f])},null,2))),256))])]),w("div",Pd,[t.cost.gold>0?(S(),$("div",{key:0,class:fe(["cost",{unaffordable:!i.value&&!o.value}])},[U(Fa,{amount:t.cost.gold},null,8,["amount"])],2)):q("",!0),t.cost.fruit>0?(S(),$("div",{key:1,class:fe(["cost",{unaffordable:!i.value&&!o.value}])},[U(Er,{amount:t.cost.fruit},null,8,["amount"])],2)):q("",!0),t.cost.saplings>0?(S(),$("div",{key:2,class:fe(["cost",{unaffordable:!i.value&&!o.value}])},[U(Ld,{amount:t.cost.saplings},null,8,["amount"])],2)):q("",!0),w("div",Bd,ae(t.title),1),w("div",{class:"description",innerHTML:s.value},null,8,Nd),Et(w("div",{class:"duration numbers"},ae(l.value),513),[[Rt,o.value]]),e.displayDuration?(S(),$("div",Od,ae(T(dr)(t.displayDuration??0)),1)):q("",!0)])],38))}}),Bt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},bn=Bt(Hd,[["__scopeId","data-v-2556832c"]]),zd=["title"],Wd={key:0,class:"progress-text numbers"},jd={key:1,class:"progress-text numbers"},Kd=ze({__name:"Progress",props:{value:{},max:{},color:{},label:{},title:{}},setup(e){return(t,n)=>(S(),$("div",{class:"progress-container",title:t.title},[Et(w("div",{class:"progress-bar",style:ct({width:`${t.value/t.max*100}%`,backgroundColor:t.color})},null,4),[[Rt,t.value>0]]),t.value===t.max?(S(),$("div",Wd,ae(T(Ee)(t.max))+" "+ae(t.label),1)):(S(),$("div",jd,ae(T(Ee)(t.value))+" / "+ae(T(Ee)(t.max))+" "+ae(t.label),1))],8,zd))}}),Qi=Bt(Kd,[["__scopeId","data-v-07d49def"]]),Gd={key:2},ps=ze({__name:"EnemyRewards",props:{enemy:{}},setup(e){const t=e,n=le(()=>d.getRewards(t.enemy));return(r,s)=>(S(),$(W,null,[n.value.gold?(S(),Me(Fa,{key:0,amount:n.value.gold},null,8,["amount"])):q("",!0),n.value.fruit?(S(),Me(Er,{key:1,amount:n.value.fruit},null,8,["amount"])):q("",!0),!n.value.fruit&&!n.value.gold?(S(),$("span",Gd,"nothing")):q("",!0)],64))}}),qd=["src"],Ud=["src"],Vd=["src"],Fd=["src"],Yd=ze({__name:"Victory",props:{show:{type:Boolean},skelemasterion:{type:Boolean}},emits:["on-start","on-end"],setup(e,{emit:t}){const n=e,r=t;function s(i){return`images/generated/victory${n.skelemasterion?"-skelemasterion":""}${i}.webp`}return(i,o)=>(S(),Me(as,{onBeforeEnter:o[0]||(o[0]=a=>r("on-start")),onAfterLeave:o[1]||(o[1]=a=>r("on-end"))},{default:St(()=>[n.show?(S(),$("div",{key:0,class:"celebrating",style:ct({height:`${n.skelemasterion?300:200}px`})},[w("img",{class:"layer1",src:s(1),alt:"A circle of golden swords"},null,8,qd),w("img",{class:"layer2",src:s(2),alt:"A golden shield"},null,8,Ud),w("img",{class:"layer3",src:s(3),alt:"A sword with red gems"},null,8,Vd),w("img",{class:"layer4",src:s(4),alt:"A sword with blue gems"},null,8,Fd),o[2]||(o[2]=w("div",{class:"victory-text-backdrop"}," Victory! ",-1)),o[3]||(o[3]=w("div",{class:"victory-text"}," Victory! ",-1))],4)):q("",!0)]),_:1}))}}),Jd=Bt(Yd,[["__scopeId","data-v-034599dc"]]);function rt(e,t){const n=Array.isArray(t)?t:[t];return n.every(r=>e.team.unlocked.includes(r))&&!n.every(r=>e.onboard(r))}const Zd={"Stick Master":[{text:"Try swapping me for Lamplighter. You can do so on the Band page.",enabled:e=>rt(e,"Lamplighter")},{text:"I have observed that <i>armor</i> is subtracted from incoming damage.",enabled:e=>e.team.discovered.includes("Dead Gladiator")},{text:"My staff is <i>blunt</i>. And I think sometimes that's for the best."}],Lamplighter:[{text:"Good thing I brought a lamp. This must be one of the darkest dungeons I've seen."},{text:"You can <i>hold</i> a button to keep repeating an attack."},{text:"Did you know you can <i>move</i> band members without removing and re-adding them? One click to select, another click to move. Like my grandma always said.",enabled:e=>!e.team.unlocked.includes("Bayla")},{text:"Did you know you can <i>move</i> band members without removing and re-adding them? Bayla can do it even inside the dungeon.",enabled:e=>e.team.unlocked.includes("Bayla")},{text:"This game can be played with friends online. You go on adventures individually and share the persistent progress. Check the <i>Settings</i> page. You can also use this to share progress between multiple devices.",enabled:e=>!e.local.settings.online},{text:"This game is not meant to be slow. If it feels slow, try a different band composition or go in a different direction."},{text:"We can't take advantage of enemy weaknesses when Desert Rabbit is not with us.",enabled:e=>rt(e,"Desert Rabbit")},{text:"Azrekta is truly magical. Time to experiment!",enabled:e=>rt(e,"Azrekta")},{text:"At least we have enough fruit to buy more packs now.",enabled:e=>e.team.fruit+e.run.fruit>=Zt(e.team.packs+1)},{text:"I'm hungry. A band with the <i>Royal Fruitbearer</i> could collect some fruit.",enabled:e=>rt(e,["Royal Fruitbearer"])&&e.team.packs<40},{text:"I'm hungry. A band with the <i>Royal Fruitbearer</i> and the <i>Lord of Gears</i> led by the <i>Wayfinder</i> could collect some fruit without our help.",enabled:e=>rt(e,["Royal Fruitbearer","Lord of Gears","Wayfinder"])&&e.team.packs<60}],"The Silent Song":[{text:"<i>Your friend plays a wonderful folk song, very quietly.</i>"}],"The Silent Quartet":[{text:"<i>Your friends play a very quick song, very quietly.</i>"}],Coldblade:[{text:"This band is always in a hurry."}],Anvilomancer:[{text:"Without Azrekta's magic, I have to start my work over each time we enter the dungeon.",enabled:e=>e.team.unlocked.includes("Azrekta")&&!e.onboard("Anvilominator")}],"Knight of Claws":[{text:"I could fight more effectively if I had more space to move.",enabled(e){const t=e.onboard("Knight of Claws");return(t?e.emptySpacesAround(t.row,t.col).length:0)<4}}],"Royal Fruitbearer":[{text:"I ♥️ fruit"}],"Lord of Gears":[{text:"I will take care of fighting. Someone else can handle navigation.",enabled:e=>rt(e,"Wayfinder")}],Wayfinder:[{text:"Click a location on the map to set a course.",enabled:e=>!e.local.destination},{text:"I will take care of navigation. Let's find someone else to handle fighting.",enabled:e=>rt(e,"Lord of Gears")}],Campfinder:[{text:"I love camping. I love campfires. I love lighting things on fire. Like swords.",enabled:e=>!rt(e,"Kevin")},{text:"I love camping. I love Kevin.",enabled:e=>rt(e,"Kevin")}],Kevin:[{text:"I love fire. Big flaming vortices or friendly campfires. I love them all.",enabled:e=>rt(e,["Wayfinder","Azrekta"])}],Kevout:[{text:"Take a rest Campfinder. Chill out.",enabled:e=>!!e.onboard("Campfinder")}],Azrekta:[{text:"You're telling me the enemies are not <i>ethereal</i> when I'm not around? That must be so cool!"}],Mongreler:[{text:"You have to be gentle with monsters. Everyone underestimates their power. It takes tender care and patience to tame them."},{text:"I want to catch the <i>biggest monster</i>!",enabled:e=>e.team.discovered.includes("Skelemasterion")}],Bayla:[{text:"If Desert Rabbit sees an opening on the left, move me to the left so I can strike!",enabled:e=>!!e.onboard("Desert Rabbit")}],"Smiling Pilot":[{text:"I bet I would make a great wizard. <i>~eats a fly~</i>",enabled:e=>!e.onboard("Smiling Wizard")&&e.team.unlocked.includes("Azrekta")},{text:"I mimic abilities left and right. How about combining a <i>strong attack</i> and a <i>fast attack</i>?",enabled:e=>!e.onboard("Coldblade")}],"Seventh Swimmer":[{text:"Could you please drink something else?"}],"Zaktar Kadoque":[{text:"I know a creature that was once a moose."}],"Xaranthian Constructor":[{text:"Give me enough gold and a fulcrum on which to place it, and I shall blow up the world."}]},Xd=Object.entries(Zd).flatMap(([e,t])=>t.map(n=>{let r=n.text??"";return r=r.replace("fruit",'<img src="images/generated/fruit.webp" class="resource-icon" />'),r=r.replace("packs",'<img src="images/generated/pack.webp" class="resource-icon" />'),r=r.replace("gold",'<img src="images/generated/gold.webp" class="resource-icon" />'),{...n,friend:e,text:r}})),Qd={key:0,class:"enemy"},ef={key:0,class:"description"},tf=["innerHTML"],nf={key:1,class:"description"},rf={key:0,class:"description"},sf={key:1,class:"description"},of=["src","alt"],af=["innerHTML"],lf={key:"just-rescued",class:"revealed-info"},uf=["src","alt"],cf=["innerHTML"],df={key:"rescue-available",class:"fade-to-white scene"},ff={key:"rescued-earlier",class:"scene"},pf={class:"description"},hf={key:0,class:"callout"},mf=["innerHTML"],gf=["src"],bf=["innerHTML"],yf={class:"actions"},wf={key:0,class:"section"},vf={key:1,class:"section"},kf=["onClick"],xf=["src"],Sf={class:"text"},_f={class:"title"},Tf={class:"description"},Cf={class:"text"},$f={class:"description"},Mf={key:0},Af=ze({__name:"Combat",props:{testMode:{type:Boolean}},setup(e){const t=e,n=d,r=le(()=>n.currentEnemy()),s=le(()=>r.value&&n.run.room.damage<r.value.health),i=le(()=>{const h=n.currentRoom();return h.next?Object.entries(h.next).map(([m,y])=>({...y,title:m})):h.end?[]:[{...Ks,leadsTo:h.leadsTo}]}),o=le(()=>{const h=[];for(const L in n.bandByName()){const z=ye[L];z?.passiveEffects&&(typeof z.passiveEffects=="function"?h.push(...z.passiveEffects(n)):h.push(...z.passiveEffects))}if(!r.value)return h;const m=r.value.count??1,y=n.run.room.damage<r.value.health;if(r.value.eulogy&&!y)return[];const x=m>1?"":"s",N=m>1?y?"are":"were":y?"is":"was";h.push(...r.value.passiveEffects??[]);const P=Ga(r.value);if(r.value.immune){const L=[];for(const z of r.value.immune)P.includes(z)||L.push(`<span class="tag ${z}"></span><u>${z} attacks</u>`);L.length>0&&h.push(`${r.value.name} ${N} immune to ${L.join(" and ")}.`)}if(r.value.dodge&&h.push(`${r.value.name} dodge${x} attacks that take longer
      than <span class="numbers">${dr(1e3*r.value.dodge)}</span>.
      Faster attacks have a chance to hit.`),fs.value&&h.push(`Enem${m>1?"ies":"y"} ${N} ethereal${r.value.ethereal?"":" due to Azrekta's presence"}.
      Attacks ${y?"will often miss.":"have often missed."}`),X("Desert Rabbit")){const L=[];for(const z of P)["left","right","front","back"].includes(z)?L.push(`<u>attacks from the ${z}</u>`):L.push(`<span class="tag ${z}"></span><u>${z} attacks</u>`);if(L.length>0){const z=X("Desert Armadillo")?"Desert Armadillo":"Desert Rabbit";h.push(`${z} tells you that ${r.value.name} ${N} weak to ${L.join(" and ")}.`)}}return h}),a=He(void 0);Ye([n.local,()=>n.run.steps],()=>{const h=Xd.filter(x=>n.onboard(x.friend)&&(x.enabled===void 0||x.enabled(n)));if(h.length===0){a.value=void 0;return}const m=Math.floor(Math.random()*h.length),y=h[m];a.value={...y,friend:n.onboard(y.friend).name}},{immediate:!0});const l=He(!1);function c(){l.value?(Ua(),l.value=!1):l.value=!0}function u(h){return{title:h.name,description:Ka(h,js(h)),cost:zs(h),image:`images/generated/${h.image??h.name}.webp`,duration:Hs(h)*1e3,autostart:h.automatic,affectedBySpeedLevel:h.affectedBySpeedLevel??!h.peaceful,tags:X("Desert Rabbit")&&Ws(h)}}function f(h){const m=["th","st","nd","rd"],y=h%100;return`${Ee(h)}<sup>${m[(y-20)%10]||m[y]||m[0]}</sup>`}function b(h){const m=new Image;m.src=h}const v=He(!1);for(const h of["images/generated/victory1.webp","images/generated/victory2.webp","images/generated/victory3.webp","images/generated/victory4.webp","images/generated/victory-skelemasterion1.webp","images/generated/victory-skelemasterion2.webp","images/generated/victory-skelemasterion3.webp","images/generated/victory-skelemasterion4.webp"])b(h);for(const h of Object.values(ye)){b(`images/generated/${h.name}.webp`);for(const m of h.abilities??[])b(`images/generated/${m.image??m.name}.webp`);if(h.super?.name){b(`images/generated/${h.super.name}.webp`);for(const m of h.super.abilities??[])b(`images/generated/${m.image??m.name}.webp`)}}for(const h of Object.values(Pn))b(`images/generated/${h.name}.webp`);return(h,m)=>(S(),$(W,null,[r.value?(S(),$("div",Qd,[r.value.count&&r.value.count>1?(S(),$(W,{key:0},[T(n).run.room.kills<r.value.count?(S(),$("div",ef,[m[4]||(m[4]=F("Currently fighting the ")),w("span",{class:"numbers",innerHTML:f(T(n).run.room.kills+1)},null,8,tf),m[5]||(m[5]=F(" of ")),U(lt,{amount:r.value.count},null,8,["amount"])])):(S(),$("div",nf,[m[6]||(m[6]=F("Defeated ")),U(lt,{amount:r.value.count},null,8,["amount"]),m[7]||(m[7]=F("enemies! You gained ")),U(ps,{enemy:r.value},null,8,["enemy"]),m[8]||(m[8]=F(". "))]))],64)):(S(),$(W,{key:1},[r.value.health>T(n).run.room.damage?(S(),$("div",rf,"Currently fighting:")):(S(),$("div",sf,[m[9]||(m[9]=F("Defeated! You gained ")),U(ps,{enemy:r.value},null,8,["enemy"]),m[10]||(m[10]=F(". "))]))],64)),U(as,{mode:"out-in"},{default:St(()=>[!r.value.eulogy||r.value.health>T(n).run.room.damage||T(n).run.timers.celebrating?(S(),$("div",{key:"enemy-normal",class:fe({"fade-to-white":!!r.value.eulogy})},[w("h1",null,ae(r.value.name),1),(S(),$("img",{src:`images/generated/${r.value.name}.webp`,alt:r.value.name,key:r.value.name,class:fe(["enemy-portrait",{ethereal:fs.value,dead:r.value.health<=T(n).run.room.damage&&!r.value.eulogy}])},null,10,of)),U(Qi,{value:r.value.health-T(n).run.room.damage,max:r.value.health,color:"#c00",label:"HP"},null,8,["value","max"]),r.value.armor?(S(),Me(Qi,{key:0,value:r.value.armor-T(n).run.room.armorDamage,max:r.value.armor,color:"#666",label:"Armor",title:"Armor is subtracted from damage"},null,8,["value","max"])):q("",!0)],2)):(S(),$("div",{key:"enemy-eulogy",class:"revealed-info eulogy",innerHTML:r.value.eulogy(T(n))},null,8,af))]),_:1})])):q("",!0),U(as,{mode:"out-in",duration:t.testMode?0:void 0},{default:St(()=>[at.value?(S(),$("div",lf,[w("img",{src:`images/generated/${at.value?.name}.webp`,alt:at.value?.name,class:"friend"},null,8,uf),w("h1",null,ae(at.value?.name),1),m[11]||(m[11]=w("p",{class:"description is-rescued",style:{"margin-top":"0","text-align":"center",color:"#edb"}},"is rescued!",-1)),w("div",{class:"description",innerHTML:at.value?.descriptionHtml},null,8,cf)])):Xi.value?(S(),$("div",df,m[12]||(m[12]=[w("img",{src:ba,alt:"A creature in a cage"},null,-1),w("h1",null,"Prisoner found",-1),w("p",{class:"description"},"You see a hooded figure in a cage. Will you let them out?",-1)]))):pr.value?(S(),$("div",ff,[m[13]||(m[13]=w("img",{src:_c,alt:"Adventurers around a campfire"},null,-1)),m[14]||(m[14]=w("h1",null,"Camping",-1)),w("p",pf,"You rescued "+ae(pr.value?.name)+" here earlier. You stop to recover your strength. ",1),a.value&&!at.value?(S(),$("div",hf,[w("p",{class:"description",innerHTML:a.value.text},null,8,mf),w("img",{class:"friend",src:`images/generated/${a.value.friend}.webp`},null,8,gf)])):q("",!0)])):q("",!0)]),_:1},8,["duration"]),(S(!0),$(W,null,Ue(o.value,y=>(S(),$("div",{class:"passive-effect",innerHTML:y},null,8,bf))),256)),U(Jd,{show:!!T(n).run.timers.celebrating,onOnStart:m[0]||(m[0]=y=>{v.value=!0}),onOnEnd:m[1]||(m[1]=y=>{v.value=!1}),skelemasterion:r.value?.name==="Skelemasterion"},null,8,["show","skelemasterion"]),Et(w("div",yf,[(S(!0),$(W,null,Ue(Va.value,y=>(S(),$(W,{key:y.name},[T(n).run.steps>0&&(s.value||y.peaceful)?(S(),Me(bn,ss({key:0,"timer-key":`ability-${y.name}`},{ref_for:!0},u(y)),null,16,["timer-key"])):q("",!0)],64))),128)),T(n).run.capturedMonsters.length>0?(S(),$("div",wf,"Captured Monsters")):q("",!0),(S(!0),$(W,null,Ue(T(n).run.capturedMonsters,y=>(S(),$(W,{key:y},[(S(!0),$(W,null,Ue(T(Pn)[y].abilities,x=>(S(),$(W,{key:x.name},[T(n).run.steps>0&&(s.value||x.peaceful)?(S(),Me(bn,ss({key:0,"timer-key":`monster-${y}-ability-${x.name}`},{ref_for:!0},u(x)),null,16,["timer-key"])):q("",!0)],64))),128))],64))),128)),s.value?(S(),$("div",vf,"Navigation")):Xi.value?(S(),Me(bn,{key:2,"timer-key":"rescue-unlock",duration:8e3,title:"Rescue prisoner",description:"Release the poor creature.",image:"images/generated/rescue-unlock.webp"})):Xt.value?(S(),$(W,{key:3},[m[15]||(m[15]=w("div",{class:"section"},"Navigation",-1)),v.value?q("",!0):(S(),Me(bn,{key:0,"timer-key":"wayfinder-turn",duration:1e3,title:Xt.value?.title,description:Xt.value?.description,image:`images/generated/${Xt.value?.title}.webp`,autostart:!0},null,8,["title","description","image"]))],64)):(S(),$(W,{key:4},[m[16]||(m[16]=w("div",{class:"section"},"Navigation",-1)),(S(!0),$(W,null,Ue(i.value,y=>(S(),$("button",{key:y.title,onClick:x=>T(n).takeTurn(y.title)},[w("img",{src:`images/generated/${y.leadsTo&&T(n).team.discovered.includes(y.leadsTo)?T(va)[y.leadsTo].name:y.title}.webp`,class:fe({turn:!0,"leads-to":y.leadsTo&&T(n).team.discovered.includes(y.leadsTo)})},null,10,xf),w("div",Sf,[w("div",_f,ae(y.title),1),w("div",Tf,[w("p",null,ae(y.description),1)])])],8,kf))),128))],64)),T(n).run.steps>0?(S(),$("button",{key:5,onClick:m[2]||(m[2]=y=>c()),onBlur:m[3]||(m[3]=y=>l.value=!1),accesskey:"r"},[m[21]||(m[21]=w("img",{src:Tc},null,-1)),w("div",Cf,[m[20]||(m[20]=w("div",{class:"title"},"Retreat",-1)),w("div",$f,[w("p",null,[m[19]||(m[19]=F(" Leave the dungeon and return to safety. ")),T(n).run.fruit>0?(S(),$(W,{key:0},[m[17]||(m[17]=F(" You start over, but keep the ")),U(Er,{amount:T(n).run.fruit},null,8,["amount"]),m[18]||(m[18]=F(" you've collected. Spend it on your band! "))],64)):q("",!0)]),l.value?(S(),$("p",Mf,"Click again to confirm.")):q("",!0)])])],32)):q("",!0)],512),[[Rt,!v.value]])],64))}}),Ef=Bt(Af,[["__scopeId","data-v-4adb42f2"]]),Rf=""+new URL("../images/generated/ring.webp",import.meta.url).href,Lf=""+new URL("../images/generated/Campfinder.webp",import.meta.url).href,If=""+new URL("../images/generated/Wayfinder.webp",import.meta.url).href;function eo(e,t,n){if(n.length<2)return"";let r=`M ${n[0].x*t} ${n[0].y*t}`;for(let i=1;i<n.length-1;i++){const{x:o,y:a}=n[i-1],{x:l,y:c}=n[i],{x:u,y:f}=n[i+1],b=l-o,v=c-a,h=u-l,m=f-c;if(b===0&&m===0||v===0&&h===0){const y=Math.hypot(b,v),x=Math.hypot(h,m),N=Math.min(e,y/2,x/2),P=l-Math.sign(b)*N,L=c-Math.sign(v)*N,z=l+Math.sign(h)*N,Y=c+Math.sign(m)*N;r+=` L ${P*t} ${L*t}`;const se=b*m-v*h>0;r+=` A ${N*t} ${N*t} 0 0 ${se?1:0} ${z*t} ${Y*t}`}else r+=` L ${l*t} ${c*t}`}const s=n[n.length-1];return r+=` L ${s.x*t} ${s.y*t}`,r}const Df={width:"100%",height:"100%"},Pf=["d","stroke-width"],Bf=["d","stroke-width"],Nf=["cx","cy","r"],Of=["alt","onMouseenter","src","onClick"],Hf=["src","alt"],zf={key:0},Wf={class:"numbers"},jf={key:1},Kf=ze({__name:"Map",setup(e){const t=Vl("mapElement"),n=He(1),r=new ResizeObserver(()=>{t.value&&(n.value=t.value.clientWidth/800)});xr(()=>{t.value&&(n.value=t.value.clientWidth/800,r.observe(t.value))}),Hn(()=>{r.disconnect()});const s=le(()=>Dn(d.run.steps,d.run.turns).path);function i(v){return v.type.replace("rescue","pack")}function o(v,h){if(!t.value)return{display:"none"};const m=v.x*n.value,y=v.y*n.value;let x=30*n.value*(h??1);return v.type==="boss"&&(x*=1.2),v.type==="finalboss"&&(x*=2),{left:`${m-x/2}px`,top:`${y-x/2}px`,width:`${x}px`,height:`${x}px`}}function a(v){f.value=v;const h=Je(v);X("Wayfinder")&&d.team.discovered.includes(h)&&(d.local.destination=h)}const l=le(()=>eo(20,n.value,s.value)),c=le(()=>X("Wayfinder")&&d.local.destination?ya(d.local.destination):[]),u=le(()=>eo(20,n.value,c.value)),f=He(null),b=le(()=>f.value?.name?Pn[f.value.name]:null);return(v,h)=>(S(),$(W,null,[w("div",{class:"map",ref_key:"mapElement",ref:t},[h[10]||(h[10]=w("div",{class:"map-backdrop"},null,-1)),(S(),$("svg",Df,[w("path",{d:l.value,stroke:"white","stroke-width":5*n.value,fill:"none"},null,8,Pf),w("path",{d:u.value,stroke:"white","stroke-width":3*n.value,"stroke-dasharray":"3 5",fill:"none"},null,8,Bf),s.value?.[s.value.length-1]?.type==="none"?(S(),$("circle",{key:0,cx:s.value[s.value.length-1].x*n.value,cy:s.value[s.value.length-1].y*n.value,r:5*n.value,fill:"white"},null,8,Nf)):q("",!0)])),(S(!0),$(W,null,Ue(T(ke),m=>(S(),$(W,null,[m.type!=="none"?(S(),$("img",{key:0,alt:m.name,style:ct(o(m)),onMouseenter:y=>f.value=m,onMouseleave:h[0]||(h[0]=y=>f.value=null),src:`images/generated/${i(m)}-outlined.webp`,class:fe({marker:!0,undiscovered:!T(d).team.discovered.includes(T(Je)(m))}),onClick:y=>a(m)},null,46,Of)):q("",!0)],64))),256)),T(d).run.steps>0?(S(),$("img",{key:0,style:ct(o(s.value[s.value.length-1],2)),src:Rf,class:"marker ring"},null,4)):q("",!0),f.value?.name?(S(),$("div",{key:1,class:fe(["hovered-room",{right:f.value.x>407}]),style:ct({top:`${f.value.y*n.value}px`,left:`${f.value.x*n.value}px`})},[w("img",{class:fe({"friend-portrait":f.value.type==="rescue","enemy-portrait":f.value.type!=="rescue",ethereal:f.value.type!=="rescue"&&b.value?.ethereal}),src:`images/generated/${f.value.name}.webp`,alt:f.value.name},null,10,Hf),w("h1",null,ae(f.value.name),1),b.value&&T(d).team.unlocked.includes("Wayfinder")?(S(),$("p",zf,[b.value.count?(S(),$(W,{key:0},[U(lt,{amount:b.value.count},{default:St(()=>h[3]||(h[3]=[F("×")])),_:1,__:[3]},8,["amount"]),h[4]||(h[4]=F("  "))],64)):q("",!0),U(lt,{amount:b.value.health},null,8,["amount"]),h[8]||(h[8]=F("HP ")),b.value.armor?(S(),$(W,{key:1},[U(lt,{amount:b.value.armor},null,8,["amount"]),h[5]||(h[5]=F("armor "))],64)):q("",!0),b.value.dodge?(S(),$(W,{key:2},[w("span",Wf,ae(T(dr)(b.value.dodge*1e3)),1),h[6]||(h[6]=F(" dodge "))],64)):q("",!0),b.value.regen?(S(),$(W,{key:3},[U(lt,{amount:b.value.regen},null,8,["amount"]),h[7]||(h[7]=F("regeneration/s "))],64)):q("",!0)])):q("",!0),b.value?.rewards?(S(),$("p",jf,[h[9]||(h[9]=F("Rewards when defeated: ")),U(ps,{enemy:b.value},null,8,["enemy"])])):q("",!0)],6)):q("",!0)],512),T(X)("Campfinder")&&T(d).local.destination?(S(),$("button",{key:0,onClick:h[1]||(h[1]=m=>T(d).local.destination=void 0)},h[11]||(h[11]=[w("img",{src:Lf},null,-1),w("div",{class:"text"},[w("div",{class:"title"},"Stop traveling"),w("div",{class:"description"},[w("p",null,"Ask Campfinder to stop for now.")])],-1)]))):T(X)("Wayfinder")&&T(d).local.destination?(S(),$("button",{key:1,onClick:h[2]||(h[2]=m=>T(d).local.destination=void 0)},h[12]||(h[12]=[w("img",{src:If},null,-1),w("div",{class:"text"},[w("div",{class:"title"},"Stop traveling"),w("div",{class:"description"},[w("p",null,"Ask Wayfinder to stop for now.")])],-1)]))):q("",!0)],64))}}),Gf=Bt(Kf,[["__scopeId","data-v-2ca5e475"]]),Vr=ze({__name:"Packs",props:{amount:{}},setup(e){const t=e;return(n,r)=>(S(),Me(lt,{amount:t.amount},{default:St(()=>r[0]||(r[0]=[w("img",{src:In,class:"resource-icon"},null,-1)])),_:1,__:[0]},8,["amount"]))}}),qf=["onClick","aria-label"],Uf=["src"],Vf=["onClick"],Ff={key:2,class:"band-cell unavailable"},Yf={key:0,class:"band-tutorial"},Jf={key:1,class:"band-tutorial"},Zf={key:2,class:"band-tutorial"},Xf={key:3,class:"band-tutorial"},Qf={key:4,class:"band-tutorial"},ep={key:5,class:"band-tutorial"},tp=["src"],np={key:0,class:"description",style:{color:"#edb","margin-bottom":"0"}},rp={key:1,class:"description",style:{color:"#edb","margin-bottom":"0"}},sp={class:"below-grid"},ip={class:"band-unlocked"},op=["onClick","onFocus","aria-label"],ap=["src"],lp={key:0,class:"band-details"},up=["src"],cp=["innerHTML"],dp=ze({__name:"Band",setup(e){const t=He(void 0);function n(h,m){const y=qe(h,m);return y?`images/generated/${vt("Azrekta",h,m)&&y.super?.name||y.name}.webp`:void 0}function r(h){const m=X(h);return h==="Lamplighter"?v.value&&!m:v.value?!0:m?h==="Bayla"||!!X("Baylanda"):!1}function s(h,m,y){if(!r(y))return;const x=X(y),N=ye[y]?.cost??0;x?(i(x.row,x.col),d.available(h,m)&&(d.local.band[m+h*d.local.band.width]=y),o()):d.team.packs>=c.value+N&&d.available(h,m)&&(d.local.band[m+h*d.local.band.width]=y)}function i(h,m){const y=m+h*d.local.band.width;delete d.local.band[y]}function o(){const h=d.local.band;for(let m=0;m<h.height;m++)for(let y=0;y<h.width;y++)if(!d.available(m,y)){const x=y+m*h.width;h[x]&&i(m,y)}}const a=le(()=>{const h=d.local.band;for(let m=0;m<h.height;m++)for(let y=0;y<h.width;y++){const x=y+m*h.width,N=h[x],P=ye[N];if(N===t.value)return vt("Azrekta",m,y)?{...P,...P.super}:P}return t.value?ye[t.value]:void 0});function l(h,m){const y=qe(h,m);t.value!==y?.name?t.value=y?.name:v.value&&(i(h,m),o())}const c=le(()=>{let h=0;for(const m of Object.values(d.local.band)){const y=ye[m];y&&(h+=y.cost)}return h}),u=le(()=>{const h=[],m=d.local.band;for(let y=0;y<m.height;y++)for(let x=0;x<m.width;x++){const N=x+y*m.width,P=m[N];if(!P)continue;const L=ye[P],z="chain";for(const Y of["Azrekta","Lord of Gears","The Silent Song","Campfinder"]){if(Y==="Azrekta"&&!L.super||(Y==="Lord of Gears"||Y==="The Silent Song")&&!L.abilities&&!L.super?.abilities)continue;const se=vt(Y,y,x);se&&h.push({image:z,style:se[0]===y?`left: ${(x+se[1]+1)*103/2-15}px; top: ${(y+.5)*103-15}px; transform: rotate(90deg);`:`left: ${(x+.5)*103-15}px; top: ${(y+se[0]+1)*103/2-15}px;`})}if(P==="Knight of Claws")for(const Y of d.emptySpacesAround(y,x))h.push({image:z,style:Y.row===y?`left: ${(x+Y.col+1)*103/2-15}px; top: ${(y+.5)*103-15}px; transform: rotate(90deg);`:`left: ${(x+.5)*103-15}px; top: ${(y+Y.row+1)*103/2-15}px;`});else if(P==="Smiling Pilot"){if(L.abilities?.every(Y=>Y.hidden?.(d)))continue;h.push({image:z,style:`left: ${(x+1)*103-15}px; top: ${(y+.5)*103-15}px; transform: rotate(90deg);`}),h.push({image:z,style:`left: ${x*103-15}px; top: ${(y+.5)*103-15}px; transform: rotate(90deg);`})}}return h}),f=le(()=>{const h=new Set(Object.values(d.local.band)),m=d.team.unlocked.filter(y=>!h.has(y));return m.sort((y,x)=>ye[y].cost-ye[x].cost),m});function b(){const h=Zt(d.team.packs+1);d.team.fruit+d.run.fruit<h||(d.team.fruit<h&&(d.run.fruit-=h-d.team.fruit,d.team.fruit=h),d.team.packs+=1)}const v=le(()=>d.run.steps===0?!0:X("Wayfinder")?d.currentRoom().type==="rescue":!1);return(h,m)=>(S(),$(W,null,[w("p",null,[m[3]||(m[3]=F(" The ")),m[4]||(m[4]=w("u",{contenteditable:"true"},"Unnamed Band",-1)),m[5]||(m[5]=F(" is assembled at a total cost of ")),U(Vr,{amount:c.value},null,8,["amount"]),m[6]||(m[6]=F(", leaving you with ")),U(Vr,{amount:T(d).team.packs-c.value},null,8,["amount"]),m[7]||(m[7]=F(" to hire more members. ")),w("button",{class:fe(["buy-pack-button",{unaffordable:T(d).team.fruit+T(d).run.fruit<T(Zt)(T(d).team.packs+1)}]),onClick:m[0]||(m[0]=y=>b())},[m[1]||(m[1]=F("Buy ")),U(Vr,{amount:1}),m[2]||(m[2]=F(" for ")),U(Er,{amount:T(Zt)(T(d).team.packs+1)-T(Zt)(T(d).team.packs)},null,8,["amount"])],2)]),w("div",{class:fe(["band-grid",{enabled:v.value,disabled:!v.value}])},[w("img",{class:fe(["light-ring",T(d).lightRadius()]),src:"images/generated/light-ring.webp"},null,2),(S(!0),$(W,null,Ue(T(d).local.band.height,(y,x)=>(S(),$("div",{class:"band-row",key:x},[(S(!0),$(W,null,Ue(T(d).local.band.width,(N,P)=>(S(),$(W,{key:P},[T(qe)(x,P)?(S(),$("button",{key:0,class:fe(["band-cell",{unavailable:!T(d).available(x,P)}]),onClick:L=>l(x,P),"aria-label":T(qe)(x,P)?.name??""},[T(qe)(x,P)?(S(),$("img",{key:0,src:n(x,P)},null,8,Uf)):q("",!0)],10,qf)):T(d).available(x,P)?(S(),$("button",{key:1,class:"band-cell",onClick:L=>t.value&&s(x,P,t.value),"aria-label":"+"}," ＋ ",8,Vf)):(S(),$("button",Ff)),x===2&&P===2&&T(d).team.unlocked.includes("Lamplighter")?(S(),$(W,{key:3},[T(qe)(x,P)?.name==="Stick Master"&&!v.value?(S(),$("div",Yf," Retreat to make changes to the band ")):T(qe)(x,P)?.name==="Stick Master"&&t.value!=="Stick Master"?(S(),$("div",Jf," Click me to select me ")):T(qe)(x,P)?.name==="Stick Master"&&t.value==="Stick Master"?(S(),$("div",Zf," Click me again to remove me from the band ")):!T(qe)(x,P)&&(t.value==="Stick Master"||!t.value)?(S(),$("div",Xf," Select someone below to add them to the band ")):!T(qe)(x,P)&&T(d).team.packs>=c.value+(T(ye)[t.value??""]?.cost??0)&&T(d).available(x,P)?(S(),$("div",Qf," Click here to add "+ae(t.value)+" to the band ",1)):T(qe)(x,P)?q("",!0):(S(),$("div",ep,[m[8]||(m[8]=F(" Buy more ")),m[9]||(m[9]=w("img",{src:In,class:"resource-icon"},null,-1)),F(" to afford adding "+ae(t.value)+" to the band ",1)]))],64)):q("",!0)],64))),128))]))),128)),(S(!0),$(W,null,Ue(u.value,y=>(S(),$("img",{class:"chain",src:`images/generated/${y.image}.webp`,style:ct(y.style)},null,12,tp))),256))],2),v.value?(S(),$("p",np," You can change your band here. Tap members to select or remove them. Tap empty spaces to move or add the selected member. ")):(S(),$("p",rp," You cannot change your band now. The dungeon is dangerous. Retreat to a safe place to make changes. ")),w("div",sp,[Et(w("div",ip,[(S(!0),$(W,null,Ue(f.value,y=>(S(),$("button",{key:y,class:fe(["band-cell",{unaffordable:T(d).team.packs<T(ye)[y].cost+c.value}]),onClick:x=>t.value=y,onFocus:x=>t.value=y,"aria-label":y},[w("img",{src:`images/generated/${y}.webp`},null,8,ap)],42,op))),128))],512),[[Rt,f.value.length>0]]),t.value&&a.value?(S(),$("div",lp,[w("div",{class:fe(["friend-cost numbers",{unaffordable:T(d).team.packs<a.value.cost+c.value&&!T(X)(t.value)}])},[F(ae(a.value?.cost??0)+" ",1),m[10]||(m[10]=w("img",{src:In,class:"resource-icon"},null,-1))],2),w("img",{class:"friend",src:`images/generated/${a.value.name}.webp`},null,8,up),w("h1",null,ae(a.value.name),1),w("div",{class:"description",innerHTML:a.value.descriptionHtml},null,8,cp),(S(!0),$(W,null,Ue(a.value.abilities,y=>(S(),$(W,{key:y.name},[y.hidden?.(T(d))?q("",!0):(S(),Me(bn,{key:0,title:y.name,"display-duration":typeof y.duration=="number"?1e3*y.duration:void 0,description:T(Ka)(y,{hitChance:1,damageMultiplier:1,baseMultiplier:1,enemyMultiplier:1,rndHits:()=>1}),image:`images/generated/${y.image??y.name}.webp`,cost:T(zs)(y),tags:T(X)("Desert Rabbit")&&T(Ws)({...y,source:T(X)(t.value)})},null,8,["title","display-duration","description","image","cost","tags"]))],64))),128))])):q("",!0)])],64))}}),fp=Bt(dp,[["__scopeId","data-v-bbf8dda9"]]),pp=""+new URL("../images/generated/copy-link.webp",import.meta.url).href,hp=""+new URL("../images/generated/blur-images.webp",import.meta.url).href,mp=""+new URL("../images/generated/reset.webp",import.meta.url).href,gp="2025-09-08 21:47:10",bp={date:gp},yp={class:"actions"},wp=["src"],vp={class:"text"},kp={class:"title"},xp={class:"text"},Sp={class:"title"},_p={class:"text"},Tp={class:"description"},Cp={key:0},$p={key:1},Mp={class:"credits"},Ap=ze({__name:"Settings",setup(e){function t(){i.value<2?i.value++:(localStorage.clear(),window.location.reload())}async function n(){d.local.settings.online=!d.local.settings.online,d.local.settings.online&&(d.local.settings.teamId||(d.local.settings.teamId=await bd()))}async function r(){const o=`${window.location.href}?join=${d.local.settings.teamId}`;console.log(o),await navigator.clipboard.writeText(o)}function s(){d.team.unlocked=Da.map(o=>o.name),d.team.discovered=ke.map(Je)}const i=He(0);return(o,a)=>(S(),$("div",yp,[w("button",{onClick:a[0]||(a[0]=l=>n())},[w("img",{src:`images/generated/${T(d).local.settings.online?"on":"off"}line.webp`},null,8,wp),w("div",vp,[w("div",kp,ae(T(d).local.settings.online?"Disable online features":"Enable online features"),1),a[6]||(a[6]=w("div",{class:"description"},[w("p",null,"When enabled, you can play Bands & Bonds with friends."),w("p",null,"You share persistent progress, and everyone can go on dungeon runs independently.")],-1))])]),T(d).local.settings.online&&T(d).local.settings.teamId?(S(),$("button",{key:0,onClick:a[1]||(a[1]=l=>r())},a[7]||(a[7]=[w("img",{src:pp},null,-1),w("div",{class:"text"},[w("div",{class:"title"},"Copy invite link"),w("div",{class:"description"},[w("p",null,"Share this link with a friend to let them join your team.")])],-1)]))):q("",!0),w("button",{onClick:a[2]||(a[2]=l=>T(d).local.settings.blurImages=!T(d).local.settings.blurImages)},[a[9]||(a[9]=w("img",{src:hp},null,-1)),w("div",xp,[w("div",Sp,ae(T(d).local.settings.blurImages?"Unblur images":"Blur images"),1),a[8]||(a[8]=w("div",{class:"description"},[w("p",null,"All images in this prototype are AI generated. If you would rather not see them, turn on blurring.")],-1))])]),a[16]||(a[16]=w("div",{class:"section"},"Developer tools",-1)),w("button",{onClick:a[3]||(a[3]=l=>t())},[a[12]||(a[12]=w("img",{src:mp},null,-1)),w("div",_p,[a[11]||(a[11]=w("div",{class:"title"},"Reset data",-1)),w("div",Tp,[a[10]||(a[10]=w("p",null," Throw away all your progress and start over. ",-1)),i.value>=1?(S(),$("p",Cp," Click again if you are sure. ")):q("",!0),i.value>=2?(S(),$("p",$p," Click again if you are super sure. ")):q("",!0)])])]),w("button",{onClick:a[4]||(a[4]=l=>T(d).team.fruit*=2)},a[13]||(a[13]=[w("img",{src:In},null,-1),w("div",{class:"text"},[w("div",{class:"title"},"Help I'm stuck"),w("div",{class:"description"},[w("p",null,"If you want to skip ahead, you can cheat and double your fruit.")])],-1)])),w("button",{onClick:a[5]||(a[5]=l=>s())},a[14]||(a[14]=[w("img",{src:ba},null,-1),w("div",{class:"text"},[w("div",{class:"title"},"Unlock everything"),w("div",{class:"description"},[w("p",null,"Unlocks all characters. Definitely spoils the game.")])],-1)])),a[17]||(a[17]=w("div",{class:"section"},"Credits",-1)),w("div",Mp,[a[15]||(a[15]=Ou(' A game prototype by <a href="mailto:daniel.darabos@gmail.com" target="_blank" data-v-b385d464>Daniel Darabos</a>. All images were created with <a href="https://sana.hanlab.ai/" target="_blank" data-v-b385d464>Sana</a>. The map was drawn in <a href="https://www.dungeonscrawl.com/" target="_blank" data-v-b385d464>DungeonScrawl</a> and brought to life using <a href="https://huggingface.co/spaces/multimodalart/flux-style-shaping" target="_blank" data-v-b385d464>FLUX Style Shaping</a>. The fonts used are <a href="https://fonts.google.com/specimen/Grenze+Gotisch" target="_blank" data-v-b385d464>Grenze Gotisch</a>, <a href="https://fonts.google.com/specimen/Bellefair" target="_blank" data-v-b385d464>Bellefair</a>, and <a href="https://fonts.google.com/specimen/Germania+One" target="_blank" data-v-b385d464>Germania One</a>. <a href="https://appwrite.io/" target="_blank" data-v-b385d464>Appwrite</a> provides the database for the online features. Written in TypeScript using <a href="https://vuejs.org/" target="_blank" data-v-b385d464>Vue.js</a> and <a href="https://vite.dev/" target="_blank" data-v-b385d464>Vite</a>. See the source code on <a href="https://github.com/darabos/bands-and-bonds/" target="_blank" data-v-b385d464>GitHub</a>',22)),F(". Last updated on "+ae(T(bp).date)+". ",1)])]))}}),Ep=Bt(Ap,[["__scopeId","data-v-b385d464"]]),Rp={class:"header"},Lp={class:"header-header"},Ip={id:"header-gold",class:"numbers"},Dp={id:"header-fruit",class:"numbers"},Pp={class:"tabs"},Bp={class:"page-container"},Np={class:"page-container"},Op={class:"page-container"},Hp={class:"page-container"},zp=ze({__name:"App",setup(e){const t=He(null),n=He(performance.now()),r=He(performance.now()),s=He(performance.now()),i=localStorage.getItem("bnb-current-page"),o=He(i??"combat");Ye(o,f=>{localStorage.setItem("bnb-current-page",f)});function a(){const f=performance.now();let b=0,v=100;for(;n.value<f&&performance.now()<f+200;)c(Math.min(n.value+v,f)),b++,v=Math.floor(v*1.1);b>1&&console.log(`Caught up ${b} frames.`),t.value=requestAnimationFrame(a)}const l=window.location.search.includes("test");function c(f){let b=f;d.run.skipTime&&(b+=d.run.skipTime,d.run.skipTime=0);let v=b-n.value;const h=l?100:1;v*=h;const m=d.currentEnemy();m&&d.run.room.damage<m.health&&(v/=m?.slowTime??1);for(const[y,x]of Object.entries(d.run.timers)){x.time??=0,x.affectedBySpeedLevel?x.time+=v*d.run.speedLevel:x.time+=v;const N=Math.floor(x.time/x.duration);N>0&&(x.time-=x.duration*N,d.timerFinished(y,x,N))}if(m&&d.run.room.damage<m.health){const y=h*((m.regen??0)-d.run.room.poison),x=(b-r.value)*y/1e3;x>1?(d.run.room.damage=Math.max(0,d.run.room.damage-Math.floor(x)),r.value+=Math.floor(x)/y*1e3):x<-1?(d.addDamage(Math.floor(-x),1,{ignoreArmor:!0}),r.value-=Math.floor(-x)/y*1e3):x===0&&(r.value=f)}if(d.run.saplings>0){const y=h*d.run.saplings*d.fruitMultiplier(),x=(b-s.value)*y/1e3;x>1&&(d.run.fruit+=Math.floor(x),s.value+=Math.floor(x)*1e3/y)}else s.value=f;n.value=f}const u=le(()=>d.team.fruit+d.run.fruit-Zt(d.team.packs));return xr(()=>{t.value=requestAnimationFrame(a)}),Hn(()=>{t.value&&cancelAnimationFrame(t.value)}),(f,b)=>(S(),$("div",{style:{display:"contents"},class:fe([{"blur-images":T(d).local.settings.blurImages,"test-mode":T(l)},"app"])},[w("div",Rp,[w("div",Lp,[w("div",Ip,[T(d).run.gold?(S(),$(W,{key:0},[b[4]||(b[4]=w("img",{src:ha,class:"header-icon"},null,-1)),F(" "+ae(T(Ee)(T(d).run.gold)),1)],64)):q("",!0),T(d).run.saplings?(S(),$(W,{key:1},[b[5]||(b[5]=F("  ")),b[6]||(b[6]=w("img",{src:ma,class:"header-icon"},null,-1)),F(" "+ae(T(Ee)(T(d).run.saplings)),1)],64)):q("",!0)]),b[9]||(b[9]=w("div",{class:"logo title"},[w("img",{src:$i,alt:"B"}),F("ands "),w("span",{style:{color:"#edb"}}," & "),w("img",{src:$i,alt:"B"}),F("onds ")],-1)),w("div",Dp,[u.value?(S(),$(W,{key:0},[F(ae(T(Ee)(u.value))+" ",1),b[7]||(b[7]=w("img",{src:ga,class:"header-icon",title:"Gold spoils. Fruit is forever."},null,-1))],64)):q("",!0),F("   "+ae(T(Ee)(T(d).team.packs))+" ",1),b[8]||(b[8]=w("img",{src:In,class:"header-icon"},null,-1))])]),w("div",Pp,[w("button",{class:fe({selected:o.value==="combat"}),onClick:b[0]||(b[0]=v=>o.value="combat")},"Fight",2),w("button",{class:fe({selected:o.value==="map"}),onClick:b[1]||(b[1]=v=>o.value="map")},"Map",2),w("button",{class:fe({selected:o.value==="band"}),onClick:b[2]||(b[2]=v=>o.value="band")},"Band",2),w("button",{class:fe({selected:o.value==="settings"}),onClick:b[3]||(b[3]=v=>o.value="settings")},"Settings",2)])]),Et(w("div",Bp,[U(Ef,{testMode:T(l)},null,8,["testMode"])],512),[[Rt,o.value==="combat"]]),Et(w("div",Np,[U(Gf)],512),[[Rt,o.value==="map"]]),Et(w("div",Op,[U(fp)],512),[[Rt,o.value==="band"]]),Et(w("div",Hp,[U(Ep)],512),[[Rt,o.value==="settings"]])],2))}}),Wp=Bt(zp,[["__scopeId","data-v-ba302a5d"]]),to=new URLSearchParams(window.location.search);if(to.has("join")){const e=localStorage.getItem("bnb-local"),t=e?JSON.parse(e):ja();t.settings.teamId=to.get("join"),t.settings.online=!0,localStorage.setItem("bnb-local",JSON.stringify(t)),window.location.search=""}kc(Wp).mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js").catch(e=>console.error("SW registration failed:",e))});
